{"version":3,"file":"ig_screenshot.min.js","sources":["ig_screenshot.js"],"sourcesContent":["var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar _global = createCommonjsModule(function (module) {\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n});\n\nvar _core = createCommonjsModule(function (module) {\nvar core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n});\n\nvar _aFunction = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n// optional / simple context binding\n\nvar _ctx = function (fn, that, length) {\n  _aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\nvar _isObject = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\nvar _anObject = function (it) {\n  if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\nvar _fails = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n// Thank's IE8 for his funny defineProperty\nvar _descriptors = !_fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\nvar document$1 = _global.document;\n// typeof document.createElement is 'object' in old IE\nvar is = _isObject(document$1) && _isObject(document$1.createElement);\nvar _domCreate = function (it) {\n  return is ? document$1.createElement(it) : {};\n};\n\nvar _ie8DomDefine = !_descriptors && !_fails(function () {\n  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\n\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nvar _toPrimitive = function (it, S) {\n  if (!_isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\nvar dP = Object.defineProperty;\n\nvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  _anObject(O);\n  P = _toPrimitive(P, true);\n  _anObject(Attributes);\n  if (_ie8DomDefine) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\nvar _objectDp = {\n\tf: f\n};\n\nvar _propertyDesc = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar _hide = _descriptors ? function (object, key, value) {\n  return _objectDp.f(object, key, _propertyDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] : (_global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? _ctx(out, _global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) _hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nvar _export = $export;\n\nvar hasOwnProperty = {}.hasOwnProperty;\nvar _has = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\nvar toString = {}.toString;\n\nvar _cof = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n// eslint-disable-next-line no-prototype-builtins\nvar _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return _cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n// 7.2.1 RequireObjectCoercible(argument)\nvar _defined = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\nvar _toIobject = function (it) {\n  return _iobject(_defined(it));\n};\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nvar _toInteger = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n// 7.1.15 ToLength\n\nvar min = Math.min;\nvar _toLength = function (it) {\n  return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\nvar max = Math.max;\nvar min$1 = Math.min;\nvar _toAbsoluteIndex = function (index, length) {\n  index = _toInteger(index);\n  return index < 0 ? max(index + length, 0) : min$1(index, length);\n};\n\n// false -> Array#indexOf\n// true  -> Array#includes\n\n\n\nvar _arrayIncludes = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = _toIobject($this);\n    var length = _toLength(O.length);\n    var index = _toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nvar SHARED = '__core-js_shared__';\nvar store = _global[SHARED] || (_global[SHARED] = {});\nvar _shared = function (key) {\n  return store[key] || (store[key] = {});\n};\n\nvar id = 0;\nvar px = Math.random();\nvar _uid = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\nvar shared = _shared('keys');\n\nvar _sharedKey = function (key) {\n  return shared[key] || (shared[key] = _uid(key));\n};\n\nvar arrayIndexOf = _arrayIncludes(false);\nvar IE_PROTO = _sharedKey('IE_PROTO');\n\nvar _objectKeysInternal = function (object, names) {\n  var O = _toIobject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (_has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n// IE 8- don't enum bug keys\nvar _enumBugKeys = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n\nvar _objectKeys = Object.keys || function keys(O) {\n  return _objectKeysInternal(O, _enumBugKeys);\n};\n\nvar f$1 = Object.getOwnPropertySymbols;\n\nvar _objectGops = {\n\tf: f$1\n};\n\nvar f$2 = {}.propertyIsEnumerable;\n\nvar _objectPie = {\n\tf: f$2\n};\n\n// 7.1.13 ToObject(argument)\n\nvar _toObject = function (it) {\n  return Object(_defined(it));\n};\n\n'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\n\n\n\n\n\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nvar _objectAssign = !$assign || _fails(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = _toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = _objectGops.f;\n  var isEnum = _objectPie.f;\n  while (aLen > index) {\n    var S = _iobject(arguments[index++]);\n    var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n// 19.1.3.1 Object.assign(target, source)\n\n\n_export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\nvar assign$2 = _core.Object.assign;\n\nvar assign = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": assign$2, __esModule: true };\n});\n\nunwrapExports(assign);\n\nvar _extends = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nexports.__esModule = true;\n\n\n\nvar _assign2 = _interopRequireDefault(assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n});\n\nvar _extends$1 = unwrapExports(_extends);\n\n// true  -> String#at\n// false -> String#codePointAt\nvar _stringAt = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(_defined(that));\n    var i = _toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\nvar _library = true;\n\nvar _redefine = _hide;\n\nvar _iterators = {};\n\nvar _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n  _anObject(O);\n  var keys = _objectKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) _objectDp.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\nvar document$2 = _global.document;\nvar _html = document$2 && document$2.documentElement;\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\n\nvar IE_PROTO$1 = _sharedKey('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE$1 = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = _domCreate('iframe');\n  var i = _enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  _html.appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE$1][_enumBugKeys[i]];\n  return createDict();\n};\n\nvar _objectCreate = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE$1] = _anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE$1] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO$1] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : _objectDps(result, Properties);\n};\n\nvar _wks = createCommonjsModule(function (module) {\nvar store = _shared('wks');\n\nvar Symbol = _global.Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n});\n\nvar def = _objectDp.f;\n\nvar TAG = _wks('toStringTag');\n\nvar _setToStringTag = function (it, tag, stat) {\n  if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n'use strict';\n\n\n\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n_hide(IteratorPrototype, _wks('iterator'), function () { return this; });\n\nvar _iterCreate = function (Constructor, NAME, next) {\n  Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });\n  _setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\n\nvar IE_PROTO$2 = _sharedKey('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nvar _objectGpo = Object.getPrototypeOf || function (O) {\n  O = _toObject(O);\n  if (_has(O, IE_PROTO$2)) return O[IE_PROTO$2];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n'use strict';\n\n\n\n\n\n\n\n\n\nvar ITERATOR = _wks('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nvar _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  _iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = _objectGpo($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      _setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!_library && !_has(IteratorPrototype, ITERATOR)) _hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!_library || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    _hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  _iterators[NAME] = $default;\n  _iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) _redefine(proto, key, methods[key]);\n    } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n'use strict';\nvar $at = _stringAt(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n_iterDefine(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\nvar _iterStep = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n'use strict';\n\n\n\n\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nvar es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {\n  this._t = _toIobject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return _iterStep(1);\n  }\n  if (kind == 'keys') return _iterStep(0, index);\n  if (kind == 'values') return _iterStep(0, O[index]);\n  return _iterStep(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n_iterators.Arguments = _iterators.Array;\n\nvar TO_STRING_TAG = _wks('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i$1 = 0; i$1 < DOMIterables.length; i$1++) {\n  var NAME = DOMIterables[i$1];\n  var Collection = _global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) _hide(proto, TO_STRING_TAG, NAME);\n  _iterators[NAME] = _iterators.Array;\n}\n\nvar f$3 = _wks;\n\nvar _wksExt = {\n\tf: f$3\n};\n\nvar iterator$2 = _wksExt.f('iterator');\n\nvar iterator = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": iterator$2, __esModule: true };\n});\n\nunwrapExports(iterator);\n\nvar _meta = createCommonjsModule(function (module) {\nvar META = _uid('meta');\n\n\nvar setDesc = _objectDp.f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !_fails(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!_isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!_has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!_has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !_has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n});\n\nvar defineProperty = _objectDp.f;\nvar _wksDefine = function (name) {\n  var $Symbol = _core.Symbol || (_core.Symbol = _library ? {} : _global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: _wksExt.f(name) });\n};\n\n// all enumerable object keys, includes symbols\n\n\n\nvar _enumKeys = function (it) {\n  var result = _objectKeys(it);\n  var getSymbols = _objectGops.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = _objectPie.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n// 7.2.2 IsArray(argument)\n\nvar _isArray = Array.isArray || function isArray(arg) {\n  return _cof(arg) == 'Array';\n};\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n\nvar hiddenKeys = _enumBugKeys.concat('length', 'prototype');\n\nvar f$5 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return _objectKeysInternal(O, hiddenKeys);\n};\n\nvar _objectGopn = {\n\tf: f$5\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\nvar gOPN$1 = _objectGopn.f;\nvar toString$1 = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN$1(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nvar f$4 = function getOwnPropertyNames(it) {\n  return windowNames && toString$1.call(it) == '[object Window]' ? getWindowNames(it) : gOPN$1(_toIobject(it));\n};\n\nvar _objectGopnExt = {\n\tf: f$4\n};\n\nvar gOPD$1 = Object.getOwnPropertyDescriptor;\n\nvar f$6 = _descriptors ? gOPD$1 : function getOwnPropertyDescriptor(O, P) {\n  O = _toIobject(O);\n  P = _toPrimitive(P, true);\n  if (_ie8DomDefine) try {\n    return gOPD$1(O, P);\n  } catch (e) { /* empty */ }\n  if (_has(O, P)) return _propertyDesc(!_objectPie.f.call(O, P), O[P]);\n};\n\nvar _objectGopd = {\n\tf: f$6\n};\n\n'use strict';\n// ECMAScript 6 symbols shim\n\n\n\n\n\nvar META = _meta.KEY;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar gOPD = _objectGopd.f;\nvar dP$1 = _objectDp.f;\nvar gOPN = _objectGopnExt.f;\nvar $Symbol = _global.Symbol;\nvar $JSON = _global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE$2 = 'prototype';\nvar HIDDEN = _wks('_hidden');\nvar TO_PRIMITIVE = _wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = _shared('symbol-registry');\nvar AllSymbols = _shared('symbols');\nvar OPSymbols = _shared('op-symbols');\nvar ObjectProto$1 = Object[PROTOTYPE$2];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = _global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE$2] || !QObject[PROTOTYPE$2].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = _descriptors && _fails(function () {\n  return _objectCreate(dP$1({}, 'a', {\n    get: function () { return dP$1(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto$1, key);\n  if (protoDesc) delete ObjectProto$1[key];\n  dP$1(it, key, D);\n  if (protoDesc && it !== ObjectProto$1) dP$1(ObjectProto$1, key, protoDesc);\n} : dP$1;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _objectCreate($Symbol[PROTOTYPE$2]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto$1) $defineProperty(OPSymbols, key, D);\n  _anObject(it);\n  key = _toPrimitive(key, true);\n  _anObject(D);\n  if (_has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!_has(it, HIDDEN)) dP$1(it, HIDDEN, _propertyDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (_has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _objectCreate(D, { enumerable: _propertyDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP$1(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  _anObject(it);\n  var keys = _enumKeys(P = _toIobject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _objectCreate(it) : $defineProperties(_objectCreate(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = _toPrimitive(key, true));\n  if (this === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return false;\n  return E || !_has(this, key) || !_has(AllSymbols, key) || _has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = _toIobject(it);\n  key = _toPrimitive(key, true);\n  if (it === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && _has(AllSymbols, key) && !(_has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(_toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!_has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto$1;\n  var names = gOPN(IS_OP ? OPSymbols : _toIobject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (_has(AllSymbols, key = names[i++]) && (IS_OP ? _has(ObjectProto$1, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = _uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto$1) $set.call(OPSymbols, value);\n      if (_has(this, HIDDEN) && _has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, _propertyDesc(1, value));\n    };\n    if (_descriptors && setter) setSymbolDesc(ObjectProto$1, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  _redefine($Symbol[PROTOTYPE$2], 'toString', function toString() {\n    return this._k;\n  });\n\n  _objectGopd.f = $getOwnPropertyDescriptor;\n  _objectDp.f = $defineProperty;\n  _objectGopn.f = _objectGopnExt.f = $getOwnPropertyNames;\n  _objectPie.f = $propertyIsEnumerable;\n  _objectGops.f = $getOwnPropertySymbols;\n\n  if (_descriptors && !_library) {\n    _redefine(ObjectProto$1, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  _wksExt.f = function (name) {\n    return wrap(_wks(name));\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)_wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = _objectKeys(_wks.store), k = 0; wellKnownSymbols.length > k;) _wksDefine(wellKnownSymbols[k++]);\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return _has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n_export(_export.S + _export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && _export(_export.S + _export.F * (!USE_NATIVE || _fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !_isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE$2][TO_PRIMITIVE] || _hide($Symbol[PROTOTYPE$2], TO_PRIMITIVE, $Symbol[PROTOTYPE$2].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\n_setToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\n_setToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\n_setToStringTag(_global.JSON, 'JSON', true);\n\n_wksDefine('asyncIterator');\n\n_wksDefine('observable');\n\nvar symbol$2 = _core.Symbol;\n\nvar symbol = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": symbol$2, __esModule: true };\n});\n\nunwrapExports(symbol);\n\nvar _typeof_1 = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nexports.__esModule = true;\n\n\n\nvar _iterator2 = _interopRequireDefault(iterator);\n\n\n\nvar _symbol2 = _interopRequireDefault(symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n});\n\nvar _typeof = unwrapExports(_typeof_1);\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\n\nvar TAG$1 = _wks('toStringTag');\n// ES3 wrong here\nvar ARG = _cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nvar _classof = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T\n    // builtinTag case\n    : ARG ? _cof(O)\n    // ES3 arguments fallback\n    : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\nvar _anInstance = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n// call something on iterator step with safe closing on error\n\nvar _iterCall = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(_anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) _anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n// check on default Array iterator\n\nvar ITERATOR$1 = _wks('iterator');\nvar ArrayProto = Array.prototype;\n\nvar _isArrayIter = function (it) {\n  return it !== undefined && (_iterators.Array === it || ArrayProto[ITERATOR$1] === it);\n};\n\nvar ITERATOR$2 = _wks('iterator');\n\nvar core_getIteratorMethod = _core.getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR$2]\n    || it['@@iterator']\n    || _iterators[_classof(it)];\n};\n\nvar _forOf = createCommonjsModule(function (module) {\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : core_getIteratorMethod(iterable);\n  var f = _ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (_isArrayIter(iterFn)) for (length = _toLength(iterable.length); length > index; index++) {\n    result = entries ? f(_anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = _iterCall(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n});\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\n\nvar SPECIES = _wks('species');\nvar _speciesConstructor = function (O, D) {\n  var C = _anObject(O).constructor;\n  var S;\n  return C === undefined || (S = _anObject(C)[SPECIES]) == undefined ? D : _aFunction(S);\n};\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nvar _invoke = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\nvar process$1 = _global.process;\nvar setTask = _global.setImmediate;\nvar clearTask = _global.clearImmediate;\nvar MessageChannel = _global.MessageChannel;\nvar Dispatch = _global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer;\nvar channel;\nvar port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      _invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (_cof(process$1) == 'process') {\n    defer = function (id) {\n      process$1.nextTick(_ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(_ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = _ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (_global.addEventListener && typeof postMessage == 'function' && !_global.importScripts) {\n    defer = function (id) {\n      _global.postMessage(id + '', '*');\n    };\n    _global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in _domCreate('script')) {\n    defer = function (id) {\n      _html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE] = function () {\n        _html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(_ctx(run, id, 1), 0);\n    };\n  }\n}\nvar _task = {\n  set: setTask,\n  clear: clearTask\n};\n\nvar macrotask = _task.set;\nvar Observer = _global.MutationObserver || _global.WebKitMutationObserver;\nvar process$2 = _global.process;\nvar Promise = _global.Promise;\nvar isNode$1 = _cof(process$2) == 'process';\n\nvar _microtask = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode$1 && (parent = process$2.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode$1) {\n    notify = function () {\n      process$2.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(_global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\n\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = _aFunction(resolve);\n  this.reject = _aFunction(reject);\n}\n\nvar f$7 = function (C) {\n  return new PromiseCapability(C);\n};\n\nvar _newPromiseCapability = {\n\tf: f$7\n};\n\nvar _perform = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\nvar _promiseResolve = function (C, x) {\n  _anObject(C);\n  if (_isObject(x) && x.constructor === C) return x;\n  var promiseCapability = _newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\nvar _redefineAll = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else _hide(target, key, src[key]);\n  } return target;\n};\n\n'use strict';\n\n\n\n\nvar SPECIES$1 = _wks('species');\n\nvar _setSpecies = function (KEY) {\n  var C = typeof _core[KEY] == 'function' ? _core[KEY] : _global[KEY];\n  if (_descriptors && C && !C[SPECIES$1]) _objectDp.f(C, SPECIES$1, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\nvar ITERATOR$3 = _wks('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR$3]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  \n} catch (e) { /* empty */ }\n\nvar _iterDetect = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR$3]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR$3] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n'use strict';\n\n\n\n\n\n\n\n\n\n\nvar task = _task.set;\nvar microtask = _microtask();\n\n\n\nvar PROMISE = 'Promise';\nvar TypeError$1 = _global.TypeError;\nvar process = _global.process;\nvar $Promise = _global[PROMISE];\nvar isNode = _classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal;\nvar newGenericPromiseCapability;\nvar OwnPromiseCapability;\nvar Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = _newPromiseCapability.f;\n\nvar USE_NATIVE$1 = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[_wks('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return _isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError$1('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(_global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = _perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = _global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = _global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(_global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = _global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, _ctx($resolve, wrapper, 1), _ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE$1) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    _anInstance(this, $Promise, PROMISE, '_h');\n    _aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(_ctx($resolve, this, 1), _ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = _redefineAll($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(_speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = _ctx($resolve, promise, 1);\n    this.reject = _ctx($reject, promise, 1);\n  };\n  _newPromiseCapability.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n_export(_export.G + _export.W + _export.F * !USE_NATIVE$1, { Promise: $Promise });\n_setToStringTag($Promise, PROMISE);\n_setSpecies(PROMISE);\nWrapper = _core[PROMISE];\n\n// statics\n_export(_export.S + _export.F * !USE_NATIVE$1, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n_export(_export.S + _export.F * (_library || !USE_NATIVE$1), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return _promiseResolve(_library && this === Wrapper ? $Promise : this, x);\n  }\n});\n_export(_export.S + _export.F * !(USE_NATIVE$1 && _iterDetect(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = _perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      _forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = _perform(function () {\n      _forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n// https://github.com/tc39/proposal-promise-finally\n'use strict';\n\n\n\n\n\n\n_export(_export.P + _export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = _speciesConstructor(this, _core.Promise || _global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return _promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return _promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n'use strict';\n// https://github.com/tc39/proposal-promise-try\n\n\n\n\n_export(_export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = _newPromiseCapability.f(this);\n  var result = _perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\nvar promise$1 = _core.Promise;\n\nvar promise = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": promise$1, __esModule: true };\n});\n\nvar _Promise = unwrapExports(promise);\n\nvar classCallCheck = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n});\n\nvar _classCallCheck = unwrapExports(classCallCheck);\n\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n_export(_export.S + _export.F * !_descriptors, 'Object', { defineProperty: _objectDp.f });\n\nvar $Object = _core.Object;\nvar defineProperty$3 = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\nvar defineProperty$1 = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": defineProperty$3, __esModule: true };\n});\n\nunwrapExports(defineProperty$1);\n\nvar createClass = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nexports.__esModule = true;\n\n\n\nvar _defineProperty2 = _interopRequireDefault(defineProperty$1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n});\n\nvar _createClass = unwrapExports(createClass);\n\n'use strict';\n\nvar PATH = {\n    VECTOR: 0,\n    BEZIER_CURVE: 1,\n    CIRCLE: 2\n};\n\nvar ITERATOR$4 = _wks('iterator');\n\nvar core_isIterable = _core.isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR$4] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || _iterators.hasOwnProperty(_classof(O));\n};\n\nvar isIterable$2 = core_isIterable;\n\nvar isIterable = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": isIterable$2, __esModule: true };\n});\n\nunwrapExports(isIterable);\n\nvar core_getIterator = _core.getIterator = function (it) {\n  var iterFn = core_getIteratorMethod(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return _anObject(iterFn.call(it));\n};\n\nvar getIterator$2 = core_getIterator;\n\nvar getIterator = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": getIterator$2, __esModule: true };\n});\n\nunwrapExports(getIterator);\n\nvar slicedToArray = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nexports.__esModule = true;\n\n\n\nvar _isIterable3 = _interopRequireDefault(isIterable);\n\n\n\nvar _getIterator3 = _interopRequireDefault(getIterator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n});\n\nvar _slicedToArray = unwrapExports(slicedToArray);\n\n'use strict';\n\n// http://dev.w3.org/csswg/css-color/\n\nvar HEX3 = /^#([a-f0-9]{3})$/i;\nvar hex3 = function hex3(value) {\n    var match = value.match(HEX3);\n    if (match) {\n        return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];\n    }\n    return false;\n};\n\nvar HEX6 = /^#([a-f0-9]{6})$/i;\nvar hex6 = function hex6(value) {\n    var match = value.match(HEX6);\n    if (match) {\n        return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];\n    }\n    return false;\n};\n\nvar RGB = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\nvar rgb = function rgb(value) {\n    var match = value.match(RGB);\n    if (match) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), null];\n    }\n    return false;\n};\n\nvar RGBA = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\nvar rgba = function rgba(value) {\n    var match = value.match(RGBA);\n    if (match && match.length > 4) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];\n    }\n    return false;\n};\n\nvar fromArray = function fromArray(array) {\n    return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];\n};\n\nvar namedColor = function namedColor(name) {\n    var color = NAMED_COLORS[name.toLowerCase()];\n    return color ? color : false;\n};\n\nvar Color = function () {\n    function Color(value) {\n        _classCallCheck(this, Color);\n\n        var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],\n            _ref2 = _slicedToArray(_ref, 4),\n            r = _ref2[0],\n            g = _ref2[1],\n            b = _ref2[2],\n            a = _ref2[3];\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    _createClass(Color, [{\n        key: 'isTransparent',\n        value: function isTransparent() {\n            return this.a === 0;\n        }\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return this.a !== null && this.a !== 1 ? 'rgba(' + this.r + ',' + this.g + ',' + this.b + ',' + this.a + ')' : 'rgb(' + this.r + ',' + this.g + ',' + this.b + ')';\n        }\n    }]);\n\n    return Color;\n}();\n\nvar NAMED_COLORS = {\n    transparent: [0, 0, 0, 0],\n    aliceblue: [240, 248, 255, null],\n    antiquewhite: [250, 235, 215, null],\n    aqua: [0, 255, 255, null],\n    aquamarine: [127, 255, 212, null],\n    azure: [240, 255, 255, null],\n    beige: [245, 245, 220, null],\n    bisque: [255, 228, 196, null],\n    black: [0, 0, 0, null],\n    blanchedalmond: [255, 235, 205, null],\n    blue: [0, 0, 255, null],\n    blueviolet: [138, 43, 226, null],\n    brown: [165, 42, 42, null],\n    burlywood: [222, 184, 135, null],\n    cadetblue: [95, 158, 160, null],\n    chartreuse: [127, 255, 0, null],\n    chocolate: [210, 105, 30, null],\n    coral: [255, 127, 80, null],\n    cornflowerblue: [100, 149, 237, null],\n    cornsilk: [255, 248, 220, null],\n    crimson: [220, 20, 60, null],\n    cyan: [0, 255, 255, null],\n    darkblue: [0, 0, 139, null],\n    darkcyan: [0, 139, 139, null],\n    darkgoldenrod: [184, 134, 11, null],\n    darkgray: [169, 169, 169, null],\n    darkgreen: [0, 100, 0, null],\n    darkgrey: [169, 169, 169, null],\n    darkkhaki: [189, 183, 107, null],\n    darkmagenta: [139, 0, 139, null],\n    darkolivegreen: [85, 107, 47, null],\n    darkorange: [255, 140, 0, null],\n    darkorchid: [153, 50, 204, null],\n    darkred: [139, 0, 0, null],\n    darksalmon: [233, 150, 122, null],\n    darkseagreen: [143, 188, 143, null],\n    darkslateblue: [72, 61, 139, null],\n    darkslategray: [47, 79, 79, null],\n    darkslategrey: [47, 79, 79, null],\n    darkturquoise: [0, 206, 209, null],\n    darkviolet: [148, 0, 211, null],\n    deeppink: [255, 20, 147, null],\n    deepskyblue: [0, 191, 255, null],\n    dimgray: [105, 105, 105, null],\n    dimgrey: [105, 105, 105, null],\n    dodgerblue: [30, 144, 255, null],\n    firebrick: [178, 34, 34, null],\n    floralwhite: [255, 250, 240, null],\n    forestgreen: [34, 139, 34, null],\n    fuchsia: [255, 0, 255, null],\n    gainsboro: [220, 220, 220, null],\n    ghostwhite: [248, 248, 255, null],\n    gold: [255, 215, 0, null],\n    goldenrod: [218, 165, 32, null],\n    gray: [128, 128, 128, null],\n    green: [0, 128, 0, null],\n    greenyellow: [173, 255, 47, null],\n    grey: [128, 128, 128, null],\n    honeydew: [240, 255, 240, null],\n    hotpink: [255, 105, 180, null],\n    indianred: [205, 92, 92, null],\n    indigo: [75, 0, 130, null],\n    ivory: [255, 255, 240, null],\n    khaki: [240, 230, 140, null],\n    lavender: [230, 230, 250, null],\n    lavenderblush: [255, 240, 245, null],\n    lawngreen: [124, 252, 0, null],\n    lemonchiffon: [255, 250, 205, null],\n    lightblue: [173, 216, 230, null],\n    lightcoral: [240, 128, 128, null],\n    lightcyan: [224, 255, 255, null],\n    lightgoldenrodyellow: [250, 250, 210, null],\n    lightgray: [211, 211, 211, null],\n    lightgreen: [144, 238, 144, null],\n    lightgrey: [211, 211, 211, null],\n    lightpink: [255, 182, 193, null],\n    lightsalmon: [255, 160, 122, null],\n    lightseagreen: [32, 178, 170, null],\n    lightskyblue: [135, 206, 250, null],\n    lightslategray: [119, 136, 153, null],\n    lightslategrey: [119, 136, 153, null],\n    lightsteelblue: [176, 196, 222, null],\n    lightyellow: [255, 255, 224, null],\n    lime: [0, 255, 0, null],\n    limegreen: [50, 205, 50, null],\n    linen: [250, 240, 230, null],\n    magenta: [255, 0, 255, null],\n    maroon: [128, 0, 0, null],\n    mediumaquamarine: [102, 205, 170, null],\n    mediumblue: [0, 0, 205, null],\n    mediumorchid: [186, 85, 211, null],\n    mediumpurple: [147, 112, 219, null],\n    mediumseagreen: [60, 179, 113, null],\n    mediumslateblue: [123, 104, 238, null],\n    mediumspringgreen: [0, 250, 154, null],\n    mediumturquoise: [72, 209, 204, null],\n    mediumvioletred: [199, 21, 133, null],\n    midnightblue: [25, 25, 112, null],\n    mintcream: [245, 255, 250, null],\n    mistyrose: [255, 228, 225, null],\n    moccasin: [255, 228, 181, null],\n    navajowhite: [255, 222, 173, null],\n    navy: [0, 0, 128, null],\n    oldlace: [253, 245, 230, null],\n    olive: [128, 128, 0, null],\n    olivedrab: [107, 142, 35, null],\n    orange: [255, 165, 0, null],\n    orangered: [255, 69, 0, null],\n    orchid: [218, 112, 214, null],\n    palegoldenrod: [238, 232, 170, null],\n    palegreen: [152, 251, 152, null],\n    paleturquoise: [175, 238, 238, null],\n    palevioletred: [219, 112, 147, null],\n    papayawhip: [255, 239, 213, null],\n    peachpuff: [255, 218, 185, null],\n    peru: [205, 133, 63, null],\n    pink: [255, 192, 203, null],\n    plum: [221, 160, 221, null],\n    powderblue: [176, 224, 230, null],\n    purple: [128, 0, 128, null],\n    rebeccapurple: [102, 51, 153, null],\n    red: [255, 0, 0, null],\n    rosybrown: [188, 143, 143, null],\n    royalblue: [65, 105, 225, null],\n    saddlebrown: [139, 69, 19, null],\n    salmon: [250, 128, 114, null],\n    sandybrown: [244, 164, 96, null],\n    seagreen: [46, 139, 87, null],\n    seashell: [255, 245, 238, null],\n    sienna: [160, 82, 45, null],\n    silver: [192, 192, 192, null],\n    skyblue: [135, 206, 235, null],\n    slateblue: [106, 90, 205, null],\n    slategray: [112, 128, 144, null],\n    slategrey: [112, 128, 144, null],\n    snow: [255, 250, 250, null],\n    springgreen: [0, 255, 127, null],\n    steelblue: [70, 130, 180, null],\n    tan: [210, 180, 140, null],\n    teal: [0, 128, 128, null],\n    thistle: [216, 191, 216, null],\n    tomato: [255, 99, 71, null],\n    turquoise: [64, 224, 208, null],\n    violet: [238, 130, 238, null],\n    wheat: [245, 222, 179, null],\n    white: [255, 255, 255, null],\n    whitesmoke: [245, 245, 245, null],\n    yellow: [255, 255, 0, null],\n    yellowgreen: [154, 205, 50, null]\n};\n\nvar TRANSPARENT = new Color([0, 0, 0, 0]);\n\n'use strict';\n\nvar TEXT_DECORATION_STYLE = {\n    SOLID: 0,\n    DOUBLE: 1,\n    DOTTED: 2,\n    DASHED: 3,\n    WAVY: 4\n};\n\nvar TEXT_DECORATION = {\n    NONE: null\n};\n\nvar TEXT_DECORATION_LINE = {\n    UNDERLINE: 1,\n    OVERLINE: 2,\n    LINE_THROUGH: 3,\n    BLINK: 4\n};\n\nvar parseLine = function parseLine(line) {\n    switch (line) {\n        case 'underline':\n            return TEXT_DECORATION_LINE.UNDERLINE;\n        case 'overline':\n            return TEXT_DECORATION_LINE.OVERLINE;\n        case 'line-through':\n            return TEXT_DECORATION_LINE.LINE_THROUGH;\n    }\n    return TEXT_DECORATION_LINE.BLINK;\n};\n\nvar parseTextDecorationLine = function parseTextDecorationLine(line) {\n    if (line === 'none') {\n        return null;\n    }\n\n    return line.split(' ').map(parseLine);\n};\n\nvar parseTextDecorationStyle = function parseTextDecorationStyle(style) {\n    switch (style) {\n        case 'double':\n            return TEXT_DECORATION_STYLE.DOUBLE;\n        case 'dotted':\n            return TEXT_DECORATION_STYLE.DOTTED;\n        case 'dashed':\n            return TEXT_DECORATION_STYLE.DASHED;\n        case 'wavy':\n            return TEXT_DECORATION_STYLE.WAVY;\n    }\n    return TEXT_DECORATION_STYLE.SOLID;\n};\n\nvar parseTextDecoration = function parseTextDecoration(style) {\n    var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);\n    if (textDecorationLine === null) {\n        return TEXT_DECORATION.NONE;\n    }\n\n    var textDecorationColor = style.textDecorationColor ? new Color(style.textDecorationColor) : null;\n    var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);\n\n    return {\n        textDecorationLine: textDecorationLine,\n        textDecorationColor: textDecorationColor,\n        textDecorationStyle: textDecorationStyle\n    };\n};\n\n'use strict';\n\nvar CanvasRenderer = function () {\n    function CanvasRenderer(canvas) {\n        _classCallCheck(this, CanvasRenderer);\n\n        this.canvas = canvas ? canvas : document.createElement('canvas');\n    }\n\n    _createClass(CanvasRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            this.ctx = this.canvas.getContext('2d');\n            this.options = options;\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = options.width + 'px';\n            this.canvas.style.height = options.height + 'px';\n\n            this.ctx.scale(this.options.scale, this.options.scale);\n            this.ctx.textBaseline = 'bottom';\n            options.logger.log('Canvas renderer initialized with scale ' + this.options.scale);\n        }\n    }, {\n        key: 'clip',\n        value: function clip(clipPaths, callback) {\n            var _this = this;\n\n            if (clipPaths.length) {\n                this.ctx.save();\n                clipPaths.forEach(function (path) {\n                    _this.path(path);\n                    _this.ctx.clip();\n                });\n            }\n\n            callback();\n\n            if (clipPaths.length) {\n                this.ctx.restore();\n            }\n        }\n    }, {\n        key: 'drawImage',\n        value: function drawImage(image, source, destination) {\n            this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);\n        }\n    }, {\n        key: 'drawShape',\n        value: function drawShape(path, color) {\n            this.path(path);\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'fill',\n        value: function fill(color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'getTarget',\n        value: function getTarget() {\n            return _Promise.resolve(this.canvas);\n        }\n    }, {\n        key: 'path',\n        value: function path(_path) {\n            var _this2 = this;\n\n            this.ctx.beginPath();\n            if (Array.isArray(_path)) {\n                _path.forEach(function (point, index) {\n                    var start = point.type === PATH.VECTOR ? point : point.start;\n                    if (index === 0) {\n                        _this2.ctx.moveTo(start.x, start.y);\n                    } else {\n                        _this2.ctx.lineTo(start.x, start.y);\n                    }\n\n                    if (point.type === PATH.BEZIER_CURVE) {\n                        _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\n                    }\n                });\n            } else {\n                this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);\n            }\n\n            this.ctx.closePath();\n        }\n    }, {\n        key: 'rectangle',\n        value: function rectangle(x, y, width, height, color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fillRect(x, y, width, height);\n        }\n    }, {\n        key: 'renderLinearGradient',\n        value: function renderLinearGradient(bounds, gradient) {\n            var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);\n\n            gradient.colorStops.forEach(function (colorStop) {\n                linearGradient.addColorStop(colorStop.stop, colorStop.color.toString());\n            });\n\n            this.ctx.fillStyle = linearGradient;\n            this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n        }\n    }, {\n        key: 'renderRepeat',\n        value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {\n            this.path(path);\n            this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), 'repeat');\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.fill();\n            this.ctx.translate(-offsetX, -offsetY);\n        }\n    }, {\n        key: 'renderTextNode',\n        value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {\n            var _this3 = this;\n\n            this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(' ').split(',')[0];\n\n            textBounds.forEach(function (text) {\n                _this3.ctx.fillStyle = color.toString();\n                if (textShadows && text.text.trim().length) {\n                    textShadows.slice(0).reverse().forEach(function (textShadow) {\n                        _this3.ctx.shadowColor = textShadow.color.toString();\n                        _this3.ctx.shadowOffsetX = textShadow.offsetX * _this3.options.scale;\n                        _this3.ctx.shadowOffsetY = textShadow.offsetY * _this3.options.scale;\n                        _this3.ctx.shadowBlur = textShadow.blur;\n\n                        _this3.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                    });\n                } else {\n                    _this3.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                }\n\n                if (textDecoration !== null) {\n                    var textDecorationColor = textDecoration.textDecorationColor || color;\n                    textDecoration.textDecorationLine.forEach(function (textDecorationLine) {\n                        switch (textDecorationLine) {\n                            case TEXT_DECORATION_LINE.UNDERLINE:\n                                // Draws a line at the baseline of the font\n                                // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                // need to take that into account both in position and size\n                                var _options$fontMetrics$ = _this3.options.fontMetrics.getMetrics(font),\n                                    baseline = _options$fontMetrics$.baseline;\n\n                                _this3.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case TEXT_DECORATION_LINE.OVERLINE:\n                                _this3.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case TEXT_DECORATION_LINE.LINE_THROUGH:\n                                // TODO try and find exact position for line-through\n                                var _options$fontMetrics$2 = _this3.options.fontMetrics.getMetrics(font),\n                                    middle = _options$fontMetrics$2.middle;\n\n                                _this3.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);\n                                break;\n                        }\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'resizeImage',\n        value: function resizeImage(image, size) {\n            if (image.width === size.width && image.height === size.height) {\n                return image;\n            }\n\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\n            canvas.width = size.width;\n            canvas.height = size.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n            return canvas;\n        }\n    }, {\n        key: 'setOpacity',\n        value: function setOpacity(opacity) {\n            this.ctx.globalAlpha = opacity;\n        }\n    }, {\n        key: 'transform',\n        value: function transform(offsetX, offsetY, matrix, callback) {\n            this.ctx.save();\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n            this.ctx.translate(-offsetX, -offsetY);\n\n            callback();\n\n            this.ctx.restore();\n        }\n    }]);\n\n    return CanvasRenderer;\n}();\n\n'use strict';\n\nvar Logger = function () {\n    function Logger(id, start) {\n        _classCallCheck(this, Logger);\n\n        this.start = start ? start : Date.now();\n        this.id = id;\n    }\n\n    _createClass(Logger, [{\n        key: 'child',\n        value: function child(id) {\n            return new Logger(id, this.start);\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'log',\n        value: function log() {\n            if (window.console && window.console.log) {\n                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                }\n\n                Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'error',\n        value: function error() {\n            if (window.console && window.console.error) {\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                    args[_key2] = arguments[_key2];\n                }\n\n                Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n    }]);\n\n    return Logger;\n}();\n\n'use strict';\n\nvar contains = function contains(bit, value) {\n    return (bit & value) !== 0;\n};\n\nvar copyCSSStyles = function copyCSSStyles(style, target) {\n    // Edge does not provide value for cssText\n    for (var i = style.length - 1; i >= 0; i--) {\n        var property = style.item(i);\n        // Safari shows pseudoelements if content is set\n        if (property !== 'content') {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nvar SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n'use strict';\n\nvar LENGTH_TYPE = {\n    PX: 0,\n    PERCENTAGE: 1\n};\n\nvar Length = function () {\n    function Length(value) {\n        _classCallCheck(this, Length);\n\n        this.type = value.substr(value.length - 1) === '%' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;\n        var parsedValue = parseFloat(value);\n        if (false && isNaN(parsedValue)) {\n            console.error('Invalid value given for Length: \"' + value + '\"');\n        }\n        this.value = isNaN(parsedValue) ? 0 : parsedValue;\n    }\n\n    _createClass(Length, [{\n        key: 'isPercentage',\n        value: function isPercentage() {\n            return this.type === LENGTH_TYPE.PERCENTAGE;\n        }\n    }, {\n        key: 'getAbsoluteValue',\n        value: function getAbsoluteValue(parentLength) {\n            return this.isPercentage() ? parentLength * (this.value / 100) : this.value;\n        }\n    }], [{\n        key: 'create',\n        value: function create(v) {\n            return new Length(v);\n        }\n    }]);\n\n    return Length;\n}();\n\n'use strict';\n\nvar Size = function Size(width, height) {\n    _classCallCheck(this, Size);\n\n    this.width = width;\n    this.height = height;\n};\n\n'use strict';\n\nvar Vector = function Vector(x, y) {\n    _classCallCheck(this, Vector);\n\n    this.type = PATH.VECTOR;\n    this.x = x;\n    this.y = y;\n    \n};\n\n'use strict';\n\nvar lerp = function lerp(a, b, t) {\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nvar BezierCurve = function () {\n    function BezierCurve(start, startControl, endControl, end) {\n        _classCallCheck(this, BezierCurve);\n\n        this.type = PATH.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    _createClass(BezierCurve, [{\n        key: 'subdivide',\n        value: function subdivide(t, firstHalf) {\n            var ab = lerp(this.start, this.startControl, t);\n            var bc = lerp(this.startControl, this.endControl, t);\n            var cd = lerp(this.endControl, this.end, t);\n            var abbc = lerp(ab, bc, t);\n            var bccd = lerp(bc, cd, t);\n            var dest = lerp(abbc, bccd, t);\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n        }\n    }, {\n        key: 'reverse',\n        value: function reverse() {\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n        }\n    }]);\n\n    return BezierCurve;\n}();\n\n'use strict';\n\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\n\nvar H = 0;\nvar V = 1;\n\nvar Bounds = function () {\n    function Bounds(x, y, w, h) {\n        _classCallCheck(this, Bounds);\n\n        this.left = x;\n        this.top = y;\n        this.width = w;\n        this.height = h;\n    }\n\n    _createClass(Bounds, null, [{\n        key: 'fromClientRect',\n        value: function fromClientRect(clientRect) {\n            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n        }\n    }]);\n\n    return Bounds;\n}();\n\nvar parseBounds = function parseBounds(node) {\n    return Bounds.fromClientRect(node.getBoundingClientRect());\n};\n\nvar calculatePaddingBox = function calculatePaddingBox(bounds, borders) {\n    return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));\n};\n\nvar calculateContentBox = function calculateContentBox(bounds, padding, borders) {\n    // TODO support percentage paddings\n    var paddingTop = padding[TOP].value;\n    var paddingRight = padding[RIGHT].value;\n    var paddingBottom = padding[BOTTOM].value;\n    var paddingLeft = padding[LEFT].value;\n\n    return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));\n};\n\nvar parseDocumentSize = function parseDocumentSize(document) {\n    var body = document.body;\n    var documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error('');\n    }\n    var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\n\n    var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\n\n    return new Bounds(0, 0, width, height);\n};\n\nvar parsePathForBorder = function parsePathForBorder(curves, borderSide) {\n    switch (borderSide) {\n        case TOP:\n            return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);\n        case RIGHT:\n            return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);\n        case BOTTOM:\n            return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);\n        case LEFT:\n        default:\n            return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);\n    }\n};\n\nvar createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {\n    var path = [];\n    if (outer1 instanceof BezierCurve) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (outer2 instanceof BezierCurve) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (inner2 instanceof BezierCurve) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (inner1 instanceof BezierCurve) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n\nvar calculateBorderBoxPath = function calculateBorderBoxPath(curves) {\n    return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];\n};\n\nvar calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {\n    return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];\n};\n\nvar parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {\n    var HALF_WIDTH = bounds.width / 2;\n    var HALF_HEIGHT = bounds.height / 2;\n    var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width) < HALF_WIDTH ? borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width) : HALF_WIDTH;\n    var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height) < HALF_HEIGHT ? borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height) : HALF_HEIGHT;\n    var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width) < HALF_WIDTH ? borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width) : HALF_WIDTH;\n    var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height) < HALF_HEIGHT ? borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height) : HALF_HEIGHT;\n    var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width) < HALF_WIDTH ? borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width) : HALF_WIDTH;\n    var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height) < HALF_HEIGHT ? borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height) : HALF_HEIGHT;\n    var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width) < HALF_WIDTH ? borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width) : HALF_WIDTH;\n    var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height) < HALF_HEIGHT ? borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height) : HALF_HEIGHT;\n\n    var topWidth = bounds.width - trh;\n    var rightHeight = bounds.height - brv;\n    var bottomWidth = bounds.width - brh;\n    var leftHeight = bounds.height - blv;\n\n    return {\n        topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new Vector(bounds.left, bounds.top),\n        topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new Vector(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new Vector(bounds.left + bounds.width, bounds.top),\n        topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new Vector(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\n        bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new Vector(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),\n        bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new Vector(bounds.left, bounds.top + bounds.height),\n        bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new Vector(bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth)\n    };\n};\n\nvar CORNER = {\n    TOP_LEFT: 0,\n    TOP_RIGHT: 1,\n    BOTTOM_RIGHT: 2,\n    BOTTOM_LEFT: 3\n};\n\nvar getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = r1 * kappa; // control point offset horizontal\n    var oy = r2 * kappa; // control point offset vertical\n    var xm = x + r1; // x-middle\n    var ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\n        case CORNER.TOP_RIGHT:\n            return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\n        case CORNER.BOTTOM_RIGHT:\n            return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\n    }\n};\n\n'use strict';\n\nvar BACKGROUND_REPEAT = {\n    REPEAT: 0,\n    NO_REPEAT: 1,\n    REPEAT_X: 2,\n    REPEAT_Y: 3\n};\n\nvar BACKGROUND_SIZE = {\n    AUTO: 0,\n    CONTAIN: 1,\n    COVER: 2,\n    LENGTH: 3\n};\n\nvar BACKGROUND_CLIP = {\n    BORDER_BOX: 0,\n    PADDING_BOX: 1,\n    CONTENT_BOX: 2\n};\n\nvar BACKGROUND_ORIGIN = BACKGROUND_CLIP;\n\nvar AUTO = 'auto';\n\nvar BackgroundSize = function BackgroundSize(size) {\n    _classCallCheck(this, BackgroundSize);\n\n    switch (size) {\n        case 'contain':\n            this.size = BACKGROUND_SIZE.CONTAIN;\n            break;\n        case 'cover':\n            this.size = BACKGROUND_SIZE.COVER;\n            break;\n        case 'auto':\n            this.size = BACKGROUND_SIZE.AUTO;\n            break;\n        default:\n            this.value = new Length(size);\n    }\n};\n\nvar calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {\n    var width = 0;\n    var height = 0;\n    var size = backgroundImage.size;\n    if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {\n        var targetRatio = bounds.width / bounds.height;\n        var currentRatio = image.width / image.height;\n        return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new Size(bounds.width, bounds.width / currentRatio) : new Size(bounds.height * currentRatio, bounds.height);\n    }\n\n    if (size[0].value) {\n        width = size[0].value.getAbsoluteValue(bounds.width);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = image.height;\n    } else if (size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = width / image.width * image.height;\n    } else if (size[1].value) {\n        height = size[1].value.getAbsoluteValue(bounds.height);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO) {\n        width = height / image.height * image.width;\n    }\n\n    return new Size(width, height);\n};\n\nvar AUTO_SIZE = new BackgroundSize(AUTO);\n\nvar calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {\n    // TODO support CONTENT_BOX\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return calculateBorderBoxPath(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return calculatePaddingBoxPath(curves);\n    }\n};\n\nvar calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {\n    return new Vector(position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));\n};\n\nvar calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {\n    var repeat = background.repeat;\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [new Vector(Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new Vector(Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new Vector(Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new Vector(Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [new Vector(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new Vector(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new Vector(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new Vector(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [new Vector(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new Vector(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new Vector(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new Vector(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];\n        default:\n            return [new Vector(Math.round(bounds.left), Math.round(bounds.top)), new Vector(Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new Vector(Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new Vector(Math.round(bounds.left), Math.round(bounds.height + bounds.top))];\n    }\n};\n\nvar parseBackground = function parseBackground(style, imageLoader) {\n    return {\n        backgroundColor: new Color(style.backgroundColor),\n        backgroundImage: parseBackgroundImages(style, imageLoader),\n        backgroundClip: parseBackgroundClip(style.backgroundClip),\n        backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin)\n    };\n};\n\nvar parseBackgroundClip = function parseBackgroundClip(backgroundClip) {\n    switch (backgroundClip) {\n        case 'padding-box':\n            return BACKGROUND_CLIP.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_CLIP.CONTENT_BOX;\n    }\n    return BACKGROUND_CLIP.BORDER_BOX;\n};\n\nvar parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {\n    switch (backgroundOrigin) {\n        case 'padding-box':\n            return BACKGROUND_ORIGIN.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_ORIGIN.CONTENT_BOX;\n    }\n    return BACKGROUND_ORIGIN.BORDER_BOX;\n};\n\nvar parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {\n    switch (backgroundRepeat.trim()) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n\n    return BACKGROUND_REPEAT.REPEAT;\n};\n\nvar parseBackgroundImages = function parseBackgroundImages(style, imageLoader) {\n    var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n        if (backgroundImage.method === 'url') {\n            var key = imageLoader.loadImage(backgroundImage.args[0]);\n            backgroundImage.args = key ? [key] : [];\n        }\n        return backgroundImage;\n    });\n    var positions = style.backgroundPosition.split(',');\n    var repeats = style.backgroundRepeat.split(',');\n    var sizes = style.backgroundSize.split(',');\n\n    return sources.map(function (source, index) {\n        var size = (sizes[index] || AUTO).trim().split(' ').map(parseBackgroundSize);\n        var position = (positions[index] || AUTO).trim().split(' ').map(parseBackgoundPosition);\n\n        return {\n            source: source,\n            repeat: parseBackgroundRepeat(typeof repeats[index] === 'string' ? repeats[index] : repeats[0]),\n            size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],\n            position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]]\n        };\n    });\n};\n\nvar parseBackgroundSize = function parseBackgroundSize(size) {\n    return size === 'auto' ? AUTO_SIZE : new BackgroundSize(size);\n};\n\nvar parseBackgoundPosition = function parseBackgoundPosition(position) {\n    switch (position) {\n        case 'bottom':\n        case 'right':\n            return new Length('100%');\n        case 'left':\n        case 'top':\n            return new Length('0%');\n        case 'auto':\n            return new Length('0');\n    }\n    return new Length(position);\n};\n\nvar parseBackgroundImage = function parseBackgroundImage(image) {\n    var whitespace = /^\\s$/;\n    var results = [];\n\n    var args = [];\n    var method = '';\n    var quote = null;\n    var definition = '';\n    var mode = 0;\n    var numParen = 0;\n\n    var appendResult = function appendResult() {\n        var prefix = '';\n        if (method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n\n            if (definition) {\n                args.push(definition.trim());\n            }\n\n            var prefix_i = method.indexOf('-', 1) + 1;\n            if (method.substr(0, 1) === '-' && prefix_i > 0) {\n                prefix = method.substr(0, prefix_i).toLowerCase();\n                method = method.substr(prefix_i);\n            }\n            method = method.toLowerCase();\n            if (method !== 'none') {\n                results.push({\n                    prefix: prefix,\n                    method: method,\n                    args: args\n                });\n            }\n        }\n        args = [];\n        method = definition = '';\n    };\n\n    image.split('').forEach(function (c) {\n        if (mode === 0 && whitespace.test(c)) {\n            return;\n        }\n        switch (c) {\n            case '\"':\n                if (!quote) {\n                    quote = c;\n                } else if (quote === c) {\n                    quote = null;\n                }\n                break;\n            case '(':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    mode = 1;\n                    return;\n                } else {\n                    numParen++;\n                }\n                break;\n            case ')':\n                if (quote) {\n                    break;\n                } else if (mode === 1) {\n                    if (numParen === 0) {\n                        mode = 0;\n                        appendResult();\n                        return;\n                    } else {\n                        numParen--;\n                    }\n                }\n                break;\n\n            case ',':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    appendResult();\n                    return;\n                } else if (mode === 1) {\n                    if (numParen === 0 && !method.match(/^url$/i)) {\n                        args.push(definition.trim());\n                        definition = '';\n                        return;\n                    }\n                }\n                break;\n        }\n\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};\n\n// most Object methods by ES6 should accept primitives\n\n\n\nvar _objectSap = function (KEY, exec) {\n  var fn = (_core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  _export(_export.S + _export.F * _fails(function () { fn(1); }), 'Object', exp);\n};\n\n// 19.1.2.14 Object.keys(O)\n\n\n\n_objectSap('keys', function () {\n  return function keys(it) {\n    return _objectKeys(_toObject(it));\n  };\n});\n\nvar keys$1 = _core.Object.keys;\n\nvar keys = createCommonjsModule(function (module) {\nmodule.exports = { \"default\": keys$1, __esModule: true };\n});\n\nvar _Object$keys = unwrapExports(keys);\n\n'use strict';\n\nvar BORDER_STYLE = {\n    NONE: 0,\n    SOLID: 1\n};\n\nvar BORDER_SIDES = {\n    TOP: 0,\n    RIGHT: 1,\n    BOTTOM: 2,\n    LEFT: 3\n};\n\nvar SIDES = _Object$keys(BORDER_SIDES).map(function (s) {\n    return s.toLowerCase();\n});\n\nvar parseBorderStyle = function parseBorderStyle(style) {\n    switch (style) {\n        case 'none':\n            return BORDER_STYLE.NONE;\n    }\n    return BORDER_STYLE.SOLID;\n};\n\nvar parseBorder = function parseBorder(style) {\n    return SIDES.map(function (side) {\n        var borderColor = new Color(style.getPropertyValue('border-' + side + '-color'));\n        var borderStyle = parseBorderStyle(style.getPropertyValue('border-' + side + '-style'));\n        var borderWidth = parseFloat(style.getPropertyValue('border-' + side + '-width'));\n        return {\n            borderColor: borderColor,\n            borderStyle: borderStyle,\n            borderWidth: isNaN(borderWidth) ? 0 : borderWidth\n        };\n    });\n};\n\n'use strict';\n\nvar SIDES$1 = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];\n\nvar parseBorderRadius = function parseBorderRadius(style) {\n    return SIDES$1.map(function (side) {\n        var value = style.getPropertyValue('border-' + side + '-radius');\n\n        var _value$split$map = value.split(' ').map(Length.create),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            horizontal = _value$split$map2[0],\n            vertical = _value$split$map2[1];\n\n        return typeof vertical === 'undefined' ? [horizontal, horizontal] : [horizontal, vertical];\n    });\n};\n\n'use strict';\n\nvar DISPLAY = {\n    NONE: 1 << 0,\n    BLOCK: 1 << 1,\n    INLINE: 1 << 2,\n    RUN_IN: 1 << 3,\n    FLOW: 1 << 4,\n    FLOW_ROOT: 1 << 5,\n    TABLE: 1 << 6,\n    FLEX: 1 << 7,\n    GRID: 1 << 8,\n    RUBY: 1 << 9,\n    SUBGRID: 1 << 10,\n    LIST_ITEM: 1 << 11,\n    TABLE_ROW_GROUP: 1 << 12,\n    TABLE_HEADER_GROUP: 1 << 13,\n    TABLE_FOOTER_GROUP: 1 << 14,\n    TABLE_ROW: 1 << 15,\n    TABLE_CELL: 1 << 16,\n    TABLE_COLUMN_GROUP: 1 << 17,\n    TABLE_COLUMN: 1 << 18,\n    TABLE_CAPTION: 1 << 19,\n    RUBY_BASE: 1 << 20,\n    RUBY_TEXT: 1 << 21,\n    RUBY_BASE_CONTAINER: 1 << 22,\n    RUBY_TEXT_CONTAINER: 1 << 23,\n    CONTENTS: 1 << 24,\n    INLINE_BLOCK: 1 << 25,\n    INLINE_LIST_ITEM: 1 << 26,\n    INLINE_TABLE: 1 << 27,\n    INLINE_FLEX: 1 << 28,\n    INLINE_GRID: 1 << 29\n};\n\nvar parseDisplayValue = function parseDisplayValue(display) {\n    switch (display) {\n        case 'block':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n\nvar setDisplayBit = function setDisplayBit(bit, display) {\n    return bit | parseDisplayValue(display);\n};\n\nvar parseDisplay = function parseDisplay(display) {\n    return display.split(' ').reduce(setDisplayBit, 0);\n};\n\n'use strict';\n\nvar FLOAT = {\n    NONE: 0,\n    LEFT: 1,\n    RIGHT: 2,\n    INLINE_START: 3,\n    INLINE_END: 4\n};\n\nvar parseCSSFloat = function parseCSSFloat(float) {\n    switch (float) {\n        case 'left':\n            return FLOAT.LEFT;\n        case 'right':\n            return FLOAT.RIGHT;\n        case 'inline-start':\n            return FLOAT.INLINE_START;\n        case 'inline-end':\n            return FLOAT.INLINE_END;\n    }\n    return FLOAT.NONE;\n};\n\n'use strict';\n\nvar parseFontWeight = function parseFontWeight(weight) {\n    switch (weight) {\n        case 'normal':\n            return 400;\n        case 'bold':\n            return 700;\n    }\n\n    var value = parseInt(weight, 10);\n    return isNaN(value) ? 400 : value;\n};\n\nvar parseFont = function parseFont(style) {\n    var fontFamily = style.fontFamily;\n    var fontSize = style.fontSize;\n    var fontStyle = style.fontStyle;\n    var fontVariant = style.fontVariant;\n    var fontWeight = parseFontWeight(style.fontWeight);\n\n    return {\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n        fontStyle: fontStyle,\n        fontVariant: fontVariant,\n        fontWeight: fontWeight\n    };\n};\n\n'use strict';\n\nvar parseLetterSpacing = function parseLetterSpacing(letterSpacing) {\n    if (letterSpacing === 'normal') {\n        return 0;\n    }\n    var value = parseInt(letterSpacing, 10);\n    return isNaN(value) ? 0 : value;\n};\n\n'use strict';\n\nvar OVERFLOW = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    SCROLL: 2,\n    AUTO: 3\n};\n\nvar parseOverflow = function parseOverflow(overflow) {\n    switch (overflow) {\n        case 'hidden':\n            return OVERFLOW.HIDDEN;\n        case 'scroll':\n            return OVERFLOW.SCROLL;\n        case 'auto':\n            return OVERFLOW.AUTO;\n        case 'visible':\n        default:\n            return OVERFLOW.VISIBLE;\n    }\n};\n\n'use strict';\n\nvar SIDES$2 = ['top', 'right', 'bottom', 'left'];\n\nvar parsePadding = function parsePadding(style) {\n    return SIDES$2.map(function (side) {\n        return new Length(style.getPropertyValue('padding-' + side));\n    });\n};\n\n'use strict';\n\nvar POSITION = {\n    STATIC: 0,\n    RELATIVE: 1,\n    ABSOLUTE: 2,\n    FIXED: 3,\n    STICKY: 4\n};\n\nvar parsePosition = function parsePosition(position) {\n    switch (position) {\n        case 'relative':\n            return POSITION.RELATIVE;\n        case 'absolute':\n            return POSITION.ABSOLUTE;\n        case 'fixed':\n            return POSITION.FIXED;\n        case 'sticky':\n            return POSITION.STICKY;\n    }\n\n    return POSITION.STATIC;\n};\n\n'use strict';\n\nvar NUMBER = /^([+-]|\\d|\\.)$/i;\n\nvar parseTextShadow = function parseTextShadow(textShadow) {\n    if (textShadow === 'none' || typeof textShadow !== 'string') {\n        return null;\n    }\n\n    var currentValue = '';\n    var isLength = false;\n    var values = [];\n    var shadows = [];\n    var numParens = 0;\n    var color = null;\n\n    var appendValue = function appendValue() {\n        if (currentValue.length) {\n            if (isLength) {\n                values.push(parseFloat(currentValue));\n            } else {\n                color = new Color(currentValue);\n            }\n        }\n        isLength = false;\n        currentValue = '';\n    };\n\n    var appendShadow = function appendShadow() {\n        if (values.length && color !== null) {\n            shadows.push({\n                color: color,\n                offsetX: values[0] || 0,\n                offsetY: values[1] || 0,\n                blur: values[2] || 0\n            });\n        }\n        values.splice(0, values.length);\n        color = null;\n    };\n\n    for (var i = 0; i < textShadow.length; i++) {\n        var c = textShadow[i];\n        switch (c) {\n            case '(':\n                currentValue += c;\n                numParens++;\n                break;\n            case ')':\n                currentValue += c;\n                numParens--;\n                break;\n            case ',':\n                if (numParens === 0) {\n                    appendValue();\n                    appendShadow();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            case ' ':\n                if (numParens === 0) {\n                    appendValue();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            default:\n                if (currentValue.length === 0 && NUMBER.test(c)) {\n                    isLength = true;\n                }\n                currentValue += c;\n        }\n    }\n\n    appendValue();\n    appendShadow();\n\n    if (shadows.length === 0) {\n        return null;\n    }\n\n    return shadows;\n};\n\n'use strict';\n\nvar TEXT_TRANSFORM = {\n    NONE: 0,\n    LOWERCASE: 1,\n    UPPERCASE: 2,\n    CAPITALIZE: 3\n};\n\nvar parseTextTransform = function parseTextTransform(textTransform) {\n    switch (textTransform) {\n        case 'uppercase':\n            return TEXT_TRANSFORM.UPPERCASE;\n        case 'lowercase':\n            return TEXT_TRANSFORM.LOWERCASE;\n        case 'capitalize':\n            return TEXT_TRANSFORM.CAPITALIZE;\n    }\n\n    return TEXT_TRANSFORM.NONE;\n};\n\n'use strict';\n\nvar toFloat = function toFloat(s) {\n    return parseFloat(s.trim());\n};\n\nvar MATRIX = /(matrix|matrix3d)\\((.+)\\)/;\n\nvar parseTransform = function parseTransform(style) {\n    var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform ||\n    // $FlowFixMe\n    style.msTransform ||\n    // $FlowFixMe\n    style.oTransform);\n    if (transform === null) {\n        return null;\n    }\n\n    return {\n        transform: transform,\n        transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin ||\n        // $FlowFixMe\n        style.msTransformOrigin ||\n        // $FlowFixMe\n        style.oTransformOrigin)\n    };\n};\n\n// $FlowFixMe\nvar parseTransformOrigin = function parseTransformOrigin(origin) {\n    if (typeof origin !== 'string') {\n        var v = new Length('0');\n        return [v, v];\n    }\n    var values = origin.split(' ').map(Length.create);\n    return [values[0], values[1]];\n};\n\n// $FlowFixMe\nvar parseTransformMatrix = function parseTransformMatrix(transform) {\n    if (transform === 'none' || typeof transform !== 'string') {\n        return null;\n    }\n\n    var match = transform.match(MATRIX);\n    if (match) {\n        if (match[1] === 'matrix') {\n            var matrix = match[2].split(',').map(toFloat);\n            return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];\n        } else {\n            var matrix3d = match[2].split(',').map(toFloat);\n            return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n        }\n    }\n    return null;\n};\n\n'use strict';\n\nvar VISIBILITY = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    COLLAPSE: 2\n};\n\nvar parseVisibility = function parseVisibility(visibility) {\n    switch (visibility) {\n        case 'hidden':\n            return VISIBILITY.HIDDEN;\n        case 'collapse':\n            return VISIBILITY.COLLAPSE;\n        case 'visible':\n        default:\n            return VISIBILITY.VISIBLE;\n    }\n};\n\n'use strict';\n\nvar parseZIndex = function parseZIndex(zIndex) {\n    var auto = zIndex === 'auto';\n    return {\n        auto: auto,\n        order: auto ? 0 : parseInt(zIndex, 10)\n    };\n};\n\n'use strict';\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor$1 = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '.');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, babelHelpers.toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor$1(delta / damp) : delta >> 1;\n\tdelta += floor$1(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor$1(delta / baseMinusTMin);\n\t}\n\treturn floor$1(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: var `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor$1((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor$1(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor$1(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor$1(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar currentValue = _step.value;\n\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor$1((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar currentValue = _step3.value;\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor$1(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nvar punycode_1 = punycode;\n\nvar punycode_3 = punycode_1.ucs2;\n\nvar ForeignObjectRenderer = function () {\n    function ForeignObjectRenderer(element) {\n        _classCallCheck(this, ForeignObjectRenderer);\n\n        this.element = element;\n    }\n\n    _createClass(ForeignObjectRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            var _this = this;\n\n            this.options = options;\n            this.canvas = document.createElement('canvas');\n            this.ctx = this.canvas.getContext('2d');\n            this.canvas.width = Math.floor(options.bounds.width * options.scale);\n            this.canvas.height = Math.floor(options.bounds.height * options.scale);\n            this.canvas.style.width = options.bounds.width + 'px';\n            this.canvas.style.height = options.bounds.height + 'px';\n            this.ctx.scale(this.options.scale, this.options.scale);\n\n            options.logger.log('ForeignObject renderer initialized with scale ' + this.options.scale);\n            var svg = createForeignObjectSVG(options.bounds.width, options.bounds.height, this.element);\n\n            return loadSerializedSVG(svg).then(function (img) {\n                if (options.backgroundColor) {\n                    _this.ctx.fillStyle = options.backgroundColor.toString();\n                    _this.ctx.fillRect(0, 0, options.bounds.width, options.bounds.height);\n                }\n                _this.ctx.drawImage(img, 0, 0);\n                return _this.canvas;\n            });\n        }\n    }]);\n\n    return ForeignObjectRenderer;\n}();\n\nvar createForeignObjectSVG = function createForeignObjectSVG(width, height, node) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width);\n    svg.setAttributeNS(null, 'height', height);\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nvar loadSerializedSVG = function loadSerializedSVG(svg) {\n    return new _Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));\n    });\n};\n\n'use strict';\n\nvar testRangeBounds = function testRangeBounds(document) {\n    var TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        var range = document.createRange();\n        if (range.getBoundingClientRect) {\n            var testElement = document.createElement('boundtest');\n            testElement.style.height = TEST_HEIGHT + 'px';\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            var rangeBounds = range.getBoundingClientRect();\n            var rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n// iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'\nvar testBase64 = function testBase64(document, src) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    return new _Promise(function (resolve) {\n        // Single pixel base64 image renders fine on iOS 10.3???\n        img.src = src;\n\n        var onload = function onload() {\n            try {\n                ctx.drawImage(img, 0, 0);\n                canvas.toDataURL();\n            } catch (e) {\n                return resolve(false);\n            }\n\n            return resolve(true);\n        };\n\n        img.onload = onload;\n        img.onerror = function () {\n            return resolve(false);\n        };\n\n        if (img.complete === true) {\n            setTimeout(function () {\n                onload();\n            }, 500);\n        }\n    });\n};\n\nvar testCORS = function testCORS() {\n    return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n    return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    img.src = 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\'></svg>';\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n    return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n    var canvas = document.createElement('canvas');\n    var size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    var img = new Image();\n    var greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    var svg = createForeignObjectSVG(size, size, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return loadSerializedSVG(svg).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        var data = ctx.getImageData(0, 0, size, size).data;\n        ctx.fillStyle = 'red';\n        ctx.fillRect(0, 0, size, size);\n\n        var node = document.createElement('div');\n        node.style.backgroundImage = 'url(' + greenImageSrc + ')';\n        node.style.height = size + 'px';\n        // Firefox 55 does not render inline <img /> tags\n        return isGreenPixel(data) ? loadSerializedSVG(createForeignObjectSVG(size, size, node)) : _Promise.reject(false);\n    }).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        // Edge does not render background-images\n        return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n    }).catch(function (e) {\n        return false;\n    });\n};\n\nvar FEATURES = {\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RANGE_BOUNDS() {\n        'use strict';\n\n        var value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_SVG_DRAWING() {\n        'use strict';\n\n        var value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_BASE64_DRAWING() {\n        'use strict';\n\n        return function (src) {\n            var _value = testBase64(document, src);\n            Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', { value: function value() {\n                    return _value;\n                } });\n            return _value;\n        };\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\n        'use strict';\n\n        var value = testForeignObject(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_IMAGES() {\n        'use strict';\n\n        var value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RESPONSE_TYPE() {\n        'use strict';\n\n        var value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_XHR() {\n        'use strict';\n\n        var value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\n        return value;\n    }\n};\n\n'use strict';\n\nvar UNICODE = /[^\\u0000-\\u00ff]/;\n\nvar hasUnicodeCharacters = function hasUnicodeCharacters(text) {\n    return UNICODE.test(text);\n};\n\nvar encodeCodePoint = function encodeCodePoint(codePoint) {\n    return punycode_3.encode([codePoint]);\n};\n\nvar TextBounds = function TextBounds(text, bounds) {\n    _classCallCheck(this, TextBounds);\n\n    this.text = text;\n    this.bounds = bounds;\n};\n\nvar parseTextBounds = function parseTextBounds(value, parent, node) {\n    var codePoints = punycode_3.decode(value);\n    var letterRendering = parent.style.letterSpacing !== 0 || hasUnicodeCharacters(value);\n    var textList = letterRendering ? codePoints.map(encodeCodePoint) : splitWords(codePoints);\n    var length = textList.length;\n    var textBounds = [];\n    var offset = 0;\n    for (var i = 0; i < length; i++) {\n        var text = textList[i];\n        if (parent.style.textDecoration !== TEXT_DECORATION.NONE || text.trim().length > 0) {\n            if (FEATURES.SUPPORT_RANGE_BOUNDS) {\n                textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\n            } else {\n                var replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(node)));\n                node = replacementNode;\n            }\n        } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    }\n    return textBounds;\n};\n\nvar getWrapperBounds = function getWrapperBounds(node) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    wrapper.appendChild(node.cloneNode(true));\n    var parentNode = node.parentNode;\n    if (parentNode) {\n        parentNode.replaceChild(wrapper, node);\n        var bounds = parseBounds(wrapper);\n        if (wrapper.firstChild) {\n            parentNode.replaceChild(wrapper.firstChild, wrapper);\n        }\n        return bounds;\n    }\n    return new Bounds(0, 0, 0, 0);\n};\n\nvar getRangeBounds = function getRangeBounds(node, offset, length) {\n    var range = node.ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return Bounds.fromClientRect(range.getBoundingClientRect());\n};\n\nvar splitWords = function splitWords(codePoints) {\n    var words = [];\n    var i = 0;\n    var onWordBoundary = false;\n    var word = void 0;\n    while (codePoints.length) {\n        if (isWordBoundary(codePoints[i]) === onWordBoundary) {\n            word = codePoints.splice(0, i);\n            if (word.length) {\n                words.push(punycode_3.encode(word));\n            }\n            onWordBoundary = !onWordBoundary;\n            i = 0;\n        } else {\n            i++;\n        }\n\n        if (i >= codePoints.length) {\n            word = codePoints.splice(0, i);\n            if (word.length) {\n                words.push(punycode_3.encode(word));\n            }\n        }\n    }\n    return words;\n};\n\nvar isWordBoundary = function isWordBoundary(characterCode) {\n    return [32, // <space>\n    13, // \\r\n    10, // \\n\n    9, // \\t\n    45 // -\n    ].indexOf(characterCode) !== -1;\n};\n\n'use strict';\n\nvar TextContainer = function () {\n    function TextContainer(text, parent, bounds) {\n        _classCallCheck(this, TextContainer);\n\n        this.text = text;\n        this.parent = parent;\n        this.bounds = bounds;\n    }\n\n    _createClass(TextContainer, null, [{\n        key: 'fromTextNode',\n        value: function fromTextNode(node, parent) {\n            var text = transform(node.data, parent.style.textTransform);\n            return new TextContainer(text, parent, parseTextBounds(text, parent, node));\n        }\n    }]);\n\n    return TextContainer;\n}();\n\nvar CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nvar transform = function transform(text, _transform) {\n    switch (_transform) {\n        case TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n}\n\n'use strict';\n\nvar Circle = function Circle(x, y, radius) {\n    _classCallCheck(this, Circle);\n\n    this.type = PATH.CIRCLE;\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    \n};\n\n'use strict';\n\nvar INPUT_COLOR = new Color([42, 42, 42]);\nvar INPUT_BORDER_COLOR = new Color([165, 165, 165]);\nvar INPUT_BACKGROUND_COLOR = new Color([222, 222, 222]);\nvar INPUT_BORDER = {\n    borderWidth: 1,\n    borderColor: INPUT_BORDER_COLOR,\n    borderStyle: BORDER_STYLE.SOLID\n};\nvar INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];\nvar INPUT_BACKGROUND = {\n    backgroundColor: INPUT_BACKGROUND_COLOR,\n    backgroundImage: [],\n    backgroundClip: BACKGROUND_CLIP.PADDING_BOX,\n    backgroundOrigin: BACKGROUND_ORIGIN.PADDING_BOX\n};\n\nvar RADIO_BORDER_RADIUS = new Length('50%');\nvar RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];\nvar INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];\n\nvar CHECKBOX_BORDER_RADIUS = new Length('3px');\nvar CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];\nvar INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];\n\nvar getInputBorderRadius = function getInputBorderRadius(node) {\n    return node.type === 'radio' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;\n};\n\nvar inlineInputElement = function inlineInputElement(node, container) {\n    if (node.type === 'radio' || node.type === 'checkbox') {\n        if (node.checked) {\n            var size = Math.min(container.bounds.width, container.bounds.height);\n            container.childNodes.push(node.type === 'checkbox' ? [new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new Circle(container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));\n        }\n    } else {\n        inlineFormElement(getInputValue(node), node, container, false);\n    }\n};\n\nvar inlineTextAreaElement = function inlineTextAreaElement(node, container) {\n    inlineFormElement(node.value, node, container, true);\n};\n\nvar inlineSelectElement = function inlineSelectElement(node, container) {\n    var option = node.options[node.selectedIndex || 0];\n    inlineFormElement(option ? option.text || '' : '', node, container, false);\n};\n\nvar reformatInputBounds = function reformatInputBounds(bounds) {\n    if (bounds.width > bounds.height) {\n        bounds.left += (bounds.width - bounds.height) / 2;\n        bounds.width = bounds.height;\n    } else if (bounds.width < bounds.height) {\n        bounds.top += (bounds.height - bounds.width) / 2;\n        bounds.height = bounds.width;\n    }\n    return bounds;\n};\n\nvar inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {\n    var body = node.ownerDocument.body;\n    if (value.length > 0 && body) {\n        var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n        copyCSSStyles(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);\n        wrapper.style.position = 'fixed';\n        wrapper.style.left = container.bounds.left + 'px';\n        wrapper.style.top = container.bounds.top + 'px';\n        if (!allowLinebreak) {\n            wrapper.style.whiteSpace = 'nowrap';\n        }\n        var text = node.ownerDocument.createTextNode(value);\n        wrapper.appendChild(text);\n        body.appendChild(wrapper);\n        container.childNodes.push(TextContainer.fromTextNode(text, container));\n        body.removeChild(wrapper);\n    }\n};\n\nvar getInputValue = function getInputValue(node) {\n    var value = node.type === 'password' ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n\n'use strict';\n\nvar INPUT_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\n\nvar NodeContainer = function () {\n    function NodeContainer(node, parent, imageLoader, index) {\n        var _this = this;\n\n        _classCallCheck(this, NodeContainer);\n\n        this.parent = parent;\n        this.index = index;\n        this.childNodes = [];\n        var defaultView = node.ownerDocument.defaultView;\n        var style = defaultView.getComputedStyle(node, null);\n        var display = parseDisplay(style.display);\n\n        var IS_INPUT = node.type === 'radio' || node.type === 'checkbox';\n\n        var position = parsePosition(style.position);\n\n        this.style = {\n            background: IS_INPUT ? INPUT_BACKGROUND : parseBackground(style, imageLoader),\n            border: IS_INPUT ? INPUT_BORDERS : parseBorder(style),\n            borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? getInputBorderRadius(node) : parseBorderRadius(style),\n            color: IS_INPUT ? INPUT_COLOR : new Color(style.color),\n            display: display,\n            float: parseCSSFloat(style.float),\n            font: parseFont(style),\n            letterSpacing: parseLetterSpacing(style.letterSpacing),\n            opacity: parseFloat(style.opacity),\n            overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? parseOverflow(style.overflow) : OVERFLOW.HIDDEN,\n            padding: parsePadding(style),\n            position: position,\n            textDecoration: parseTextDecoration(style),\n            textShadow: parseTextShadow(style.textShadow),\n            textTransform: parseTextTransform(style.textTransform),\n            transform: parseTransform(style),\n            visibility: parseVisibility(style.visibility),\n            zIndex: parseZIndex(position !== POSITION.STATIC ? style.zIndex : 'auto')\n        };\n\n        if (this.isTransformed()) {\n            // getBoundingClientRect provides values post-transform, we want them without the transformation\n            node.style.transform = 'matrix(1,0,0,1,0,0)';\n        }\n\n        // TODO move bound retrieval for all nodes to a later stage?\n        if (node.tagName === 'IMG') {\n            node.addEventListener('load', function () {\n                _this.bounds = parseBounds(node);\n                _this.curvedBounds = parseBoundCurves(_this.bounds, _this.style.border, _this.style.borderRadius);\n            });\n        }\n        this.image = getImage(node, imageLoader);\n        this.bounds = IS_INPUT ? reformatInputBounds(parseBounds(node)) : parseBounds(node);\n        this.curvedBounds = parseBoundCurves(this.bounds, this.style.border, this.style.borderRadius);\n\n        \n    }\n\n    _createClass(NodeContainer, [{\n        key: 'getClipPaths',\n        value: function getClipPaths() {\n            var parentClips = this.parent ? this.parent.getClipPaths() : [];\n            var isClipped = this.style.overflow === OVERFLOW.HIDDEN || this.style.overflow === OVERFLOW.SCROLL;\n\n            return isClipped ? parentClips.concat([calculatePaddingBoxPath(this.curvedBounds)]) : parentClips;\n        }\n    }, {\n        key: 'isInFlow',\n        value: function isInFlow() {\n            return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();\n        }\n    }, {\n        key: 'isVisible',\n        value: function isVisible() {\n            return !contains(this.style.display, DISPLAY.NONE) && this.style.opacity > 0 && this.style.visibility === VISIBILITY.VISIBLE;\n        }\n    }, {\n        key: 'isAbsolutelyPositioned',\n        value: function isAbsolutelyPositioned() {\n            return this.style.position !== POSITION.STATIC && this.style.position !== POSITION.RELATIVE;\n        }\n    }, {\n        key: 'isPositioned',\n        value: function isPositioned() {\n            return this.style.position !== POSITION.STATIC;\n        }\n    }, {\n        key: 'isFloating',\n        value: function isFloating() {\n            return this.style.float !== FLOAT.NONE;\n        }\n    }, {\n        key: 'isRootElement',\n        value: function isRootElement() {\n            return this.parent === null;\n        }\n    }, {\n        key: 'isTransformed',\n        value: function isTransformed() {\n            return this.style.transform !== null;\n        }\n    }, {\n        key: 'isPositionedWithZIndex',\n        value: function isPositionedWithZIndex() {\n            return this.isPositioned() && !this.style.zIndex.auto;\n        }\n    }, {\n        key: 'isInlineLevel',\n        value: function isInlineLevel() {\n            return contains(this.style.display, DISPLAY.INLINE) || contains(this.style.display, DISPLAY.INLINE_BLOCK) || contains(this.style.display, DISPLAY.INLINE_FLEX) || contains(this.style.display, DISPLAY.INLINE_GRID) || contains(this.style.display, DISPLAY.INLINE_LIST_ITEM) || contains(this.style.display, DISPLAY.INLINE_TABLE);\n        }\n    }, {\n        key: 'isInlineBlockOrInlineTable',\n        value: function isInlineBlockOrInlineTable() {\n            return contains(this.style.display, DISPLAY.INLINE_BLOCK) || contains(this.style.display, DISPLAY.INLINE_TABLE);\n        }\n    }]);\n\n    return NodeContainer;\n}();\n\nvar getImage = function getImage(node, imageLoader) {\n    if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {\n        var s = new XMLSerializer();\n        return imageLoader.loadImage('data:image/svg+xml,' + encodeURIComponent(s.serializeToString(node)));\n    }\n    switch (node.tagName) {\n        case 'IMG':\n            // $FlowFixMe\n            return imageLoader.loadImage(node.currentSrc || node.src);\n        case 'CANVAS':\n            // $FlowFixMe\n            return imageLoader.loadCanvas(node);\n        case 'DIV':\n            var iframeKey = node.getAttribute('data-html2canvas-internal-iframe-key');\n            if (iframeKey) {\n                console.log('ok');\n                return iframeKey;\n            }\n            break;\n    }\n\n    return null;\n};\n\n'use strict';\n\nvar StackingContext = function () {\n    function StackingContext(container, parent, treatAsRealStackingContext) {\n        _classCallCheck(this, StackingContext);\n\n        this.container = container;\n        this.parent = parent;\n        this.contexts = [];\n        this.children = [];\n        this.treatAsRealStackingContext = treatAsRealStackingContext;\n    }\n\n    _createClass(StackingContext, [{\n        key: 'getOpacity',\n        value: function getOpacity() {\n            return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;\n        }\n    }, {\n        key: 'getRealParentStackingContext',\n        value: function getRealParentStackingContext() {\n            return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();\n        }\n    }]);\n\n    return StackingContext;\n}();\n\n'use strict';\n\nvar NodeParser = function NodeParser(node, imageLoader, logger) {\n    var index = 0;\n\n    var container = new NodeContainer(node, null, imageLoader, index++);\n    var stack = new StackingContext(container, null, true);\n\n    parseNodeTree(node, container, stack, imageLoader, index);\n\n    return stack;\n};\n\nvar IGNORED_NODE_NAMES = ['SCRIPT', 'HEAD', 'TITLE', 'OBJECT', 'BR', 'OPTION'];\n\nvar parseNodeTree = function parseNodeTree(node, parent, stack, imageLoader, index) {\n    if (false && index > 50000) {\n        throw new Error('Recursion error while parsing node tree');\n    }\n\n    for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n        var defaultView = childNode.ownerDocument.defaultView;\n        if (childNode instanceof defaultView.Text || childNode instanceof Text) {\n            if (childNode.data.trim().length > 0) {\n                parent.childNodes.push(TextContainer.fromTextNode(childNode, parent));\n            }\n        } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement) {\n            if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {\n                var container = new NodeContainer(childNode, parent, imageLoader, index++);\n                if (container.isVisible()) {\n                    if (childNode.tagName === 'INPUT') {\n                        // $FlowFixMe\n                        inlineInputElement(childNode, container);\n                    } else if (childNode.tagName === 'TEXTAREA') {\n                        // $FlowFixMe\n                        inlineTextAreaElement(childNode, container);\n                    } else if (childNode.tagName === 'SELECT') {\n                        // $FlowFixMe\n                        inlineSelectElement(childNode, container);\n                    }\n\n                    var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== 'TEXTAREA';\n                    var treatAsRealStackingContext = createsRealStackingContext(container, childNode);\n                    if (treatAsRealStackingContext || createsStackingContext(container)) {\n                        // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                        // which actually create a new stacking context should be considered part of the parent stacking context\n                        var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                        var childStack = new StackingContext(container, parentStack, treatAsRealStackingContext);\n                        parentStack.contexts.push(childStack);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, childStack, imageLoader, index);\n                        }\n                    } else {\n                        stack.children.push(container);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, stack, imageLoader, index);\n                        }\n                    }\n                }\n            }\n        } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement) {\n            var _container = new NodeContainer(childNode, parent, imageLoader, index++);\n            var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);\n            if (_treatAsRealStackingContext || createsStackingContext(_container)) {\n                // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                // which actually create a new stacking context should be considered part of the parent stacking context\n                var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                var _childStack = new StackingContext(_container, _parentStack, _treatAsRealStackingContext);\n                _parentStack.contexts.push(_childStack);\n            } else {\n                stack.children.push(_container);\n            }\n        }\n    }\n};\n\nvar createsRealStackingContext = function createsRealStackingContext(container, node) {\n    return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);\n};\n\nvar createsStackingContext = function createsStackingContext(container) {\n    return container.isPositioned() || container.isFloating();\n};\n\nvar isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {\n    return node.nodeName === 'BODY' && container.parent instanceof NodeContainer && container.parent.style.background.backgroundColor.isTransparent();\n};\n\n'use strict';\n\nvar SAMPLE_TEXT = 'Hidden Text';\nvar FontMetrics = function () {\n    function FontMetrics(document) {\n        _classCallCheck(this, FontMetrics);\n\n        this._data = {};\n        this._document = document;\n    }\n\n    _createClass(FontMetrics, [{\n        key: '_parseMetrics',\n        value: function _parseMetrics(font) {\n            var container = this._document.createElement('div');\n            var img = this._document.createElement('img');\n            var span = this._document.createElement('span');\n\n            var body = this._document.body;\n            if (!body) {\n                throw new Error('');\n            }\n\n            container.style.visibility = 'hidden';\n            container.style.fontFamily = font.fontFamily;\n            container.style.fontSize = font.fontSize;\n            container.style.margin = '0';\n            container.style.padding = '0';\n\n            body.appendChild(container);\n\n            img.src = SMALL_IMAGE;\n            img.width = 1;\n            img.height = 1;\n\n            img.style.margin = '0';\n            img.style.padding = '0';\n            img.style.verticalAlign = 'baseline';\n\n            span.style.fontFamily = font.fontFamily;\n            span.style.fontSize = font.fontSize;\n            span.style.margin = '0';\n            span.style.padding = '0';\n\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n            container.appendChild(span);\n            container.appendChild(img);\n            var baseline = img.offsetTop - span.offsetTop + 2;\n\n            container.removeChild(span);\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n            container.style.lineHeight = 'normal';\n            img.style.verticalAlign = 'super';\n\n            var middle = img.offsetTop - container.offsetTop + 2;\n\n            body.removeChild(container);\n\n            return { baseline: baseline, middle: middle };\n        }\n    }, {\n        key: 'getMetrics',\n        value: function getMetrics(font) {\n            if (this._data[font.fontFamily + ' ' + font.fontSize] === undefined) {\n                this._data[font.fontFamily + ' ' + font.fontSize] = this._parseMetrics(font);\n            }\n            return this._data[font.fontFamily + ' ' + font.fontSize];\n        }\n    }]);\n\n    return FontMetrics;\n}();\n\n'use strict';\n\nvar ANGLE = /([+-]?\\d*\\.?\\d+)(deg|grad|rad|turn)/i;\n\nvar parseAngle = function parseAngle(angle) {\n    var match = angle.match(ANGLE);\n\n    if (match) {\n        var value = parseFloat(match[1]);\n        switch (match[2].toLowerCase()) {\n            case 'deg':\n                return Math.PI * value / 180;\n            case 'grad':\n                return Math.PI / 200 * value;\n            case 'rad':\n                return value;\n            case 'turn':\n                return Math.PI * 2 * value;\n        }\n    }\n\n    return null;\n};\n\n'use strict';\n\nvar SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;\nvar PERCENTAGE_ANGLES = /^([+-]?\\d*\\.?\\d+)% ([+-]?\\d*\\.?\\d+)%$/i;\nvar ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;\nvar FROM_TO = /^(from|to)\\((.+)\\)$/i;\n\nvar parseGradient = function parseGradient(_ref, bounds) {\n    var args = _ref.args,\n        method = _ref.method;\n\n    if (method === 'linear-gradient') {\n        return parseLinearGradient(args, bounds);\n    } else if (method === 'gradient' && args[0] === 'linear') {\n        // TODO handle correct angle\n        return parseLinearGradient(['to bottom'].concat(args.slice(3).map(function (color) {\n            return color.match(FROM_TO);\n        }).filter(function (v) {\n            return v !== null;\n        })\n        // $FlowFixMe\n        .map(function (v) {\n            return v[2];\n        })), bounds);\n    }\n};\n\nvar parseLinearGradient = function parseLinearGradient(args, bounds) {\n    var angle = parseAngle(args[0]);\n    var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);\n    var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);\n    var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection(angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);\n    var colorStops = [];\n    var firstColorStopIndex = HAS_DIRECTION ? 1 : 0;\n\n    for (var i = firstColorStopIndex; i < args.length; i++) {\n        var value = args[i];\n        var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);\n        var lastSpaceIndex = value.lastIndexOf(' ');\n        var _color = new Color(HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);\n        var _stop = HAS_LENGTH ? new Length(value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new Length('0%') : i === args.length - 1 ? new Length('100%') : null;\n        colorStops.push({ color: _color, stop: _stop });\n    }\n\n    // TODO: Fix some inaccuracy with color stops with px values\n    var lineLength = Math.min(Math.sqrt(Math.pow(Math.abs(direction.x0) + Math.abs(direction.x1), 2) + Math.pow(Math.abs(direction.y0) + Math.abs(direction.y1), 2)), bounds.width * 2, bounds.height * 2);\n\n    var absoluteValuedColorStops = colorStops.map(function (_ref2) {\n        var color = _ref2.color,\n            stop = _ref2.stop;\n\n        return {\n            color: color,\n            // $FlowFixMe\n            stop: stop ? stop.getAbsoluteValue(lineLength) / lineLength : null\n        };\n    });\n\n    var previousColorStop = absoluteValuedColorStops[0].stop;\n    for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {\n        if (previousColorStop !== null) {\n            var _stop2 = absoluteValuedColorStops[_i].stop;\n            if (_stop2 === null) {\n                var n = _i;\n                while (absoluteValuedColorStops[n].stop === null) {\n                    n++;\n                }\n                var steps = n - _i + 1;\n                var nextColorStep = absoluteValuedColorStops[n].stop;\n                var stepSize = (nextColorStep - previousColorStop) / steps;\n                for (; _i < n; _i++) {\n                    previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;\n                }\n            } else {\n                previousColorStop = _stop2;\n            }\n        }\n    }\n\n    return {\n        direction: direction,\n        colorStops: absoluteValuedColorStops\n    };\n};\n\nvar calculateGradientDirection = function calculateGradientDirection(radian, bounds) {\n    var width = bounds.width;\n    var height = bounds.height;\n    var HALF_WIDTH = width * 0.5;\n    var HALF_HEIGHT = height * 0.5;\n    var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n    var HALF_LINE_LENGTH = lineLength / 2;\n\n    var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;\n    var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;\n    var x1 = width - x0;\n    var y1 = height - y0;\n\n    return { x0: x0, x1: x1, y0: y0, y1: y1 };\n};\n\nvar parseTopRight = function parseTopRight(bounds) {\n    return Math.acos(bounds.width / 2 / (Math.sqrt(Math.pow(bounds.width, 2) + Math.pow(bounds.height, 2)) / 2));\n};\n\nvar parseSideOrCorner = function parseSideOrCorner(side, bounds) {\n    switch (side) {\n        case 'bottom':\n        case 'to top':\n            return calculateGradientDirection(0, bounds);\n        case 'left':\n        case 'to right':\n            return calculateGradientDirection(Math.PI / 2, bounds);\n        case 'right':\n        case 'to left':\n            return calculateGradientDirection(3 * Math.PI / 2, bounds);\n        case 'top right':\n        case 'right top':\n        case 'to bottom left':\n        case 'to left bottom':\n            return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);\n        case 'top left':\n        case 'left top':\n        case 'to bottom right':\n        case 'to right bottom':\n            return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);\n        case 'bottom left':\n        case 'left bottom':\n        case 'to top right':\n        case 'to right top':\n            return calculateGradientDirection(parseTopRight(bounds), bounds);\n        case 'bottom right':\n        case 'right bottom':\n        case 'to top left':\n        case 'to left top':\n            return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);\n        case 'top':\n        case 'to bottom':\n        default:\n            return calculateGradientDirection(Math.PI, bounds);\n    }\n};\n\nvar parsePercentageAngle = function parsePercentageAngle(angle, bounds) {\n    var _angle$split$map = angle.split(' ').map(parseFloat),\n        _angle$split$map2 = _slicedToArray(_angle$split$map, 2),\n        left = _angle$split$map2[0],\n        top = _angle$split$map2[1];\n\n    var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);\n\n    return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);\n};\n\n'use strict';\n\nvar Renderer = function () {\n    function Renderer(target, options) {\n        _classCallCheck(this, Renderer);\n\n        this.target = target;\n        this.options = options;\n        target.render(options);\n    }\n\n    _createClass(Renderer, [{\n        key: 'renderNode',\n        value: function renderNode(container) {\n            if (container.isVisible()) {\n                this.renderNodeBackgroundAndBorders(container);\n                this.renderNodeContent(container);\n            }\n        }\n    }, {\n        key: 'renderNodeContent',\n        value: function renderNodeContent(container) {\n            var _this = this;\n\n            var callback = function callback() {\n                if (container.childNodes.length) {\n                    container.childNodes.forEach(function (child) {\n                        if (child instanceof TextContainer) {\n                            var style = child.parent.style;\n                            _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n                        } else {\n                            _this.target.drawShape(child, container.style.color);\n                        }\n                    });\n                }\n\n                if (container.image) {\n                    var _image = _this.options.imageStore.get(container.image);\n                    if (_image) {\n                        var contentBox = calculateContentBox(container.bounds, container.style.padding, container.style.border);\n                        var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;\n                        var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;\n                        if (_width > 0 && _height > 0) {\n                            _this.target.clip([calculatePaddingBoxPath(container.curvedBounds)], function () {\n                                _this.target.drawImage(_image, new Bounds(0, 0, _width, _height), contentBox);\n                            });\n                        }\n                    }\n                }\n            };\n            var paths = container.getClipPaths();\n            if (paths.length) {\n                this.target.clip(paths, callback);\n            } else {\n                callback();\n            }\n        }\n    }, {\n        key: 'renderNodeBackgroundAndBorders',\n        value: function renderNodeBackgroundAndBorders(container) {\n            var _this2 = this;\n\n            var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n\n            var renderableBorders = container.style.border.filter(function (border) {\n                return border.borderStyle !== BORDER_STYLE.NONE && !border.borderColor.isTransparent();\n            });\n\n            var callback = function callback() {\n                var backgroundPaintingArea = calculateBackgroungPaintingArea(container.curvedBounds, container.style.background.backgroundClip);\n\n                if (HAS_BACKGROUND) {\n                    _this2.target.clip([backgroundPaintingArea], function () {\n                        if (!container.style.background.backgroundColor.isTransparent()) {\n                            _this2.target.fill(container.style.background.backgroundColor);\n                        }\n\n                        _this2.renderBackgroundImage(container);\n                    });\n                }\n\n                renderableBorders.forEach(function (border, side) {\n                    _this2.renderBorder(border, side, container.curvedBounds);\n                });\n            };\n\n            if (HAS_BACKGROUND || renderableBorders.length) {\n                var paths = container.parent ? container.parent.getClipPaths() : [];\n                if (paths.length) {\n                    this.target.clip(paths, callback);\n                } else {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'renderBackgroundImage',\n        value: function renderBackgroundImage(container) {\n            var _this3 = this;\n\n            container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n                if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {\n                    _this3.renderBackgroundRepeat(container, backgroundImage);\n                } else {\n                    var _gradient = parseGradient(backgroundImage.source, container.bounds);\n                    if (_gradient) {\n                        var _bounds = container.bounds;\n                        _this3.target.renderLinearGradient(_bounds, _gradient);\n                    }\n                }\n            });\n        }\n    }, {\n        key: 'renderBackgroundRepeat',\n        value: function renderBackgroundRepeat(container, background) {\n            var image = this.options.imageStore.get(background.source.args[0]);\n            if (image) {\n                var _bounds2 = container.bounds;\n                var paddingBox = calculatePaddingBox(_bounds2, container.style.border);\n                var backgroundImageSize = calculateBackgroundSize(background, image, _bounds2);\n\n                // TODO support CONTENT_BOX\n                var backgroundPositioningArea = container.style.background.backgroundOrigin === BACKGROUND_ORIGIN.BORDER_BOX ? _bounds2 : paddingBox;\n\n                var position = calculateBackgroundPosition(background.position, backgroundImageSize, backgroundPositioningArea);\n                var _path = calculateBackgroundRepeatPath(background, position, backgroundImageSize, backgroundPositioningArea, _bounds2);\n\n                var _offsetX = Math.round(paddingBox.left + position.x);\n                var _offsetY = Math.round(paddingBox.top + position.y);\n                this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n            }\n        }\n    }, {\n        key: 'renderBorder',\n        value: function renderBorder(border, side, curvePoints) {\n            this.target.drawShape(parsePathForBorder(curvePoints, side), border.borderColor);\n        }\n    }, {\n        key: 'renderStack',\n        value: function renderStack(stack) {\n            var _this4 = this;\n\n            if (stack.container.isVisible()) {\n                var _opacity = stack.getOpacity();\n                if (_opacity !== this._opacity) {\n                    this.target.setOpacity(stack.getOpacity());\n                    this._opacity = _opacity;\n                }\n\n                var _transform = stack.container.style.transform;\n                if (_transform !== null) {\n                    this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {\n                        return _this4.renderStackContent(stack);\n                    });\n                } else {\n                    this.renderStackContent(stack);\n                }\n            }\n        }\n    }, {\n        key: 'renderStackContent',\n        value: function renderStackContent(stack) {\n            var _splitStackingContext = splitStackingContexts(stack),\n                _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n                negativeZIndex = _splitStackingContext2[0],\n                zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n                positiveZIndex = _splitStackingContext2[2],\n                nonPositionedFloats = _splitStackingContext2[3],\n                nonPositionedInlineLevel = _splitStackingContext2[4];\n\n            var _splitDescendants = splitDescendants(stack),\n                _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n                inlineLevel = _splitDescendants2[0],\n                nonInlineLevel = _splitDescendants2[1];\n\n            // https://www.w3.org/TR/css-position-3/#painting-order\n            // 1. the background and borders of the element forming the stacking context.\n\n\n            this.renderNodeBackgroundAndBorders(stack.container);\n            // 2. the child stacking contexts with negative stack levels (most negative first).\n            negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n            this.renderNodeContent(stack.container);\n            nonInlineLevel.forEach(this.renderNode, this);\n            // 4. All non-positioned floating descendants, in tree order. For each one of these,\n            // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context,\n            // not this new one.\n            nonPositionedFloats.forEach(this.renderStack, this);\n            // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n            nonPositionedInlineLevel.forEach(this.renderStack, this);\n            inlineLevel.forEach(this.renderNode, this);\n            // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n            //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n            //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n            //  but any positioned descendants and descendants which actually create a new stacking context should be\n            //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n            //  treat the stacking context generated atomically.\n            //\n            //  All opacity descendants with opacity less than 1\n            //\n            //  All transform descendants with transform other than none\n            zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);\n            // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n            // order (smallest first) then tree order.\n            positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n        }\n    }, {\n        key: 'render',\n        value: function render(stack) {\n            if (this.options.backgroundColor) {\n                this.target.rectangle(0, 0, this.options.width, this.options.height, this.options.backgroundColor);\n            }\n            this.renderStack(stack);\n            var target = this.target.getTarget();\n            return target;\n        }\n    }]);\n\n    return Renderer;\n}();\n\nvar splitDescendants = function splitDescendants(stack) {\n    var inlineLevel = [];\n    var nonInlineLevel = [];\n\n    var length = stack.children.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.children[i];\n        if (child.isInlineLevel()) {\n            inlineLevel.push(child);\n        } else {\n            nonInlineLevel.push(child);\n        }\n    }\n    return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n    var negativeZIndex = [];\n    var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n    var positiveZIndex = [];\n    var nonPositionedFloats = [];\n    var nonPositionedInlineLevel = [];\n    var length = stack.contexts.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.contexts[i];\n        if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n            if (child.container.style.zIndex.order < 0) {\n                negativeZIndex.push(child);\n            } else if (child.container.style.zIndex.order > 0) {\n                positiveZIndex.push(child);\n            } else {\n                zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n            }\n        } else {\n            if (child.container.isFloating()) {\n                nonPositionedFloats.push(child);\n            } else {\n                nonPositionedInlineLevel.push(child);\n            }\n        }\n    }\n    return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n    if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n        return 1;\n    } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n        return -1;\n    }\n\n    return a.container.index > b.container.index ? 1 : -1;\n};\n\n'use strict';\n\nvar Proxy = function Proxy(src, options) {\n    if (!options.proxy) {\n        return _Promise.reject(null);\n    }\n    var proxy = options.proxy;\n\n    return new _Promise(function (resolve, reject) {\n        var responseType = FEATURES.SUPPORT_CORS_XHR && FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n        var xhr = FEATURES.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n        xhr.onload = function () {\n            if (xhr instanceof XMLHttpRequest) {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        var reader = new FileReader();\n                        // $FlowFixMe\n                        reader.addEventListener('load', function () {\n                            return resolve(reader.result);\n                        }, false);\n                        // $FlowFixMe\n                        reader.addEventListener('error', function (e) {\n                            return reject(e);\n                        }, false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject('');\n                }\n            } else {\n                resolve(xhr.responseText);\n            }\n        };\n\n        xhr.onerror = reject;\n        xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);\n\n        if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n            xhr.responseType = responseType;\n        }\n\n        if (options.imageTimeout) {\n            var timeout = options.imageTimeout;\n            xhr.timeout = timeout;\n            xhr.ontimeout = function () {\n                return reject('');\n            };\n        }\n\n        xhr.send();\n    });\n};\n\n'use strict';\n\n// $FlowFixMe\n\nvar ImageLoader = function () {\n    function ImageLoader(options, logger, window) {\n        _classCallCheck(this, ImageLoader);\n\n        this.options = options;\n        this._window = window;\n        this.origin = this.getOrigin(window.location.href);\n        this.cache = {};\n        this.logger = logger;\n        this._index = 0;\n    }\n\n    _createClass(ImageLoader, [{\n        key: 'loadImage',\n        value: function loadImage(src) {\n            var _this = this;\n\n            if (this.hasImageInCache(src)) {\n                return src;\n            }\n\n            if (isSVG(src)) {\n                if (this.options.allowTaint === true || FEATURES.SUPPORT_SVG_DRAWING) {\n                    return this.addImage(src, src, false);\n                }\n            } else {\n                if (this.options.allowTaint === true || isInlineBase64Image(src) || this.isSameOrigin(src)) {\n                    return this.addImage(src, src, false);\n                } else if (!this.isSameOrigin(src)) {\n                    if (typeof this.options.proxy === 'string') {\n                        this.cache[src] = Proxy(src, this.options).then(function (src) {\n                            return _loadImage(src, _this.options.imageTimeout || 0);\n                        });\n                        return src;\n                    } else if (this.options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES) {\n                        return this.addImage(src, src, true);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'inlineImage',\n        value: function inlineImage(src) {\n            var _this2 = this;\n\n            if (isInlineImage(src)) {\n                return _loadImage(src, this.options.imageTimeout || 0);\n            }\n            if (this.hasImageInCache(src)) {\n                return this.cache[src];\n            }\n            if (!this.isSameOrigin(src) && typeof this.options.proxy === 'string') {\n                return this.cache[src] = Proxy(src, this.options).then(function (src) {\n                    return _loadImage(src, _this2.options.imageTimeout || 0);\n                });\n            }\n\n            return this.xhrImage(src);\n        }\n    }, {\n        key: 'xhrImage',\n        value: function xhrImage(src) {\n            var _this3 = this;\n\n            this.cache[src] = new _Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status !== 200) {\n                            reject('Failed to fetch image ' + src.substring(0, 256) + ' with status code ' + xhr.status);\n                        } else {\n                            var reader = new FileReader();\n                            // $FlowFixMe\n                            reader.addEventListener('load', function () {\n                                return resolve(reader.result);\n                            }, false);\n                            // $FlowFixMe\n                            reader.addEventListener('error', function (e) {\n                                return reject(e);\n                            }, false);\n                            reader.readAsDataURL(xhr.response);\n                        }\n                    }\n                };\n                xhr.responseType = 'blob';\n                if (_this3.options.imageTimeout) {\n                    var timeout = _this3.options.imageTimeout;\n                    xhr.timeout = timeout;\n                    xhr.ontimeout = function () {\n                        return reject('');\n                    };\n                }\n                xhr.open('GET', src, true);\n                xhr.send();\n            }).then(function (src) {\n                return _loadImage(src, _this3.options.imageTimeout || 0);\n            });\n\n            return this.cache[src];\n        }\n    }, {\n        key: 'loadCanvas',\n        value: function loadCanvas(node) {\n            var key = String(this._index++);\n            this.cache[key] = _Promise.resolve(node);\n            return key;\n        }\n    }, {\n        key: 'hasImageInCache',\n        value: function hasImageInCache(key) {\n            return typeof this.cache[key] !== 'undefined';\n        }\n    }, {\n        key: 'addImage',\n        value: function addImage(key, src, useCORS) {\n            var _this4 = this;\n\n            var imageLoadHandler = function imageLoadHandler(supportsDataImages) {\n                return new _Promise(function (resolve, reject) {\n                    var img = new Image();\n                    img.onload = function () {\n                        return resolve(img);\n                    };\n                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n                    if (!supportsDataImages || useCORS) {\n                        img.crossOrigin = 'anonymous';\n                    }\n\n                    img.onerror = reject;\n                    img.src = src;\n                    if (img.complete === true) {\n                        // Inline XML images may fail to parse, throwing an Error later on\n                        setTimeout(function () {\n                            resolve(img);\n                        }, 500);\n                    }\n                    if (_this4.options.imageTimeout) {\n                        var timeout = _this4.options.imageTimeout;\n                        setTimeout(function () {\n                            return reject('');\n                        }, timeout);\n                    }\n                });\n            };\n\n            this.cache[key] = isInlineBase64Image(src) && !isSVG(src) ? // $FlowFixMe\n            FEATURES.SUPPORT_BASE64_DRAWING(src).then(imageLoadHandler) : imageLoadHandler(true);\n            return key;\n        }\n    }, {\n        key: 'isSameOrigin',\n        value: function isSameOrigin(url) {\n            return this.getOrigin(url) === this.origin;\n        }\n    }, {\n        key: 'getOrigin',\n        value: function getOrigin(url) {\n            var link = this._link || (this._link = this._window.document.createElement('a'));\n            link.href = url;\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n            return link.protocol + link.hostname + link.port;\n        }\n    }, {\n        key: 'ready',\n        value: function ready() {\n            var _this5 = this;\n\n            var keys$$1 = _Object$keys(this.cache);\n            return _Promise.all(keys$$1.map(function (str) {\n                return _this5.cache[str].catch(function (e) {\n                    return null;\n                });\n            })).then(function (images) {\n                return new ImageStore(keys$$1, images);\n            });\n        }\n    }]);\n\n    return ImageLoader;\n}();\n\nvar ImageStore = function () {\n    function ImageStore(keys$$1, images) {\n        _classCallCheck(this, ImageStore);\n\n        this._keys = keys$$1;\n        this._images = images;\n    }\n\n    _createClass(ImageStore, [{\n        key: 'get',\n        value: function get(key) {\n            var index = this._keys.indexOf(key);\n            return index === -1 ? null : this._images[index];\n        }\n    }]);\n\n    return ImageStore;\n}();\n\nvar INLINE_SVG = /^data:image\\/svg\\+xml/i;\nvar INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nvar INLINE_IMG = /^data:image\\/.*/i;\n\nvar isInlineImage = function isInlineImage(src) {\n    return INLINE_IMG.test(src);\n};\nvar isInlineBase64Image = function isInlineBase64Image(src) {\n    return INLINE_BASE64.test(src);\n};\n\nvar isSVG = function isSVG(src) {\n    return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n};\n\nvar _loadImage = function _loadImage(src, timeout) {\n    return new _Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n        if (img.complete === true) {\n            // Inline XML images may fail to parse, throwing an Error later on\n            setTimeout(function () {\n                resolve(img);\n            }, 500);\n        }\n        if (timeout) {\n            setTimeout(function () {\n                return reject('');\n            }, timeout);\n        }\n    });\n};\n\n'use strict';\n\nvar DocumentCloner = function () {\n    function DocumentCloner(element, options, logger, copyInline, renderer) {\n        _classCallCheck(this, DocumentCloner);\n\n        this.referenceElement = element;\n        this.scrolledElements = [];\n        this.copyStyles = copyInline;\n        this.inlineImages = copyInline;\n        this.logger = logger;\n        this.options = options;\n        this.renderer = renderer;\n        this.imageLoader = new ImageLoader(options, logger, window);\n        // $FlowFixMe\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\n    }\n\n    _createClass(DocumentCloner, [{\n        key: 'inlineAllImages',\n        value: function inlineAllImages(node) {\n            var _this = this;\n\n            if (this.inlineImages && node) {\n                var style = node.style;\n                _Promise.all(parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n                    if (backgroundImage.method === 'url') {\n                        return _this.imageLoader.inlineImage(backgroundImage.args[0]).then(function (img) {\n                            return img ? 'url(\"' + img.src + '\")' : 'none';\n                        }).catch(function (e) {\n                            \n                        });\n                    }\n                    return _Promise.resolve('' + backgroundImage.prefix + backgroundImage.method + '(' + backgroundImage.args.join(',') + ')');\n                })).then(function (backgroundImages) {\n                    if (backgroundImages.length > 1) {\n                        // TODO Multiple backgrounds somehow broken in Chrome\n                        style.backgroundColor = '';\n                    }\n                    style.backgroundImage = backgroundImages.join(',');\n                });\n\n                if (node instanceof HTMLImageElement) {\n                    this.imageLoader.inlineImage(node.src).then(function (img) {\n                        if (img && node instanceof HTMLImageElement && node.parentNode) {\n                            var parentNode = node.parentNode;\n                            var clonedChild = copyCSSStyles(node.style, img.cloneNode(false));\n                            parentNode.replaceChild(clonedChild, node);\n                        }\n                    }).catch(function (e) {\n                        \n                    });\n                }\n            }\n        }\n    }, {\n        key: 'createElementClone',\n        value: function createElementClone(node) {\n            var _this2 = this;\n\n            if (this.copyStyles && node instanceof HTMLCanvasElement) {\n                var img = node.ownerDocument.createElement('img');\n                try {\n                    img.src = node.toDataURL();\n                    return img;\n                } catch (e) {\n                    \n                }\n            }\n\n            if (node instanceof HTMLIFrameElement) {\n                var tempIframe = node.cloneNode(false);\n                var iframeKey = generateIframeKey();\n                tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\n\n                this.imageLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {\n                    return _this2.renderer(documentElement, {\n                        async: _this2.options.async,\n                        allowTaint: _this2.options.allowTaint,\n                        backgroundColor: '#ffffff',\n                        canvas: null,\n                        imageTimeout: _this2.options.imageTimeout,\n                        proxy: _this2.options.proxy,\n                        removeContainer: _this2.options.removeContainer,\n                        scale: _this2.options.scale,\n                        target: new CanvasRenderer(),\n                        type: 'view',\n                        windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n                        windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n                        offsetX: documentElement.ownerDocument.defaultView.pageXOffset,\n                        offsetY: documentElement.ownerDocument.defaultView.pageYOffset\n                    }, _this2.logger.child(iframeKey));\n                }).then(function (canvas) {\n                    var iframeCanvas = document.createElement('img');\n                    iframeCanvas.src = canvas.toDataURL();\n                    if (tempIframe.parentNode) {\n                        tempIframe.parentNode.replaceChild(copyCSSStyles(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);\n                    }\n                    return canvas;\n                });\n                return tempIframe;\n            }\n\n            return node.cloneNode(false);\n        }\n    }, {\n        key: 'cloneNode',\n        value: function cloneNode(node) {\n            var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);\n\n            var window = node.ownerDocument.defaultView;\n\n            if (this.referenceElement === node && clone instanceof window.HTMLElement) {\n                this.clonedReferenceElement = clone;\n            }\n\n            if (clone instanceof window.HTMLBodyElement) {\n                createPseudoHideStyles(clone);\n            }\n\n            for (var child = node.firstChild; child; child = child.nextSibling) {\n                if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== 'SCRIPT') {\n                    if (!this.copyStyles || child.nodeName !== 'STYLE') {\n                        clone.appendChild(this.cloneNode(child));\n                    }\n                }\n            }\n            if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {\n                this.inlineAllImages(inlinePseudoElement(node, clone, PSEUDO_BEFORE));\n                this.inlineAllImages(inlinePseudoElement(node, clone, PSEUDO_AFTER));\n                if (this.copyStyles && !(node instanceof HTMLIFrameElement)) {\n                    copyCSSStyles(node.ownerDocument.defaultView.getComputedStyle(node), clone);\n                }\n                this.inlineAllImages(clone);\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                    this.scrolledElements.push([node, node.scrollLeft, node.scrollTop]);\n                }\n                switch (node.nodeName) {\n                    case 'CANVAS':\n                        if (!this.copyStyles) {\n                            cloneCanvasContents(node, clone);\n                        }\n                        break;\n                    case 'TEXTAREA':\n                    case 'SELECT':\n                        clone.value = node.value;\n                        break;\n                }\n            }\n            return clone;\n        }\n    }]);\n\n    return DocumentCloner;\n}();\n\nvar restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nvar cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            clonedCanvas.getContext('2d').putImageData(canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n        }\n    } catch (e) {}\n};\n\nvar inlinePseudoElement = function inlinePseudoElement(node, clone, pseudoElt) {\n    var style = node.ownerDocument.defaultView.getComputedStyle(node, pseudoElt);\n    if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n        return;\n    }\n\n    var content = stripQuotes(style.content);\n    var image = content.match(URL_REGEXP);\n    var anonymousReplacedElement = clone.ownerDocument.createElement(image ? 'img' : 'html2canvaspseudoelement');\n    if (image) {\n        // $FlowFixMe\n        anonymousReplacedElement.src = stripQuotes(image[1]);\n    } else {\n        anonymousReplacedElement.textContent = content;\n    }\n\n    copyCSSStyles(style, anonymousReplacedElement);\n\n    anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    clone.className += pseudoElt === PSEUDO_BEFORE ? ' ' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE : ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    if (pseudoElt === PSEUDO_BEFORE) {\n        clone.insertBefore(anonymousReplacedElement, clone.firstChild);\n    } else {\n        clone.appendChild(anonymousReplacedElement);\n    }\n\n    return anonymousReplacedElement;\n};\n\nvar stripQuotes = function stripQuotes(content) {\n    var first = content.substr(0, 1);\n    return first === content.substr(content.length - 1) && first.match(/['\"]/) ? content.substr(1, content.length - 2) : content;\n};\n\nvar URL_REGEXP = /^url\\((.+)\\)$/i;\nvar PSEUDO_BEFORE = ':before';\nvar PSEUDO_AFTER = ':after';\nvar PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nvar PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nvar PSEUDO_HIDE_ELEMENT_STYLE = '{\\n    content: \"\" !important;\\n    display: none !important;\\n}';\n\nvar createPseudoHideStyles = function createPseudoHideStyles(body) {\n    createStyles(body, '.' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + '\\n         .' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\n};\n\nvar createStyles = function createStyles(body, styles) {\n    var style = body.ownerDocument.createElement('style');\n    style.innerHTML = styles;\n    body.appendChild(style);\n};\n\nvar initNode = function initNode(_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        element = _ref2[0],\n        x = _ref2[1],\n        y = _ref2[2];\n\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nvar generateIframeKey = function generateIframeKey() {\n    return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);\n};\n\nvar getIframeDocumentElement = function getIframeDocumentElement(node, options) {\n    try {\n        return _Promise.resolve(node.contentWindow.document.documentElement);\n    } catch (e) {\n        return _Promise.reject();\n    }\n};\n\nvar cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {\n    var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);\n    var cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    if (ownerDocument.body) {\n        ownerDocument.body.appendChild(cloneIframeContainer);\n    } else {\n        return _Promise.reject('');\n    }\n    return new _Promise(function (resolve, reject) {\n        var cloneWindow = cloneIframeContainer.contentWindow;\n        var documentClone = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n        cloneWindow.onload = cloneIframeContainer.onload = function () {\n            var interval = setInterval(function () {\n                if (documentClone.body.childNodes.length > 0) {\n                    cloner.scrolledElements.forEach(initNode);\n                    clearInterval(interval);\n                    if (options.type === 'view') {\n                        cloneWindow.scrollTo(bounds.left, bounds.top);\n                        if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {\n                            documentClone.documentElement.style.top = -bounds.top + 'px';\n                            documentClone.documentElement.style.left = -bounds.left + 'px';\n                            documentClone.documentElement.style.position = 'absolute';\n                        }\n                    }\n                    if (cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement) {\n                        resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.imageLoader]);\n                    } else {\n                        reject('');\n                    }\n                }\n            }, 50);\n        };\n\n        documentClone.open();\n        documentClone.write('<!DOCTYPE html><html></html>');\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(referenceElement.ownerDocument, bounds.left, bounds.top);\n        documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);\n        documentClone.close();\n    });\n};\n\n'use strict';\n\nvar renderElement = function renderElement(element, options, logger) {\n    var ownerDocument = element.ownerDocument;\n\n    var windowBounds = new Bounds(options.offsetX, options.offsetY, options.windowWidth, options.windowHeight);\n\n    var bounds = options.type === 'view' ? windowBounds : parseDocumentSize(ownerDocument);\n\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    var documentBackgroundColor = ownerDocument.documentElement ? new Color(getComputedStyle(ownerDocument.documentElement).backgroundColor) : TRANSPARENT;\n    var bodyBackgroundColor = ownerDocument.body ? new Color(getComputedStyle(ownerDocument.body).backgroundColor) : TRANSPARENT;\n\n    var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new Color(options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new Color(options.backgroundColor) : null;\n\n    // $FlowFixMe\n    return FEATURES.SUPPORT_FOREIGNOBJECT_DRAWING.then(function (supportForeignObject) {\n        return supportForeignObject ? function (cloner) {\n            return cloner.imageLoader.ready().then(function () {\n                var renderer = new ForeignObjectRenderer(cloner.clonedReferenceElement);\n                return renderer.render({\n                    bounds: bounds,\n                    backgroundColor: backgroundColor,\n                    logger: logger,\n                    scale: options.scale\n                });\n            });\n        }(new DocumentCloner(element, options, logger, true, renderElement)) : cloneWindow(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 3),\n                container = _ref2[0],\n                clonedElement = _ref2[1],\n                imageLoader = _ref2[2];\n\n            var stack = NodeParser(clonedElement, imageLoader, logger);\n            var clonedDocument = clonedElement.ownerDocument;\n            var width = bounds.width;\n            var height = bounds.height;\n\n            if (backgroundColor === stack.container.style.background.backgroundColor) {\n                stack.container.style.background.backgroundColor = TRANSPARENT;\n            }\n\n            return imageLoader.ready().then(function (imageStore) {\n                if (options.removeContainer === true) {\n                    if (container.parentNode) {\n                        container.parentNode.removeChild(container);\n                    } else {}\n                }\n\n                var fontMetrics = new FontMetrics(clonedDocument);\n                var renderOptions = {\n                    backgroundColor: backgroundColor,\n                    fontMetrics: fontMetrics,\n                    imageStore: imageStore,\n                    logger: logger,\n                    scale: options.scale,\n                    width: width,\n                    height: height\n                };\n\n                if (Array.isArray(options.target)) {\n                    return _Promise.all(options.target.map(function (target) {\n                        var renderer = new Renderer(target, renderOptions);\n                        return renderer.render(stack);\n                    }));\n                } else {\n                    var renderer = new Renderer(options.target, renderOptions);\n                    return renderer.render(stack);\n                }\n            });\n        });\n    });\n};\n\n'use strict';\n\nvar html2canvas = function html2canvas(element, conf) {\n    if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) === 'object' && typeof console.log === 'function') {\n        console.log('html2canvas ' + '1.0.0-alpha.1');\n    }\n\n    var config = conf || {};\n    var logger = new Logger();\n\n    var ownerDocument = element.ownerDocument;\n    var defaultView = ownerDocument.defaultView;\n\n    var defaultOptions = {\n        async: true,\n        allowTaint: false,\n        imageTimeout: 15000,\n        proxy: null,\n        removeContainer: true,\n        scale: defaultView.devicePixelRatio || 1,\n        target: new CanvasRenderer(config.canvas),\n        type: null,\n        windowWidth: defaultView.innerWidth,\n        windowHeight: defaultView.innerHeight,\n        offsetX: defaultView.pageXOffset,\n        offsetY: defaultView.pageYOffset\n    };\n\n    var result = renderElement(element, _extends$1({}, defaultOptions, config), logger);\n\n    {\n        return result.catch(function (e) {\n            logger.error(e);\n            throw e;\n        });\n    }\n    return result;\n};\n\nhtml2canvas.CanvasRenderer = CanvasRenderer;\n\n/*\n\tBased on rgbcolor.js by Stoyan Stefanov <sstoo@gmail.com>\n\thttp://www.phpied.com/rgb-color-parser-in-javascript/\n*/\n\nvar rgbcolor = function rgbcolor(color_string) {\n    this.ok = false;\n    this.alpha = 1.0;\n\n    // strip any leading #\n    if (color_string.charAt(0) == '#') {\n        // remove # if any\n        color_string = color_string.substr(1, 6);\n    }\n\n    color_string = color_string.replace(/ /g, '');\n    color_string = color_string.toLowerCase();\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    var simple_colors = {\n        aliceblue: 'f0f8ff',\n        antiquewhite: 'faebd7',\n        aqua: '00ffff',\n        aquamarine: '7fffd4',\n        azure: 'f0ffff',\n        beige: 'f5f5dc',\n        bisque: 'ffe4c4',\n        black: '000000',\n        blanchedalmond: 'ffebcd',\n        blue: '0000ff',\n        blueviolet: '8a2be2',\n        brown: 'a52a2a',\n        burlywood: 'deb887',\n        cadetblue: '5f9ea0',\n        chartreuse: '7fff00',\n        chocolate: 'd2691e',\n        coral: 'ff7f50',\n        cornflowerblue: '6495ed',\n        cornsilk: 'fff8dc',\n        crimson: 'dc143c',\n        cyan: '00ffff',\n        darkblue: '00008b',\n        darkcyan: '008b8b',\n        darkgoldenrod: 'b8860b',\n        darkgray: 'a9a9a9',\n        darkgreen: '006400',\n        darkkhaki: 'bdb76b',\n        darkmagenta: '8b008b',\n        darkolivegreen: '556b2f',\n        darkorange: 'ff8c00',\n        darkorchid: '9932cc',\n        darkred: '8b0000',\n        darksalmon: 'e9967a',\n        darkseagreen: '8fbc8f',\n        darkslateblue: '483d8b',\n        darkslategray: '2f4f4f',\n        darkturquoise: '00ced1',\n        darkviolet: '9400d3',\n        deeppink: 'ff1493',\n        deepskyblue: '00bfff',\n        dimgray: '696969',\n        dodgerblue: '1e90ff',\n        feldspar: 'd19275',\n        firebrick: 'b22222',\n        floralwhite: 'fffaf0',\n        forestgreen: '228b22',\n        fuchsia: 'ff00ff',\n        gainsboro: 'dcdcdc',\n        ghostwhite: 'f8f8ff',\n        gold: 'ffd700',\n        goldenrod: 'daa520',\n        gray: '808080',\n        green: '008000',\n        greenyellow: 'adff2f',\n        honeydew: 'f0fff0',\n        hotpink: 'ff69b4',\n        indianred: 'cd5c5c',\n        indigo: '4b0082',\n        ivory: 'fffff0',\n        khaki: 'f0e68c',\n        lavender: 'e6e6fa',\n        lavenderblush: 'fff0f5',\n        lawngreen: '7cfc00',\n        lemonchiffon: 'fffacd',\n        lightblue: 'add8e6',\n        lightcoral: 'f08080',\n        lightcyan: 'e0ffff',\n        lightgoldenrodyellow: 'fafad2',\n        lightgrey: 'd3d3d3',\n        lightgreen: '90ee90',\n        lightpink: 'ffb6c1',\n        lightsalmon: 'ffa07a',\n        lightseagreen: '20b2aa',\n        lightskyblue: '87cefa',\n        lightslateblue: '8470ff',\n        lightslategray: '778899',\n        lightsteelblue: 'b0c4de',\n        lightyellow: 'ffffe0',\n        lime: '00ff00',\n        limegreen: '32cd32',\n        linen: 'faf0e6',\n        magenta: 'ff00ff',\n        maroon: '800000',\n        mediumaquamarine: '66cdaa',\n        mediumblue: '0000cd',\n        mediumorchid: 'ba55d3',\n        mediumpurple: '9370d8',\n        mediumseagreen: '3cb371',\n        mediumslateblue: '7b68ee',\n        mediumspringgreen: '00fa9a',\n        mediumturquoise: '48d1cc',\n        mediumvioletred: 'c71585',\n        midnightblue: '191970',\n        mintcream: 'f5fffa',\n        mistyrose: 'ffe4e1',\n        moccasin: 'ffe4b5',\n        navajowhite: 'ffdead',\n        navy: '000080',\n        oldlace: 'fdf5e6',\n        olive: '808000',\n        olivedrab: '6b8e23',\n        orange: 'ffa500',\n        orangered: 'ff4500',\n        orchid: 'da70d6',\n        palegoldenrod: 'eee8aa',\n        palegreen: '98fb98',\n        paleturquoise: 'afeeee',\n        palevioletred: 'd87093',\n        papayawhip: 'ffefd5',\n        peachpuff: 'ffdab9',\n        peru: 'cd853f',\n        pink: 'ffc0cb',\n        plum: 'dda0dd',\n        powderblue: 'b0e0e6',\n        purple: '800080',\n        red: 'ff0000',\n        rosybrown: 'bc8f8f',\n        royalblue: '4169e1',\n        saddlebrown: '8b4513',\n        salmon: 'fa8072',\n        sandybrown: 'f4a460',\n        seagreen: '2e8b57',\n        seashell: 'fff5ee',\n        sienna: 'a0522d',\n        silver: 'c0c0c0',\n        skyblue: '87ceeb',\n        slateblue: '6a5acd',\n        slategray: '708090',\n        snow: 'fffafa',\n        springgreen: '00ff7f',\n        steelblue: '4682b4',\n        tan: 'd2b48c',\n        teal: '008080',\n        thistle: 'd8bfd8',\n        tomato: 'ff6347',\n        turquoise: '40e0d0',\n        violet: 'ee82ee',\n        violetred: 'd02090',\n        wheat: 'f5deb3',\n        white: 'ffffff',\n        whitesmoke: 'f5f5f5',\n        yellow: 'ffff00',\n        yellowgreen: '9acd32'\n    };\n    color_string = simple_colors[color_string] || color_string;\n    // emd of simple type-in colors\n\n    // array of color definition objects\n    var color_defs = [{\n        re: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*((?:\\d?\\.)?\\d)\\)$/,\n        example: ['rgba(123, 234, 45, 0.8)', 'rgba(255,234,245,1.0)'],\n        process: function process(bits) {\n            return [parseInt(bits[1]), parseInt(bits[2]), parseInt(bits[3]), parseFloat(bits[4])];\n        }\n    }, {\n        re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n        example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n        process: function process(bits) {\n            return [parseInt(bits[1]), parseInt(bits[2]), parseInt(bits[3])];\n        }\n    }, {\n        re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n        example: ['#00ff00', '336699'],\n        process: function process(bits) {\n            return [parseInt(bits[1], 16), parseInt(bits[2], 16), parseInt(bits[3], 16)];\n        }\n    }, {\n        re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n        example: ['#fb0', 'f0f'],\n        process: function process(bits) {\n            return [parseInt(bits[1] + bits[1], 16), parseInt(bits[2] + bits[2], 16), parseInt(bits[3] + bits[3], 16)];\n        }\n    }];\n\n    // search through the definitions to find a match\n    for (var i = 0; i < color_defs.length; i++) {\n        var re = color_defs[i].re;\n        var processor = color_defs[i].process;\n        var bits = re.exec(color_string);\n        if (bits) {\n            var channels = processor(bits);\n            this.r = channels[0];\n            this.g = channels[1];\n            this.b = channels[2];\n            if (channels.length > 3) {\n                this.alpha = channels[3];\n            }\n            this.ok = true;\n        }\n    }\n\n    // validate/cleanup values\n    this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r;\n    this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g;\n    this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b;\n    this.alpha = this.alpha < 0 ? 0 : this.alpha > 1.0 || isNaN(this.alpha) ? 1.0 : this.alpha;\n\n    // some getters\n    this.toRGB = function () {\n        return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';\n    };\n    this.toRGBA = function () {\n        return 'rgba(' + this.r + ', ' + this.g + ', ' + this.b + ', ' + this.alpha + ')';\n    };\n    this.toHex = function () {\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n        if (r.length == 1) r = '0' + r;\n        if (g.length == 1) g = '0' + g;\n        if (b.length == 1) b = '0' + b;\n        return '#' + r + g + b;\n    };\n\n    // help\n    this.getHelpXML = function () {\n\n        var examples = new Array();\n        // add regexps\n        for (var i = 0; i < color_defs.length; i++) {\n            var example = color_defs[i].example;\n            for (var j = 0; j < example.length; j++) {\n                examples[examples.length] = example[j];\n            }\n        }\n        // add type-in colors\n        for (var sc in simple_colors) {\n            examples[examples.length] = sc;\n        }\n\n        var xml = document.createElement('ul');\n        xml.setAttribute('id', 'rgbcolor-examples');\n        for (var i = 0; i < examples.length; i++) {\n            try {\n                var list_item = document.createElement('li');\n                var list_color = new RGBColor(examples[i]);\n                var example_div = document.createElement('div');\n                example_div.style.cssText = 'margin: 3px; ' + 'border: 1px solid black; ' + 'background:' + list_color.toHex() + '; ' + 'color:' + list_color.toHex();\n                example_div.appendChild(document.createTextNode('test'));\n                var list_item_value = document.createTextNode(' ' + examples[i] + ' -> ' + list_color.toRGB() + ' -> ' + list_color.toHex());\n                list_item.appendChild(example_div);\n                list_item.appendChild(list_item_value);\n                xml.appendChild(list_item);\n            } catch (e) {}\n        }\n        return xml;\n    };\n};\n\n/*\n\nStackBlur - a fast almost Gaussian Blur For Canvas\n\nVersion: \t0.5\nAuthor:\t\tMario Klingemann\nContact: \tmario@quasimondo.com\nWebsite:\thttp://www.quasimondo.com/StackBlurForCanvas\nTwitter:\t@quasimondo\n\nIn case you find this class useful - especially in commercial projects -\nI am not totally unhappy for a small donation to my PayPal account\nmario@quasimondo.de\n\nOr support me on flattr: \nhttps://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript\n\nCopyright (c) 2010 Mario Klingemann\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\n\nvar shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n\nfunction blur(pixels, width, height, radius) {\n\tif (isNaN(radius) || radius < 1) return;\n\tradius |= 0;\n\n\tvar x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n\n\tvar div = radius + radius + 1;\n\tvar widthMinus1 = width - 1;\n\tvar heightMinus1 = height - 1;\n\tvar radiusPlus1 = radius + 1;\n\tvar sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n\n\tvar stackStart = new BlurStack();\n\tvar stack = stackStart;\n\tfor (i = 1; i < div; i++) {\n\t\tstack = stack.next = new BlurStack();\n\t\tif (i == radiusPlus1) var stackEnd = stack;\n\t}\n\tstack.next = stackStart;\n\tvar stackIn = null;\n\tvar stackOut = null;\n\n\tyw = yi = 0;\n\n\tvar mul_sum = mul_table[radius];\n\tvar shg_sum = shg_table[radius];\n\n\tfor (y = 0; y < height; y++) {\n\t\tr_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n\n\t\tr_out_sum = radiusPlus1 * (pr = pixels[yi]);\n\t\tg_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n\t\tb_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n\t\ta_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n\n\t\tr_sum += sumFactor * pr;\n\t\tg_sum += sumFactor * pg;\n\t\tb_sum += sumFactor * pb;\n\t\ta_sum += sumFactor * pa;\n\n\t\tstack = stackStart;\n\n\t\tfor (i = 0; i < radiusPlus1; i++) {\n\t\t\tstack.r = pr;\n\t\t\tstack.g = pg;\n\t\t\tstack.b = pb;\n\t\t\tstack.a = pa;\n\t\t\tstack = stack.next;\n\t\t}\n\n\t\tfor (i = 1; i < radiusPlus1; i++) {\n\t\t\tp = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n\t\t\tr_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n\t\t\tg_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n\t\t\tb_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n\t\t\ta_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n\n\t\t\tr_in_sum += pr;\n\t\t\tg_in_sum += pg;\n\t\t\tb_in_sum += pb;\n\t\t\ta_in_sum += pa;\n\n\t\t\tstack = stack.next;\n\t\t}\n\n\t\tstackIn = stackStart;\n\t\tstackOut = stackEnd;\n\t\tfor (x = 0; x < width; x++) {\n\t\t\tpixels[yi + 3] = pa = a_sum * mul_sum >> shg_sum;\n\t\t\tif (pa != 0) {\n\t\t\t\tpa = 255 / pa;\n\t\t\t\tpixels[yi] = (r_sum * mul_sum >> shg_sum) * pa;\n\t\t\t\tpixels[yi + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n\t\t\t\tpixels[yi + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n\t\t\t} else {\n\t\t\t\tpixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n\t\t\t}\n\n\t\t\tr_sum -= r_out_sum;\n\t\t\tg_sum -= g_out_sum;\n\t\t\tb_sum -= b_out_sum;\n\t\t\ta_sum -= a_out_sum;\n\n\t\t\tr_out_sum -= stackIn.r;\n\t\t\tg_out_sum -= stackIn.g;\n\t\t\tb_out_sum -= stackIn.b;\n\t\t\ta_out_sum -= stackIn.a;\n\n\t\t\tp = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n\n\t\t\tr_in_sum += stackIn.r = pixels[p];\n\t\t\tg_in_sum += stackIn.g = pixels[p + 1];\n\t\t\tb_in_sum += stackIn.b = pixels[p + 2];\n\t\t\ta_in_sum += stackIn.a = pixels[p + 3];\n\n\t\t\tr_sum += r_in_sum;\n\t\t\tg_sum += g_in_sum;\n\t\t\tb_sum += b_in_sum;\n\t\t\ta_sum += a_in_sum;\n\n\t\t\tstackIn = stackIn.next;\n\n\t\t\tr_out_sum += pr = stackOut.r;\n\t\t\tg_out_sum += pg = stackOut.g;\n\t\t\tb_out_sum += pb = stackOut.b;\n\t\t\ta_out_sum += pa = stackOut.a;\n\n\t\t\tr_in_sum -= pr;\n\t\t\tg_in_sum -= pg;\n\t\t\tb_in_sum -= pb;\n\t\t\ta_in_sum -= pa;\n\n\t\t\tstackOut = stackOut.next;\n\n\t\t\tyi += 4;\n\t\t}\n\t\tyw += width;\n\t}\n\n\tfor (x = 0; x < width; x++) {\n\t\tg_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n\n\t\tyi = x << 2;\n\t\tr_out_sum = radiusPlus1 * (pr = pixels[yi]);\n\t\tg_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n\t\tb_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n\t\ta_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n\n\t\tr_sum += sumFactor * pr;\n\t\tg_sum += sumFactor * pg;\n\t\tb_sum += sumFactor * pb;\n\t\ta_sum += sumFactor * pa;\n\n\t\tstack = stackStart;\n\n\t\tfor (i = 0; i < radiusPlus1; i++) {\n\t\t\tstack.r = pr;\n\t\t\tstack.g = pg;\n\t\t\tstack.b = pb;\n\t\t\tstack.a = pa;\n\t\t\tstack = stack.next;\n\t\t}\n\n\t\typ = width;\n\n\t\tfor (i = 1; i <= radius; i++) {\n\t\t\tyi = yp + x << 2;\n\n\t\t\tr_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n\t\t\tg_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n\t\t\tb_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n\t\t\ta_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n\n\t\t\tr_in_sum += pr;\n\t\t\tg_in_sum += pg;\n\t\t\tb_in_sum += pb;\n\t\t\ta_in_sum += pa;\n\n\t\t\tstack = stack.next;\n\n\t\t\tif (i < heightMinus1) {\n\t\t\t\typ += width;\n\t\t\t}\n\t\t}\n\n\t\tyi = x;\n\t\tstackIn = stackStart;\n\t\tstackOut = stackEnd;\n\t\tfor (y = 0; y < height; y++) {\n\t\t\tp = yi << 2;\n\t\t\tpixels[p + 3] = pa = a_sum * mul_sum >> shg_sum;\n\t\t\tif (pa > 0) {\n\t\t\t\tpa = 255 / pa;\n\t\t\t\tpixels[p] = (r_sum * mul_sum >> shg_sum) * pa;\n\t\t\t\tpixels[p + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n\t\t\t\tpixels[p + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n\t\t\t} else {\n\t\t\t\tpixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n\t\t\t}\n\n\t\t\tr_sum -= r_out_sum;\n\t\t\tg_sum -= g_out_sum;\n\t\t\tb_sum -= b_out_sum;\n\t\t\ta_sum -= a_out_sum;\n\n\t\t\tr_out_sum -= stackIn.r;\n\t\t\tg_out_sum -= stackIn.g;\n\t\t\tb_out_sum -= stackIn.b;\n\t\t\ta_out_sum -= stackIn.a;\n\n\t\t\tp = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n\n\t\t\tr_sum += r_in_sum += stackIn.r = pixels[p];\n\t\t\tg_sum += g_in_sum += stackIn.g = pixels[p + 1];\n\t\t\tb_sum += b_in_sum += stackIn.b = pixels[p + 2];\n\t\t\ta_sum += a_in_sum += stackIn.a = pixels[p + 3];\n\n\t\t\tstackIn = stackIn.next;\n\n\t\t\tr_out_sum += pr = stackOut.r;\n\t\t\tg_out_sum += pg = stackOut.g;\n\t\t\tb_out_sum += pb = stackOut.b;\n\t\t\ta_out_sum += pa = stackOut.a;\n\n\t\t\tr_in_sum -= pr;\n\t\t\tg_in_sum -= pg;\n\t\t\tb_in_sum -= pb;\n\t\t\ta_in_sum -= pa;\n\n\t\t\tstackOut = stackOut.next;\n\n\t\t\tyi += width;\n\t\t}\n\t}\n}\n\nfunction BlurStack() {\n\tthis.r = 0;\n\tthis.g = 0;\n\tthis.b = 0;\n\tthis.a = 0;\n\tthis.next = null;\n}\n\nvar stackblur = blur;\n\nvar canvg = createCommonjsModule(function (module) {\n\t/*\r\n  * canvg.js - Javascript SVG parser and renderer on Canvas\r\n  * MIT Licensed\r\n  * Gabe Lerner (gabelerner@gmail.com)\r\n  * http://code.google.com/p/canvg/\r\n  *\r\n  * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/\r\n  */\n\t(function (global, factory) {\n\n\t\t'use strict';\n\n\t\t// export as AMD...\n\n\t\tif (typeof undefined !== 'undefined' && undefined.amd) {\n\t\t\tundefined('canvgModule', ['rgbcolor', 'stackblur'], factory);\n\t\t}\n\n\t\t// ...or as browserify\n\t\telse if ('object' !== 'undefined' && module.exports) {\n\t\t\t\tmodule.exports = factory(rgbcolor, stackblur);\n\t\t\t}\n\n\t\tglobal.canvg = factory(global.RGBColor, global.stackBlur);\n\t})(typeof window !== 'undefined' ? window : commonjsGlobal, function (RGBColor, stackBlur) {\n\n\t\t// canvg(target, s)\n\t\t// empty parameters: replace all 'svg' elements on page with 'canvas' elements\n\t\t// target: canvas element or the id of a canvas element\n\t\t// s: svg string, url to svg file, or xml document\n\t\t// opts: optional hash of options\n\t\t//\t\t ignoreMouse: true => ignore mouse events\n\t\t//\t\t ignoreAnimation: true => ignore animations\n\t\t//\t\t ignoreDimensions: true => does not try to resize canvas\n\t\t//\t\t ignoreClear: true => does not clear canvas\n\t\t//\t\t offsetX: int => draws at a x offset\n\t\t//\t\t offsetY: int => draws at a y offset\n\t\t//\t\t scaleWidth: int => scales horizontally to width\n\t\t//\t\t scaleHeight: int => scales vertically to height\n\t\t//\t\t renderCallback: function => will call the function after the first render is completed\n\t\t//\t\t forceRedraw: function => will call the function on every frame, if it returns true, will redraw\n\t\tvar canvg = function canvg(target, s, opts) {\n\t\t\t// no parameters\n\t\t\tif (target == null && s == null && opts == null) {\n\t\t\t\tvar svgTags = document.querySelectorAll('svg');\n\t\t\t\tfor (var i = 0; i < svgTags.length; i++) {\n\t\t\t\t\tvar svgTag = svgTags[i];\n\t\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\t\tc.width = svgTag.clientWidth;\n\t\t\t\t\tc.height = svgTag.clientHeight;\n\t\t\t\t\tsvgTag.parentNode.insertBefore(c, svgTag);\n\t\t\t\t\tsvgTag.parentNode.removeChild(svgTag);\n\t\t\t\t\tvar div = document.createElement('div');\n\t\t\t\t\tdiv.appendChild(svgTag);\n\t\t\t\t\tcanvg(c, div.innerHTML);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof target == 'string') {\n\t\t\t\ttarget = document.getElementById(target);\n\t\t\t}\n\n\t\t\t// store class on canvas\n\t\t\tif (target.svg != null) target.svg.stop();\n\t\t\tvar svg = build(opts || {});\n\t\t\t// on i.e. 8 for flash canvas, we can't assign the property so check for it\n\t\t\tif (!(target.childNodes.length == 1 && target.childNodes[0].nodeName == 'OBJECT')) target.svg = svg;\n\n\t\t\tvar ctx = target.getContext('2d');\n\t\t\tif (typeof s.documentElement != 'undefined') {\n\t\t\t\t// load from xml doc\n\t\t\t\tsvg.loadXmlDoc(ctx, s);\n\t\t\t} else if (s.substr(0, 1) == '<') {\n\t\t\t\t// load from xml string\n\t\t\t\tsvg.loadXml(ctx, s);\n\t\t\t} else {\n\t\t\t\t// load from url\n\t\t\t\tsvg.load(ctx, s);\n\t\t\t}\n\t\t};\n\n\t\t// see https://developer.mozilla.org/en-US/docs/Web/API/Element.matches\n\t\tvar matchesSelector;\n\t\tif (typeof Element.prototype.matches != 'undefined') {\n\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\treturn node.matches(selector);\n\t\t\t};\n\t\t} else if (typeof Element.prototype.webkitMatchesSelector != 'undefined') {\n\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\treturn node.webkitMatchesSelector(selector);\n\t\t\t};\n\t\t} else if (typeof Element.prototype.mozMatchesSelector != 'undefined') {\n\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\treturn node.mozMatchesSelector(selector);\n\t\t\t};\n\t\t} else if (typeof Element.prototype.msMatchesSelector != 'undefined') {\n\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\treturn node.msMatchesSelector(selector);\n\t\t\t};\n\t\t} else if (typeof Element.prototype.oMatchesSelector != 'undefined') {\n\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\treturn node.oMatchesSelector(selector);\n\t\t\t};\n\t\t} else {\n\t\t\t// requires Sizzle: https://github.com/jquery/sizzle/wiki/Sizzle-Documentation\n\t\t\t// or jQuery: http://jquery.com/download/\n\t\t\t// or Zepto: http://zeptojs.com/#\n\t\t\t// without it, this is a ReferenceError\n\n\t\t\tif (typeof jQuery === 'function' || typeof Zepto === 'function') {\n\t\t\t\tmatchesSelector = function matchesSelector(node, selector) {\n\t\t\t\t\treturn $(node).is(selector);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (typeof matchesSelector === 'undefined') {\n\t\t\t\tmatchesSelector = Sizzle.matchesSelector;\n\t\t\t}\n\t\t}\n\n\t\t// slightly modified version of https://github.com/keeganstreet/specificity/blob/master/specificity.js\n\t\tvar attributeRegex = /(\\[[^\\]]+\\])/g;\n\t\tvar idRegex = /(#[^\\s\\+>~\\.\\[:]+)/g;\n\t\tvar classRegex = /(\\.[^\\s\\+>~\\.\\[:]+)/g;\n\t\tvar pseudoElementRegex = /(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/gi;\n\t\tvar pseudoClassWithBracketsRegex = /(:[\\w-]+\\([^\\)]*\\))/gi;\n\t\tvar pseudoClassRegex = /(:[^\\s\\+>~\\.\\[:]+)/g;\n\t\tvar elementRegex = /([^\\s\\+>~\\.\\[:]+)/g;\n\t\tfunction getSelectorSpecificity(selector) {\n\t\t\tvar typeCount = [0, 0, 0];\n\t\t\tvar findMatch = function findMatch(regex, type) {\n\t\t\t\tvar matches = selector.match(regex);\n\t\t\t\tif (matches == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttypeCount[type] += matches.length;\n\t\t\t\tselector = selector.replace(regex, ' ');\n\t\t\t};\n\n\t\t\tselector = selector.replace(/:not\\(([^\\)]*)\\)/g, '     $1 ');\n\t\t\tselector = selector.replace(/{[\\s\\S]*/gm, ' ');\n\t\t\tfindMatch(attributeRegex, 1);\n\t\t\tfindMatch(idRegex, 0);\n\t\t\tfindMatch(classRegex, 1);\n\t\t\tfindMatch(pseudoElementRegex, 2);\n\t\t\tfindMatch(pseudoClassWithBracketsRegex, 1);\n\t\t\tfindMatch(pseudoClassRegex, 1);\n\t\t\tselector = selector.replace(/[\\*\\s\\+>~]/g, ' ');\n\t\t\tselector = selector.replace(/[#\\.]/g, ' ');\n\t\t\tfindMatch(elementRegex, 2);\n\t\t\treturn typeCount.join('');\n\t\t}\n\n\t\tfunction build(opts) {\n\t\t\tvar svg = { opts: opts };\n\n\t\t\tsvg.FRAMERATE = 30;\n\t\t\tsvg.MAX_VIRTUAL_PIXELS = 30000;\n\n\t\t\tsvg.log = function (msg) {};\n\t\t\tif (svg.opts['log'] == true && typeof console != 'undefined') {\n\t\t\t\tsvg.log = function (msg) {\n\t\t\t\t\tconsole.log(msg);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// globals\n\t\t\tsvg.init = function (ctx) {\n\t\t\t\tvar uniqueId = 0;\n\t\t\t\tsvg.UniqueId = function () {\n\t\t\t\t\tuniqueId++;return 'canvg' + uniqueId;\n\t\t\t\t};\n\t\t\t\tsvg.Definitions = {};\n\t\t\t\tsvg.Styles = {};\n\t\t\t\tsvg.StylesSpecificity = {};\n\t\t\t\tsvg.Animations = [];\n\t\t\t\tsvg.Images = [];\n\t\t\t\tsvg.ctx = ctx;\n\t\t\t\tsvg.ViewPort = new function () {\n\t\t\t\t\tthis.viewPorts = [];\n\t\t\t\t\tthis.Clear = function () {\n\t\t\t\t\t\tthis.viewPorts = [];\n\t\t\t\t\t};\n\t\t\t\t\tthis.SetCurrent = function (width, height) {\n\t\t\t\t\t\tthis.viewPorts.push({ width: width, height: height });\n\t\t\t\t\t};\n\t\t\t\t\tthis.RemoveCurrent = function () {\n\t\t\t\t\t\tthis.viewPorts.pop();\n\t\t\t\t\t};\n\t\t\t\t\tthis.Current = function () {\n\t\t\t\t\t\treturn this.viewPorts[this.viewPorts.length - 1];\n\t\t\t\t\t};\n\t\t\t\t\tthis.width = function () {\n\t\t\t\t\t\treturn this.Current().width;\n\t\t\t\t\t};\n\t\t\t\t\tthis.height = function () {\n\t\t\t\t\t\treturn this.Current().height;\n\t\t\t\t\t};\n\t\t\t\t\tthis.ComputeSize = function (d) {\n\t\t\t\t\t\tif (d != null && typeof d == 'number') return d;\n\t\t\t\t\t\tif (d == 'x') return this.width();\n\t\t\t\t\t\tif (d == 'y') return this.height();\n\t\t\t\t\t\treturn Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2);\n\t\t\t\t\t};\n\t\t\t\t}();\n\t\t\t};\n\t\t\tsvg.init();\n\n\t\t\t// images loaded\n\t\t\tsvg.ImagesLoaded = function () {\n\t\t\t\tfor (var i = 0; i < svg.Images.length; i++) {\n\t\t\t\t\tif (!svg.Images[i].loaded) return false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\t// trim\n\t\t\tsvg.trim = function (s) {\n\t\t\t\treturn s.replace(/^\\s+|\\s+$/g, '');\n\t\t\t};\n\n\t\t\t// compress spaces\n\t\t\tsvg.compressSpaces = function (s) {\n\t\t\t\treturn s.replace(/[\\s\\r\\t\\n]+/gm, ' ');\n\t\t\t};\n\n\t\t\t// ajax\n\t\t\tsvg.ajax = function (url) {\n\t\t\t\tvar AJAX;\n\t\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t\tAJAX = new XMLHttpRequest();\n\t\t\t\t} else {\n\t\t\t\t\tAJAX = new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t}\n\t\t\t\tif (AJAX) {\n\t\t\t\t\tAJAX.open('GET', url, false);\n\t\t\t\t\tAJAX.send(null);\n\t\t\t\t\treturn AJAX.responseText;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\n\t\t\t// parse xml\n\t\t\tsvg.parseXml = function (xml) {\n\t\t\t\tif (typeof Windows != 'undefined' && typeof Windows.Data != 'undefined' && typeof Windows.Data.Xml != 'undefined') {\n\t\t\t\t\tvar xmlDoc = new Windows.Data.Xml.Dom.XmlDocument();\n\t\t\t\t\tvar settings = new Windows.Data.Xml.Dom.XmlLoadSettings();\n\t\t\t\t\tsettings.prohibitDtd = false;\n\t\t\t\t\txmlDoc.loadXml(xml, settings);\n\t\t\t\t\treturn xmlDoc;\n\t\t\t\t} else if (window.DOMParser) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\treturn parser.parseFromString(xml, 'image/svg+xml');\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparser = new DOMParser();\n\t\t\t\t\t\treturn parser.parseFromString(xml, 'text/xml');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\txml = xml.replace(/<!DOCTYPE svg[^>]*>/, '');\n\t\t\t\t\tvar xmlDoc = new ActiveXObject('Microsoft.XMLDOM');\n\t\t\t\t\txmlDoc.async = 'false';\n\t\t\t\t\txmlDoc.loadXML(xml);\n\t\t\t\t\treturn xmlDoc;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsvg.Property = function (name, value) {\n\t\t\t\tthis.name = name;\n\t\t\t\tthis.value = value;\n\t\t\t};\n\t\t\tsvg.Property.prototype.getValue = function () {\n\t\t\t\treturn this.value;\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.hasValue = function () {\n\t\t\t\treturn this.value != null && this.value !== '';\n\t\t\t};\n\n\t\t\t// return the numerical value of the property\n\t\t\tsvg.Property.prototype.numValue = function () {\n\t\t\t\tif (!this.hasValue()) return 0;\n\n\t\t\t\tvar n = parseFloat(this.value);\n\t\t\t\tif ((this.value + '').match(/%$/)) {\n\t\t\t\t\tn = n / 100.0;\n\t\t\t\t}\n\t\t\t\treturn n;\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.valueOrDefault = function (def) {\n\t\t\t\tif (this.hasValue()) return this.value;\n\t\t\t\treturn def;\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.numValueOrDefault = function (def) {\n\t\t\t\tif (this.hasValue()) return this.numValue();\n\t\t\t\treturn def;\n\t\t\t};\n\n\t\t\t// color extensions\n\t\t\t// augment the current color value with the opacity\n\t\t\tsvg.Property.prototype.addOpacity = function (opacityProp) {\n\t\t\t\tvar newValue = this.value;\n\t\t\t\tif (opacityProp.value != null && opacityProp.value != '' && typeof this.value == 'string') {\n\t\t\t\t\t// can only add opacity to colors, not patterns\n\t\t\t\t\tvar color = new RGBColor(this.value);\n\t\t\t\t\tif (color.ok) {\n\t\t\t\t\t\tnewValue = 'rgba(' + color.r + ', ' + color.g + ', ' + color.b + ', ' + opacityProp.numValue() + ')';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new svg.Property(this.name, newValue);\n\t\t\t};\n\n\t\t\t// definition extensions\n\t\t\t// get the definition from the definitions table\n\t\t\tsvg.Property.prototype.getDefinition = function () {\n\t\t\t\tvar name = this.value.match(/#([^\\)'\"]+)/);\n\t\t\t\tif (name) {\n\t\t\t\t\tname = name[1];\n\t\t\t\t}\n\t\t\t\tif (!name) {\n\t\t\t\t\tname = this.value;\n\t\t\t\t}\n\t\t\t\treturn svg.Definitions[name];\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.isUrlDefinition = function () {\n\t\t\t\treturn this.value.indexOf('url(') == 0;\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.getFillStyleDefinition = function (e, opacityProp) {\n\t\t\t\tvar def = this.getDefinition();\n\n\t\t\t\t// gradient\n\t\t\t\tif (def != null && def.createGradient) {\n\t\t\t\t\treturn def.createGradient(svg.ctx, e, opacityProp);\n\t\t\t\t}\n\n\t\t\t\t// pattern\n\t\t\t\tif (def != null && def.createPattern) {\n\t\t\t\t\tif (def.getHrefAttribute().hasValue()) {\n\t\t\t\t\t\tvar pt = def.attribute('patternTransform');\n\t\t\t\t\t\tdef = def.getHrefAttribute().getDefinition();\n\t\t\t\t\t\tif (pt.hasValue()) {\n\t\t\t\t\t\t\tdef.attribute('patternTransform', true).value = pt.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn def.createPattern(svg.ctx, e);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\n\t\t\t// length extensions\n\t\t\tsvg.Property.prototype.getDPI = function (viewPort) {\n\t\t\t\treturn 96.0; // TODO: compute?\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.getEM = function (viewPort) {\n\t\t\t\tvar em = 12;\n\n\t\t\t\tvar fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);\n\t\t\t\tif (fontSize.hasValue()) em = fontSize.toPixels(viewPort);\n\n\t\t\t\treturn em;\n\t\t\t};\n\n\t\t\tsvg.Property.prototype.getUnits = function () {\n\t\t\t\tvar s = this.value + '';\n\t\t\t\treturn s.replace(/[0-9\\.\\-]/g, '');\n\t\t\t};\n\n\t\t\t// get the length as pixels\n\t\t\tsvg.Property.prototype.toPixels = function (viewPort, processPercent) {\n\t\t\t\tif (!this.hasValue()) return 0;\n\t\t\t\tvar s = this.value + '';\n\t\t\t\tif (s.match(/em$/)) return this.numValue() * this.getEM(viewPort);\n\t\t\t\tif (s.match(/ex$/)) return this.numValue() * this.getEM(viewPort) / 2.0;\n\t\t\t\tif (s.match(/px$/)) return this.numValue();\n\t\t\t\tif (s.match(/pt$/)) return this.numValue() * this.getDPI(viewPort) * (1.0 / 72.0);\n\t\t\t\tif (s.match(/pc$/)) return this.numValue() * 15;\n\t\t\t\tif (s.match(/cm$/)) return this.numValue() * this.getDPI(viewPort) / 2.54;\n\t\t\t\tif (s.match(/mm$/)) return this.numValue() * this.getDPI(viewPort) / 25.4;\n\t\t\t\tif (s.match(/in$/)) return this.numValue() * this.getDPI(viewPort);\n\t\t\t\tif (s.match(/%$/)) return this.numValue() * svg.ViewPort.ComputeSize(viewPort);\n\t\t\t\tvar n = this.numValue();\n\t\t\t\tif (processPercent && n < 1.0) return n * svg.ViewPort.ComputeSize(viewPort);\n\t\t\t\treturn n;\n\t\t\t};\n\n\t\t\t// time extensions\n\t\t\t// get the time as milliseconds\n\t\t\tsvg.Property.prototype.toMilliseconds = function () {\n\t\t\t\tif (!this.hasValue()) return 0;\n\t\t\t\tvar s = this.value + '';\n\t\t\t\tif (s.match(/s$/)) return this.numValue() * 1000;\n\t\t\t\tif (s.match(/ms$/)) return this.numValue();\n\t\t\t\treturn this.numValue();\n\t\t\t};\n\n\t\t\t// angle extensions\n\t\t\t// get the angle as radians\n\t\t\tsvg.Property.prototype.toRadians = function () {\n\t\t\t\tif (!this.hasValue()) return 0;\n\t\t\t\tvar s = this.value + '';\n\t\t\t\tif (s.match(/deg$/)) return this.numValue() * (Math.PI / 180.0);\n\t\t\t\tif (s.match(/grad$/)) return this.numValue() * (Math.PI / 200.0);\n\t\t\t\tif (s.match(/rad$/)) return this.numValue();\n\t\t\t\treturn this.numValue() * (Math.PI / 180.0);\n\t\t\t};\n\n\t\t\t// text extensions\n\t\t\t// get the text baseline\n\t\t\tvar textBaselineMapping = {\n\t\t\t\t'baseline': 'alphabetic',\n\t\t\t\t'before-edge': 'top',\n\t\t\t\t'text-before-edge': 'top',\n\t\t\t\t'middle': 'middle',\n\t\t\t\t'central': 'middle',\n\t\t\t\t'after-edge': 'bottom',\n\t\t\t\t'text-after-edge': 'bottom',\n\t\t\t\t'ideographic': 'ideographic',\n\t\t\t\t'alphabetic': 'alphabetic',\n\t\t\t\t'hanging': 'hanging',\n\t\t\t\t'mathematical': 'alphabetic'\n\t\t\t};\n\t\t\tsvg.Property.prototype.toTextBaseline = function () {\n\t\t\t\tif (!this.hasValue()) return null;\n\t\t\t\treturn textBaselineMapping[this.value];\n\t\t\t};\n\n\t\t\t// fonts\n\t\t\tsvg.Font = new function () {\n\t\t\t\tthis.Styles = 'normal|italic|oblique|inherit';\n\t\t\t\tthis.Variants = 'normal|small-caps|inherit';\n\t\t\t\tthis.Weights = 'normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit';\n\n\t\t\t\tthis.CreateFont = function (fontStyle, fontVariant, fontWeight, fontSize, fontFamily, inherit) {\n\t\t\t\t\tvar f = inherit != null ? this.Parse(inherit) : this.CreateFont('', '', '', '', '', svg.ctx.font);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfontFamily: fontFamily || f.fontFamily,\n\t\t\t\t\t\tfontSize: fontSize || f.fontSize,\n\t\t\t\t\t\tfontStyle: fontStyle || f.fontStyle,\n\t\t\t\t\t\tfontWeight: fontWeight || f.fontWeight,\n\t\t\t\t\t\tfontVariant: fontVariant || f.fontVariant,\n\t\t\t\t\t\ttoString: function toString() {\n\t\t\t\t\t\t\treturn [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(' ');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tvar that = this;\n\t\t\t\tthis.Parse = function (s) {\n\t\t\t\t\tvar f = {};\n\t\t\t\t\tvar d = svg.trim(svg.compressSpaces(s || '')).split(' ');\n\t\t\t\t\tvar set = { fontSize: false, fontStyle: false, fontWeight: false, fontVariant: false };\n\t\t\t\t\tvar ff = '';\n\t\t\t\t\tfor (var i = 0; i < d.length; i++) {\n\t\t\t\t\t\tif (!set.fontStyle && that.Styles.indexOf(d[i]) != -1) {\n\t\t\t\t\t\t\tif (d[i] != 'inherit') f.fontStyle = d[i];set.fontStyle = true;\n\t\t\t\t\t\t} else if (!set.fontVariant && that.Variants.indexOf(d[i]) != -1) {\n\t\t\t\t\t\t\tif (d[i] != 'inherit') f.fontVariant = d[i];set.fontStyle = set.fontVariant = true;\n\t\t\t\t\t\t} else if (!set.fontWeight && that.Weights.indexOf(d[i]) != -1) {\n\t\t\t\t\t\t\tif (d[i] != 'inherit') f.fontWeight = d[i];set.fontStyle = set.fontVariant = set.fontWeight = true;\n\t\t\t\t\t\t} else if (!set.fontSize) {\n\t\t\t\t\t\t\tif (d[i] != 'inherit') f.fontSize = d[i].split('/')[0];set.fontStyle = set.fontVariant = set.fontWeight = set.fontSize = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (d[i] != 'inherit') ff += d[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}if (ff != '') f.fontFamily = ff;\n\t\t\t\t\treturn f;\n\t\t\t\t};\n\t\t\t}();\n\n\t\t\t// points and paths\n\t\t\tsvg.ToNumberArray = function (s) {\n\t\t\t\tvar a = svg.trim(svg.compressSpaces((s || '').replace(/,/g, ' '))).split(' ');\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\t\ta[i] = parseFloat(a[i]);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t};\n\t\t\tsvg.Point = function (x, y) {\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t};\n\t\t\tsvg.Point.prototype.angleTo = function (p) {\n\t\t\t\treturn Math.atan2(p.y - this.y, p.x - this.x);\n\t\t\t};\n\n\t\t\tsvg.Point.prototype.applyTransform = function (v) {\n\t\t\t\tvar xp = this.x * v[0] + this.y * v[2] + v[4];\n\t\t\t\tvar yp = this.x * v[1] + this.y * v[3] + v[5];\n\t\t\t\tthis.x = xp;\n\t\t\t\tthis.y = yp;\n\t\t\t};\n\n\t\t\tsvg.CreatePoint = function (s) {\n\t\t\t\tvar a = svg.ToNumberArray(s);\n\t\t\t\treturn new svg.Point(a[0], a[1]);\n\t\t\t};\n\t\t\tsvg.CreatePath = function (s) {\n\t\t\t\tvar a = svg.ToNumberArray(s);\n\t\t\t\tvar path = [];\n\t\t\t\tfor (var i = 0; i < a.length; i += 2) {\n\t\t\t\t\tpath.push(new svg.Point(a[i], a[i + 1]));\n\t\t\t\t}\n\t\t\t\treturn path;\n\t\t\t};\n\n\t\t\t// bounding box\n\t\t\tsvg.BoundingBox = function (x1, y1, x2, y2) {\n\t\t\t\t// pass in initial points if you want\n\t\t\t\tthis.x1 = Number.NaN;\n\t\t\t\tthis.y1 = Number.NaN;\n\t\t\t\tthis.x2 = Number.NaN;\n\t\t\t\tthis.y2 = Number.NaN;\n\n\t\t\t\tthis.x = function () {\n\t\t\t\t\treturn this.x1;\n\t\t\t\t};\n\t\t\t\tthis.y = function () {\n\t\t\t\t\treturn this.y1;\n\t\t\t\t};\n\t\t\t\tthis.width = function () {\n\t\t\t\t\treturn this.x2 - this.x1;\n\t\t\t\t};\n\t\t\t\tthis.height = function () {\n\t\t\t\t\treturn this.y2 - this.y1;\n\t\t\t\t};\n\n\t\t\t\tthis.addPoint = function (x, y) {\n\t\t\t\t\tif (x != null) {\n\t\t\t\t\t\tif (isNaN(this.x1) || isNaN(this.x2)) {\n\t\t\t\t\t\t\tthis.x1 = x;\n\t\t\t\t\t\t\tthis.x2 = x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x < this.x1) this.x1 = x;\n\t\t\t\t\t\tif (x > this.x2) this.x2 = x;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (y != null) {\n\t\t\t\t\t\tif (isNaN(this.y1) || isNaN(this.y2)) {\n\t\t\t\t\t\t\tthis.y1 = y;\n\t\t\t\t\t\t\tthis.y2 = y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (y < this.y1) this.y1 = y;\n\t\t\t\t\t\tif (y > this.y2) this.y2 = y;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addX = function (x) {\n\t\t\t\t\tthis.addPoint(x, null);\n\t\t\t\t};\n\t\t\t\tthis.addY = function (y) {\n\t\t\t\t\tthis.addPoint(null, y);\n\t\t\t\t};\n\n\t\t\t\tthis.addBoundingBox = function (bb) {\n\t\t\t\t\tthis.addPoint(bb.x1, bb.y1);\n\t\t\t\t\tthis.addPoint(bb.x2, bb.y2);\n\t\t\t\t};\n\n\t\t\t\tthis.addQuadraticCurve = function (p0x, p0y, p1x, p1y, p2x, p2y) {\n\t\t\t\t\tvar cp1x = p0x + 2 / 3 * (p1x - p0x); // CP1 = QP0 + 2/3 *(QP1-QP0)\n\t\t\t\t\tvar cp1y = p0y + 2 / 3 * (p1y - p0y); // CP1 = QP0 + 2/3 *(QP1-QP0)\n\t\t\t\t\tvar cp2x = cp1x + 1 / 3 * (p2x - p0x); // CP2 = CP1 + 1/3 *(QP2-QP0)\n\t\t\t\t\tvar cp2y = cp1y + 1 / 3 * (p2y - p0y); // CP2 = CP1 + 1/3 *(QP2-QP0)\n\t\t\t\t\tthis.addBezierCurve(p0x, p0y, cp1x, cp2x, cp1y, cp2y, p2x, p2y);\n\t\t\t\t};\n\n\t\t\t\tthis.addBezierCurve = function (p0x, p0y, p1x, p1y, p2x, p2y, p3x, p3y) {\n\t\t\t\t\t// from http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n\t\t\t\t\tvar p0 = [p0x, p0y],\n\t\t\t\t\t    p1 = [p1x, p1y],\n\t\t\t\t\t    p2 = [p2x, p2y],\n\t\t\t\t\t    p3 = [p3x, p3y];\n\t\t\t\t\tthis.addPoint(p0[0], p0[1]);\n\t\t\t\t\tthis.addPoint(p3[0], p3[1]);\n\n\t\t\t\t\tfor (i = 0; i <= 1; i++) {\n\t\t\t\t\t\tvar f = function f(t) {\n\t\t\t\t\t\t\treturn Math.pow(1 - t, 3) * p0[i] + 3 * Math.pow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * Math.pow(t, 2) * p2[i] + Math.pow(t, 3) * p3[i];\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n\t\t\t\t\t\tvar a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n\t\t\t\t\t\tvar c = 3 * p1[i] - 3 * p0[i];\n\n\t\t\t\t\t\tif (a == 0) {\n\t\t\t\t\t\t\tif (b == 0) continue;\n\t\t\t\t\t\t\tvar t = -c / b;\n\t\t\t\t\t\t\tif (0 < t && t < 1) {\n\t\t\t\t\t\t\t\tif (i == 0) this.addX(f(t));\n\t\t\t\t\t\t\t\tif (i == 1) this.addY(f(t));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar b2ac = Math.pow(b, 2) - 4 * c * a;\n\t\t\t\t\t\tif (b2ac < 0) continue;\n\t\t\t\t\t\tvar t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n\t\t\t\t\t\tif (0 < t1 && t1 < 1) {\n\t\t\t\t\t\t\tif (i == 0) this.addX(f(t1));\n\t\t\t\t\t\t\tif (i == 1) this.addY(f(t1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n\t\t\t\t\t\tif (0 < t2 && t2 < 1) {\n\t\t\t\t\t\t\tif (i == 0) this.addX(f(t2));\n\t\t\t\t\t\t\tif (i == 1) this.addY(f(t2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.isPointInBox = function (x, y) {\n\t\t\t\t\treturn this.x1 <= x && x <= this.x2 && this.y1 <= y && y <= this.y2;\n\t\t\t\t};\n\n\t\t\t\tthis.addPoint(x1, y1);\n\t\t\t\tthis.addPoint(x2, y2);\n\t\t\t};\n\n\t\t\t// transforms\n\t\t\tsvg.Transform = function (v) {\n\t\t\t\tvar that = this;\n\t\t\t\tthis.Type = {};\n\n\t\t\t\t// translate\n\t\t\t\tthis.Type.translate = function (s) {\n\t\t\t\t\tthis.p = svg.CreatePoint(s);\n\t\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\t\tctx.translate(this.p.x || 0.0, this.p.y || 0.0);\n\t\t\t\t\t};\n\t\t\t\t\tthis.unapply = function (ctx) {\n\t\t\t\t\t\tctx.translate(-1.0 * this.p.x || 0.0, -1.0 * this.p.y || 0.0);\n\t\t\t\t\t};\n\t\t\t\t\tthis.applyToPoint = function (p) {\n\t\t\t\t\t\tp.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// rotate\n\t\t\t\tthis.Type.rotate = function (s) {\n\t\t\t\t\tvar a = svg.ToNumberArray(s);\n\t\t\t\t\tthis.angle = new svg.Property('angle', a[0]);\n\t\t\t\t\tthis.cx = a[1] || 0;\n\t\t\t\t\tthis.cy = a[2] || 0;\n\t\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\t\tctx.translate(this.cx, this.cy);\n\t\t\t\t\t\tctx.rotate(this.angle.toRadians());\n\t\t\t\t\t\tctx.translate(-this.cx, -this.cy);\n\t\t\t\t\t};\n\t\t\t\t\tthis.unapply = function (ctx) {\n\t\t\t\t\t\tctx.translate(this.cx, this.cy);\n\t\t\t\t\t\tctx.rotate(-1.0 * this.angle.toRadians());\n\t\t\t\t\t\tctx.translate(-this.cx, -this.cy);\n\t\t\t\t\t};\n\t\t\t\t\tthis.applyToPoint = function (p) {\n\t\t\t\t\t\tvar a = this.angle.toRadians();\n\t\t\t\t\t\tp.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);\n\t\t\t\t\t\tp.applyTransform([Math.cos(a), Math.sin(a), -Math.sin(a), Math.cos(a), 0, 0]);\n\t\t\t\t\t\tp.applyTransform([1, 0, 0, 1, -this.p.x || 0.0, -this.p.y || 0.0]);\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tthis.Type.scale = function (s) {\n\t\t\t\t\tthis.p = svg.CreatePoint(s);\n\t\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\t\tctx.scale(this.p.x || 1.0, this.p.y || this.p.x || 1.0);\n\t\t\t\t\t};\n\t\t\t\t\tthis.unapply = function (ctx) {\n\t\t\t\t\t\tctx.scale(1.0 / this.p.x || 1.0, 1.0 / this.p.y || this.p.x || 1.0);\n\t\t\t\t\t};\n\t\t\t\t\tthis.applyToPoint = function (p) {\n\t\t\t\t\t\tp.applyTransform([this.p.x || 0.0, 0, 0, this.p.y || 0.0, 0, 0]);\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tthis.Type.matrix = function (s) {\n\t\t\t\t\tthis.m = svg.ToNumberArray(s);\n\t\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\t\tctx.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5]);\n\t\t\t\t\t};\n\t\t\t\t\tthis.unapply = function (ctx) {\n\t\t\t\t\t\tvar a = this.m[0];\n\t\t\t\t\t\tvar b = this.m[2];\n\t\t\t\t\t\tvar c = this.m[4];\n\t\t\t\t\t\tvar d = this.m[1];\n\t\t\t\t\t\tvar e = this.m[3];\n\t\t\t\t\t\tvar f = this.m[5];\n\t\t\t\t\t\tvar g = 0.0;\n\t\t\t\t\t\tvar h = 0.0;\n\t\t\t\t\t\tvar i = 1.0;\n\t\t\t\t\t\tvar det = 1 / (a * (e * i - f * h) - b * (d * i - f * g) + c * (d * h - e * g));\n\t\t\t\t\t\tctx.transform(det * (e * i - f * h), det * (f * g - d * i), det * (c * h - b * i), det * (a * i - c * g), det * (b * f - c * e), det * (c * d - a * f));\n\t\t\t\t\t};\n\t\t\t\t\tthis.applyToPoint = function (p) {\n\t\t\t\t\t\tp.applyTransform(this.m);\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tthis.Type.SkewBase = function (s) {\n\t\t\t\t\tthis.base = that.Type.matrix;\n\t\t\t\t\tthis.base(s);\n\t\t\t\t\tthis.angle = new svg.Property('angle', s);\n\t\t\t\t};\n\t\t\t\tthis.Type.SkewBase.prototype = new this.Type.matrix();\n\n\t\t\t\tthis.Type.skewX = function (s) {\n\t\t\t\t\tthis.base = that.Type.SkewBase;\n\t\t\t\t\tthis.base(s);\n\t\t\t\t\tthis.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0];\n\t\t\t\t};\n\t\t\t\tthis.Type.skewX.prototype = new this.Type.SkewBase();\n\n\t\t\t\tthis.Type.skewY = function (s) {\n\t\t\t\t\tthis.base = that.Type.SkewBase;\n\t\t\t\t\tthis.base(s);\n\t\t\t\t\tthis.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0];\n\t\t\t\t};\n\t\t\t\tthis.Type.skewY.prototype = new this.Type.SkewBase();\n\n\t\t\t\tthis.transforms = [];\n\n\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\tfor (var i = 0; i < this.transforms.length; i++) {\n\t\t\t\t\t\tthis.transforms[i].apply(ctx);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.unapply = function (ctx) {\n\t\t\t\t\tfor (var i = this.transforms.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tthis.transforms[i].unapply(ctx);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.applyToPoint = function (p) {\n\t\t\t\t\tfor (var i = 0; i < this.transforms.length; i++) {\n\t\t\t\t\t\tthis.transforms[i].applyToPoint(p);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar data = svg.trim(svg.compressSpaces(v)).replace(/\\)([a-zA-Z])/g, ') $1').replace(/\\)(\\s?,\\s?)/g, ') ').split(/\\s(?=[a-z])/);\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tvar type = svg.trim(data[i].split('(')[0]);\n\t\t\t\t\tvar s = data[i].split('(')[1].replace(')', '');\n\t\t\t\t\tvar transformType = this.Type[type];\n\t\t\t\t\tif (typeof transformType != 'undefined') {\n\t\t\t\t\t\tvar transform = new transformType(s);\n\t\t\t\t\t\ttransform.type = type;\n\t\t\t\t\t\tthis.transforms.push(transform);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// aspect ratio\n\t\t\tsvg.AspectRatio = function (ctx, aspectRatio, width, desiredWidth, height, desiredHeight, minX, minY, refX, refY) {\n\t\t\t\t// aspect ratio - http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\n\t\t\t\taspectRatio = svg.compressSpaces(aspectRatio);\n\t\t\t\taspectRatio = aspectRatio.replace(/^defer\\s/, ''); // ignore defer\n\t\t\t\tvar align = aspectRatio.split(' ')[0] || 'xMidYMid';\n\t\t\t\tvar meetOrSlice = aspectRatio.split(' ')[1] || 'meet';\n\n\t\t\t\t// calculate scale\n\t\t\t\tvar scaleX = width / desiredWidth;\n\t\t\t\tvar scaleY = height / desiredHeight;\n\t\t\t\tvar scaleMin = Math.min(scaleX, scaleY);\n\t\t\t\tvar scaleMax = Math.max(scaleX, scaleY);\n\t\t\t\tif (meetOrSlice == 'meet') {\n\t\t\t\t\tdesiredWidth *= scaleMin;desiredHeight *= scaleMin;\n\t\t\t\t}\n\t\t\t\tif (meetOrSlice == 'slice') {\n\t\t\t\t\tdesiredWidth *= scaleMax;desiredHeight *= scaleMax;\n\t\t\t\t}\n\n\t\t\t\trefX = new svg.Property('refX', refX);\n\t\t\t\trefY = new svg.Property('refY', refY);\n\t\t\t\tif (refX.hasValue() && refY.hasValue()) {\n\t\t\t\t\tctx.translate(-scaleMin * refX.toPixels('x'), -scaleMin * refY.toPixels('y'));\n\t\t\t\t} else {\n\t\t\t\t\t// align\n\t\t\t\t\tif (align.match(/^xMid/) && (meetOrSlice == 'meet' && scaleMin == scaleY || meetOrSlice == 'slice' && scaleMax == scaleY)) ctx.translate(width / 2.0 - desiredWidth / 2.0, 0);\n\t\t\t\t\tif (align.match(/YMid$/) && (meetOrSlice == 'meet' && scaleMin == scaleX || meetOrSlice == 'slice' && scaleMax == scaleX)) ctx.translate(0, height / 2.0 - desiredHeight / 2.0);\n\t\t\t\t\tif (align.match(/^xMax/) && (meetOrSlice == 'meet' && scaleMin == scaleY || meetOrSlice == 'slice' && scaleMax == scaleY)) ctx.translate(width - desiredWidth, 0);\n\t\t\t\t\tif (align.match(/YMax$/) && (meetOrSlice == 'meet' && scaleMin == scaleX || meetOrSlice == 'slice' && scaleMax == scaleX)) ctx.translate(0, height - desiredHeight);\n\t\t\t\t}\n\n\t\t\t\t// scale\n\t\t\t\tif (align == 'none') ctx.scale(scaleX, scaleY);else if (meetOrSlice == 'meet') ctx.scale(scaleMin, scaleMin);else if (meetOrSlice == 'slice') ctx.scale(scaleMax, scaleMax);\n\n\t\t\t\t// translate\n\t\t\t\tctx.translate(minX == null ? 0 : -minX, minY == null ? 0 : -minY);\n\t\t\t};\n\n\t\t\t// elements\n\t\t\tsvg.Element = {};\n\n\t\t\tsvg.EmptyProperty = new svg.Property('EMPTY', '');\n\n\t\t\tsvg.Element.ElementBase = function (node) {\n\t\t\t\tthis.attributes = {};\n\t\t\t\tthis.styles = {};\n\t\t\t\tthis.stylesSpecificity = {};\n\t\t\t\tthis.children = [];\n\n\t\t\t\t// get or create attribute\n\t\t\t\tthis.attribute = function (name, createIfNotExists) {\n\t\t\t\t\tvar a = this.attributes[name];\n\t\t\t\t\tif (a != null) return a;\n\n\t\t\t\t\tif (createIfNotExists == true) {\n\t\t\t\t\t\ta = new svg.Property(name, '');this.attributes[name] = a;\n\t\t\t\t\t}\n\t\t\t\t\treturn a || svg.EmptyProperty;\n\t\t\t\t};\n\n\t\t\t\tthis.getHrefAttribute = function () {\n\t\t\t\t\tfor (var a in this.attributes) {\n\t\t\t\t\t\tif (a == 'href' || a.match(/:href$/)) {\n\t\t\t\t\t\t\treturn this.attributes[a];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn svg.EmptyProperty;\n\t\t\t\t};\n\n\t\t\t\t// get or create style, crawls up node tree\n\t\t\t\tthis.style = function (name, createIfNotExists, skipAncestors) {\n\t\t\t\t\tvar s = this.styles[name];\n\t\t\t\t\tif (s != null) return s;\n\n\t\t\t\t\tvar a = this.attribute(name);\n\t\t\t\t\tif (a != null && a.hasValue()) {\n\t\t\t\t\t\tthis.styles[name] = a; // move up to me to cache\n\t\t\t\t\t\treturn a;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (skipAncestors != true) {\n\t\t\t\t\t\tvar p = this.parent;\n\t\t\t\t\t\tif (p != null) {\n\t\t\t\t\t\t\tvar ps = p.style(name);\n\t\t\t\t\t\t\tif (ps != null && ps.hasValue()) {\n\t\t\t\t\t\t\t\treturn ps;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (createIfNotExists == true) {\n\t\t\t\t\t\ts = new svg.Property(name, '');this.styles[name] = s;\n\t\t\t\t\t}\n\t\t\t\t\treturn s || svg.EmptyProperty;\n\t\t\t\t};\n\n\t\t\t\t// base render\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// don't render display=none\n\t\t\t\t\tif (this.style('display').value == 'none') return;\n\n\t\t\t\t\t// don't render visibility=hidden\n\t\t\t\t\tif (this.style('visibility').value == 'hidden') return;\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tif (this.style('mask').hasValue()) {\n\t\t\t\t\t\t// mask\n\t\t\t\t\t\tvar mask = this.style('mask').getDefinition();\n\t\t\t\t\t\tif (mask != null) mask.apply(ctx, this);\n\t\t\t\t\t} else if (this.style('filter').hasValue()) {\n\t\t\t\t\t\t// filter\n\t\t\t\t\t\tvar filter = this.style('filter').getDefinition();\n\t\t\t\t\t\tif (filter != null) filter.apply(ctx, this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setContext(ctx);\n\t\t\t\t\t\tthis.renderChildren(ctx);\n\t\t\t\t\t\tthis.clearContext(ctx);\n\t\t\t\t\t}\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\n\t\t\t\t// base set context\n\t\t\t\tthis.setContext = function (ctx) {}\n\t\t\t\t// OVERRIDE ME!\n\n\n\t\t\t\t// base clear context\n\t\t\t\t;this.clearContext = function (ctx) {}\n\t\t\t\t// OVERRIDE ME!\n\n\n\t\t\t\t// base render children\n\t\t\t\t;this.renderChildren = function (ctx) {\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tthis.children[i].render(ctx);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.addChild = function (childNode, create) {\n\t\t\t\t\tvar child = childNode;\n\t\t\t\t\tif (create) child = svg.CreateElement(childNode);\n\t\t\t\t\tchild.parent = this;\n\t\t\t\t\tif (child.type != 'title') {\n\t\t\t\t\t\tthis.children.push(child);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.addStylesFromStyleDefinition = function () {\n\t\t\t\t\t// add styles\n\t\t\t\t\tfor (var selector in svg.Styles) {\n\t\t\t\t\t\tif (selector[0] != '@' && matchesSelector(node, selector)) {\n\t\t\t\t\t\t\tvar styles = svg.Styles[selector];\n\t\t\t\t\t\t\tvar specificity = svg.StylesSpecificity[selector];\n\t\t\t\t\t\t\tif (styles != null) {\n\t\t\t\t\t\t\t\tfor (var name in styles) {\n\t\t\t\t\t\t\t\t\tvar existingSpecificity = this.stylesSpecificity[name];\n\t\t\t\t\t\t\t\t\tif (typeof existingSpecificity == 'undefined') {\n\t\t\t\t\t\t\t\t\t\texistingSpecificity = '000';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (specificity > existingSpecificity) {\n\t\t\t\t\t\t\t\t\t\tthis.styles[name] = styles[name];\n\t\t\t\t\t\t\t\t\t\tthis.stylesSpecificity[name] = specificity;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Microsoft Edge fix\n\t\t\t\tvar allUppercase = new RegExp(\"^[A-Z-]+$\");\n\t\t\t\tvar normalizeAttributeName = function normalizeAttributeName(name) {\n\t\t\t\t\tif (allUppercase.test(name)) {\n\t\t\t\t\t\treturn name.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\treturn name;\n\t\t\t\t};\n\n\t\t\t\tif (node != null && node.nodeType == 1) {\n\t\t\t\t\t//ELEMENT_NODE\n\t\t\t\t\t// add attributes\n\t\t\t\t\tfor (var i = 0; i < node.attributes.length; i++) {\n\t\t\t\t\t\tvar attribute = node.attributes[i];\n\t\t\t\t\t\tvar nodeName = normalizeAttributeName(attribute.nodeName);\n\t\t\t\t\t\tthis.attributes[nodeName] = new svg.Property(nodeName, attribute.value);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.addStylesFromStyleDefinition();\n\n\t\t\t\t\t// add inline styles\n\t\t\t\t\tif (this.attribute('style').hasValue()) {\n\t\t\t\t\t\tvar styles = this.attribute('style').value.split(';');\n\t\t\t\t\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\t\t\t\t\tif (svg.trim(styles[i]) != '') {\n\t\t\t\t\t\t\t\tvar style = styles[i].split(':');\n\t\t\t\t\t\t\t\tvar name = svg.trim(style[0]);\n\t\t\t\t\t\t\t\tvar value = svg.trim(style[1]);\n\t\t\t\t\t\t\t\tthis.styles[name] = new svg.Property(name, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add id\n\t\t\t\t\tif (this.attribute('id').hasValue()) {\n\t\t\t\t\t\tif (svg.Definitions[this.attribute('id').value] == null) {\n\t\t\t\t\t\t\tsvg.Definitions[this.attribute('id').value] = this;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add children\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\t\tvar childNode = node.childNodes[i];\n\t\t\t\t\t\tif (childNode.nodeType == 1) this.addChild(childNode, true); //ELEMENT_NODE\n\t\t\t\t\t\tif (this.captureTextNodes && (childNode.nodeType == 3 || childNode.nodeType == 4)) {\n\t\t\t\t\t\t\tvar text = childNode.value || childNode.text || childNode.textContent || '';\n\t\t\t\t\t\t\tif (svg.compressSpaces(text) != '') {\n\t\t\t\t\t\t\t\tthis.addChild(new svg.Element.tspan(childNode), false); // TEXT_NODE\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsvg.Element.RenderedElementBase = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.setContext = function (ctx) {\n\t\t\t\t\t// fill\n\t\t\t\t\tif (this.style('fill').isUrlDefinition()) {\n\t\t\t\t\t\tvar fs = this.style('fill').getFillStyleDefinition(this, this.style('fill-opacity'));\n\t\t\t\t\t\tif (fs != null) ctx.fillStyle = fs;\n\t\t\t\t\t} else if (this.style('fill').hasValue()) {\n\t\t\t\t\t\tvar fillStyle = this.style('fill');\n\t\t\t\t\t\tif (fillStyle.value == 'currentColor') fillStyle.value = this.style('color').value;\n\t\t\t\t\t\tif (fillStyle.value != 'inherit') ctx.fillStyle = fillStyle.value == 'none' ? 'rgba(0,0,0,0)' : fillStyle.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.style('fill-opacity').hasValue()) {\n\t\t\t\t\t\tvar fillStyle = new svg.Property('fill', ctx.fillStyle);\n\t\t\t\t\t\tfillStyle = fillStyle.addOpacity(this.style('fill-opacity'));\n\t\t\t\t\t\tctx.fillStyle = fillStyle.value;\n\t\t\t\t\t}\n\n\t\t\t\t\t// stroke\n\t\t\t\t\tif (this.style('stroke').isUrlDefinition()) {\n\t\t\t\t\t\tvar fs = this.style('stroke').getFillStyleDefinition(this, this.style('stroke-opacity'));\n\t\t\t\t\t\tif (fs != null) ctx.strokeStyle = fs;\n\t\t\t\t\t} else if (this.style('stroke').hasValue()) {\n\t\t\t\t\t\tvar strokeStyle = this.style('stroke');\n\t\t\t\t\t\tif (strokeStyle.value == 'currentColor') strokeStyle.value = this.style('color').value;\n\t\t\t\t\t\tif (strokeStyle.value != 'inherit') ctx.strokeStyle = strokeStyle.value == 'none' ? 'rgba(0,0,0,0)' : strokeStyle.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.style('stroke-opacity').hasValue()) {\n\t\t\t\t\t\tvar strokeStyle = new svg.Property('stroke', ctx.strokeStyle);\n\t\t\t\t\t\tstrokeStyle = strokeStyle.addOpacity(this.style('stroke-opacity'));\n\t\t\t\t\t\tctx.strokeStyle = strokeStyle.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.style('stroke-width').hasValue()) {\n\t\t\t\t\t\tvar newLineWidth = this.style('stroke-width').toPixels();\n\t\t\t\t\t\tctx.lineWidth = newLineWidth == 0 ? 0.001 : newLineWidth; // browsers don't respect 0\n\t\t\t\t\t}\n\t\t\t\t\tif (this.style('stroke-linecap').hasValue()) ctx.lineCap = this.style('stroke-linecap').value;\n\t\t\t\t\tif (this.style('stroke-linejoin').hasValue()) ctx.lineJoin = this.style('stroke-linejoin').value;\n\t\t\t\t\tif (this.style('stroke-miterlimit').hasValue()) ctx.miterLimit = this.style('stroke-miterlimit').value;\n\t\t\t\t\tif (this.style('stroke-dasharray').hasValue() && this.style('stroke-dasharray').value != 'none') {\n\t\t\t\t\t\tvar gaps = svg.ToNumberArray(this.style('stroke-dasharray').value);\n\t\t\t\t\t\tif (typeof ctx.setLineDash != 'undefined') {\n\t\t\t\t\t\t\tctx.setLineDash(gaps);\n\t\t\t\t\t\t} else if (typeof ctx.webkitLineDash != 'undefined') {\n\t\t\t\t\t\t\tctx.webkitLineDash = gaps;\n\t\t\t\t\t\t} else if (typeof ctx.mozDash != 'undefined' && !(gaps.length == 1 && gaps[0] == 0)) {\n\t\t\t\t\t\t\tctx.mozDash = gaps;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar offset = this.style('stroke-dashoffset').numValueOrDefault(1);\n\t\t\t\t\t\tif (typeof ctx.lineDashOffset != 'undefined') {\n\t\t\t\t\t\t\tctx.lineDashOffset = offset;\n\t\t\t\t\t\t} else if (typeof ctx.webkitLineDashOffset != 'undefined') {\n\t\t\t\t\t\t\tctx.webkitLineDashOffset = offset;\n\t\t\t\t\t\t} else if (typeof ctx.mozDashOffset != 'undefined') {\n\t\t\t\t\t\t\tctx.mozDashOffset = offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// font\n\t\t\t\t\tif (typeof ctx.font != 'undefined') {\n\t\t\t\t\t\tctx.font = svg.Font.CreateFont(this.style('font-style').value, this.style('font-variant').value, this.style('font-weight').value, this.style('font-size').hasValue() ? this.style('font-size').toPixels() + 'px' : '', this.style('font-family').value).toString();\n\t\t\t\t\t}\n\n\t\t\t\t\t// transform\n\t\t\t\t\tif (this.style('transform', false, true).hasValue()) {\n\t\t\t\t\t\tvar transform = new svg.Transform(this.style('transform', false, true).value);\n\t\t\t\t\t\ttransform.apply(ctx);\n\t\t\t\t\t}\n\n\t\t\t\t\t// clip\n\t\t\t\t\tif (this.style('clip-path', false, true).hasValue()) {\n\t\t\t\t\t\tvar clip = this.style('clip-path', false, true).getDefinition();\n\t\t\t\t\t\tif (clip != null) clip.apply(ctx);\n\t\t\t\t\t}\n\n\t\t\t\t\t// opacity\n\t\t\t\t\tif (this.style('opacity').hasValue()) {\n\t\t\t\t\t\tctx.globalAlpha = this.style('opacity').numValue();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.RenderedElementBase.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.PathElementBase = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tif (ctx != null) ctx.beginPath();\n\t\t\t\t\treturn new svg.BoundingBox();\n\t\t\t\t};\n\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tthis.path(ctx);\n\t\t\t\t\tsvg.Mouse.checkPath(this, ctx);\n\t\t\t\t\tif (ctx.fillStyle != '') {\n\t\t\t\t\t\tif (this.style('fill-rule').valueOrDefault('inherit') != 'inherit') {\n\t\t\t\t\t\t\tctx.fill(this.style('fill-rule').value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.fill();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (ctx.strokeStyle != '') ctx.stroke();\n\n\t\t\t\t\tvar markers = this.getMarkers();\n\t\t\t\t\tif (markers != null) {\n\t\t\t\t\t\tif (this.style('marker-start').isUrlDefinition()) {\n\t\t\t\t\t\t\tvar marker = this.style('marker-start').getDefinition();\n\t\t\t\t\t\t\tmarker.render(ctx, markers[0][0], markers[0][1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.style('marker-mid').isUrlDefinition()) {\n\t\t\t\t\t\t\tvar marker = this.style('marker-mid').getDefinition();\n\t\t\t\t\t\t\tfor (var i = 1; i < markers.length - 1; i++) {\n\t\t\t\t\t\t\t\tmarker.render(ctx, markers[i][0], markers[i][1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.style('marker-end').isUrlDefinition()) {\n\t\t\t\t\t\t\tvar marker = this.style('marker-end').getDefinition();\n\t\t\t\t\t\t\tmarker.render(ctx, markers[markers.length - 1][0], markers[markers.length - 1][1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.getBoundingBox = function () {\n\t\t\t\t\treturn this.path();\n\t\t\t\t};\n\n\t\t\t\tthis.getMarkers = function () {\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.PathElementBase.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// svg element\n\t\t\tsvg.Element.svg = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.baseClearContext = this.clearContext;\n\t\t\t\tthis.clearContext = function (ctx) {\n\t\t\t\t\tthis.baseClearContext(ctx);\n\t\t\t\t\tsvg.ViewPort.RemoveCurrent();\n\t\t\t\t};\n\n\t\t\t\tthis.baseSetContext = this.setContext;\n\t\t\t\tthis.setContext = function (ctx) {\n\t\t\t\t\t// initial values and defaults\n\t\t\t\t\tctx.strokeStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tctx.lineCap = 'butt';\n\t\t\t\t\tctx.lineJoin = 'miter';\n\t\t\t\t\tctx.miterLimit = 4;\n\t\t\t\t\tif (typeof ctx.font != 'undefined' && typeof window.getComputedStyle != 'undefined') {\n\t\t\t\t\t\tctx.font = window.getComputedStyle(ctx.canvas).getPropertyValue('font');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.baseSetContext(ctx);\n\n\t\t\t\t\t// create new view port\n\t\t\t\t\tif (!this.attribute('x').hasValue()) this.attribute('x', true).value = 0;\n\t\t\t\t\tif (!this.attribute('y').hasValue()) this.attribute('y', true).value = 0;\n\t\t\t\t\tctx.translate(this.attribute('x').toPixels('x'), this.attribute('y').toPixels('y'));\n\n\t\t\t\t\tvar width = svg.ViewPort.width();\n\t\t\t\t\tvar height = svg.ViewPort.height();\n\n\t\t\t\t\tif (!this.attribute('width').hasValue()) this.attribute('width', true).value = '100%';\n\t\t\t\t\tif (!this.attribute('height').hasValue()) this.attribute('height', true).value = '100%';\n\t\t\t\t\tif (typeof this.root == 'undefined') {\n\t\t\t\t\t\twidth = this.attribute('width').toPixels('x');\n\t\t\t\t\t\theight = this.attribute('height').toPixels('y');\n\n\t\t\t\t\t\tvar x = 0;\n\t\t\t\t\t\tvar y = 0;\n\t\t\t\t\t\tif (this.attribute('refX').hasValue() && this.attribute('refY').hasValue()) {\n\t\t\t\t\t\t\tx = -this.attribute('refX').toPixels('x');\n\t\t\t\t\t\t\ty = -this.attribute('refY').toPixels('y');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.attribute('overflow').valueOrDefault('hidden') != 'visible') {\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(x, y);\n\t\t\t\t\t\t\tctx.lineTo(width, y);\n\t\t\t\t\t\t\tctx.lineTo(width, height);\n\t\t\t\t\t\t\tctx.lineTo(x, height);\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\tctx.clip();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsvg.ViewPort.SetCurrent(width, height);\n\n\t\t\t\t\t// viewbox\n\t\t\t\t\tif (this.attribute('viewBox').hasValue()) {\n\t\t\t\t\t\tvar viewBox = svg.ToNumberArray(this.attribute('viewBox').value);\n\t\t\t\t\t\tvar minX = viewBox[0];\n\t\t\t\t\t\tvar minY = viewBox[1];\n\t\t\t\t\t\twidth = viewBox[2];\n\t\t\t\t\t\theight = viewBox[3];\n\n\t\t\t\t\t\tsvg.AspectRatio(ctx, this.attribute('preserveAspectRatio').value, svg.ViewPort.width(), width, svg.ViewPort.height(), height, minX, minY, this.attribute('refX').value, this.attribute('refY').value);\n\n\t\t\t\t\t\tsvg.ViewPort.RemoveCurrent();\n\t\t\t\t\t\tsvg.ViewPort.SetCurrent(viewBox[2], viewBox[3]);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.svg.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// rect element\n\t\t\tsvg.Element.rect = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar x = this.attribute('x').toPixels('x');\n\t\t\t\t\tvar y = this.attribute('y').toPixels('y');\n\t\t\t\t\tvar width = this.attribute('width').toPixels('x');\n\t\t\t\t\tvar height = this.attribute('height').toPixels('y');\n\t\t\t\t\tvar rx = this.attribute('rx').toPixels('x');\n\t\t\t\t\tvar ry = this.attribute('ry').toPixels('y');\n\t\t\t\t\tif (this.attribute('rx').hasValue() && !this.attribute('ry').hasValue()) ry = rx;\n\t\t\t\t\tif (this.attribute('ry').hasValue() && !this.attribute('rx').hasValue()) rx = ry;\n\t\t\t\t\trx = Math.min(rx, width / 2.0);\n\t\t\t\t\try = Math.min(ry, height / 2.0);\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(x + rx, y);\n\t\t\t\t\t\tctx.lineTo(x + width - rx, y);\n\t\t\t\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + ry);\n\t\t\t\t\t\tctx.lineTo(x + width, y + height - ry);\n\t\t\t\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - rx, y + height);\n\t\t\t\t\t\tctx.lineTo(x + rx, y + height);\n\t\t\t\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - ry);\n\t\t\t\t\t\tctx.lineTo(x, y + ry);\n\t\t\t\t\t\tctx.quadraticCurveTo(x, y, x + rx, y);\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new svg.BoundingBox(x, y, x + width, y + height);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.rect.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// circle element\n\t\t\tsvg.Element.circle = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar cx = this.attribute('cx').toPixels('x');\n\t\t\t\t\tvar cy = this.attribute('cy').toPixels('y');\n\t\t\t\t\tvar r = this.attribute('r').toPixels();\n\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.arc(cx, cy, r, 0, Math.PI * 2, true);\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new svg.BoundingBox(cx - r, cy - r, cx + r, cy + r);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.circle.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// ellipse element\n\t\t\tsvg.Element.ellipse = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar KAPPA = 4 * ((Math.sqrt(2) - 1) / 3);\n\t\t\t\t\tvar rx = this.attribute('rx').toPixels('x');\n\t\t\t\t\tvar ry = this.attribute('ry').toPixels('y');\n\t\t\t\t\tvar cx = this.attribute('cx').toPixels('x');\n\t\t\t\t\tvar cy = this.attribute('cy').toPixels('y');\n\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(cx, cy - ry);\n\t\t\t\t\t\tctx.bezierCurveTo(cx + KAPPA * rx, cy - ry, cx + rx, cy - KAPPA * ry, cx + rx, cy);\n\t\t\t\t\t\tctx.bezierCurveTo(cx + rx, cy + KAPPA * ry, cx + KAPPA * rx, cy + ry, cx, cy + ry);\n\t\t\t\t\t\tctx.bezierCurveTo(cx - KAPPA * rx, cy + ry, cx - rx, cy + KAPPA * ry, cx - rx, cy);\n\t\t\t\t\t\tctx.bezierCurveTo(cx - rx, cy - KAPPA * ry, cx - KAPPA * rx, cy - ry, cx, cy - ry);\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new svg.BoundingBox(cx - rx, cy - ry, cx + rx, cy + ry);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.ellipse.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// line element\n\t\t\tsvg.Element.line = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.getPoints = function () {\n\t\t\t\t\treturn [new svg.Point(this.attribute('x1').toPixels('x'), this.attribute('y1').toPixels('y')), new svg.Point(this.attribute('x2').toPixels('x'), this.attribute('y2').toPixels('y'))];\n\t\t\t\t};\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar points = this.getPoints();\n\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(points[0].x, points[0].y);\n\t\t\t\t\t\tctx.lineTo(points[1].x, points[1].y);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new svg.BoundingBox(points[0].x, points[0].y, points[1].x, points[1].y);\n\t\t\t\t};\n\n\t\t\t\tthis.getMarkers = function () {\n\t\t\t\t\tvar points = this.getPoints();\n\t\t\t\t\tvar a = points[0].angleTo(points[1]);\n\t\t\t\t\treturn [[points[0], a], [points[1], a]];\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.line.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// polyline element\n\t\t\tsvg.Element.polyline = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.points = svg.CreatePath(this.attribute('points').value);\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar bb = new svg.BoundingBox(this.points[0].x, this.points[0].y);\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(this.points[0].x, this.points[0].y);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 1; i < this.points.length; i++) {\n\t\t\t\t\t\tbb.addPoint(this.points[i].x, this.points[i].y);\n\t\t\t\t\t\tif (ctx != null) ctx.lineTo(this.points[i].x, this.points[i].y);\n\t\t\t\t\t}\n\t\t\t\t\treturn bb;\n\t\t\t\t};\n\n\t\t\t\tthis.getMarkers = function () {\n\t\t\t\t\tvar markers = [];\n\t\t\t\t\tfor (var i = 0; i < this.points.length - 1; i++) {\n\t\t\t\t\t\tmarkers.push([this.points[i], this.points[i].angleTo(this.points[i + 1])]);\n\t\t\t\t\t}\n\t\t\t\t\tif (markers.length > 0) {\n\t\t\t\t\t\tmarkers.push([this.points[this.points.length - 1], markers[markers.length - 1][1]]);\n\t\t\t\t\t}\n\t\t\t\t\treturn markers;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.polyline.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// polygon element\n\t\t\tsvg.Element.polygon = function (node) {\n\t\t\t\tthis.base = svg.Element.polyline;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.basePath = this.path;\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar bb = this.basePath(ctx);\n\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\tctx.lineTo(this.points[0].x, this.points[0].y);\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\t\t\t\t\treturn bb;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.polygon.prototype = new svg.Element.polyline();\n\n\t\t\t// path element\n\t\t\tsvg.Element.path = function (node) {\n\t\t\t\tthis.base = svg.Element.PathElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tvar d = this.attribute('d').value;\n\t\t\t\t// TODO: convert to real lexer based on http://www.w3.org/TR/SVG11/paths.html#PathDataBNF\n\t\t\t\td = d.replace(/,/gm, ' '); // get rid of all commas\n\t\t\t\t// As the end of a match can also be the start of the next match, we need to run this replace twice.\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\td = d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\\s])/gm, '$1 $2');\n\t\t\t\t} // suffix commands with spaces\n\t\t\t\td = d.replace(/([^\\s])([MmZzLlHhVvCcSsQqTtAa])/gm, '$1 $2'); // prefix commands with spaces\n\t\t\t\td = d.replace(/([0-9])([+\\-])/gm, '$1 $2'); // separate digits on +- signs\n\t\t\t\t// Again, we need to run this twice to find all occurances\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\td = d.replace(/(\\.[0-9]*)(\\.)/gm, '$1 $2');\n\t\t\t\t} // separate digits when they start with a comma\n\t\t\t\td = d.replace(/([Aa](\\s+[0-9]+){3})\\s+([01])\\s*([01])/gm, '$1 $3 $4 '); // shorthand elliptical arc path syntax\n\t\t\t\td = svg.compressSpaces(d); // compress multiple spaces\n\t\t\t\td = svg.trim(d);\n\t\t\t\tthis.PathParser = new function (d) {\n\t\t\t\t\tthis.tokens = d.split(' ');\n\n\t\t\t\t\tthis.reset = function () {\n\t\t\t\t\t\tthis.i = -1;\n\t\t\t\t\t\tthis.command = '';\n\t\t\t\t\t\tthis.previousCommand = '';\n\t\t\t\t\t\tthis.start = new svg.Point(0, 0);\n\t\t\t\t\t\tthis.control = new svg.Point(0, 0);\n\t\t\t\t\t\tthis.current = new svg.Point(0, 0);\n\t\t\t\t\t\tthis.points = [];\n\t\t\t\t\t\tthis.angles = [];\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.isEnd = function () {\n\t\t\t\t\t\treturn this.i >= this.tokens.length - 1;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.isCommandOrEnd = function () {\n\t\t\t\t\t\tif (this.isEnd()) return true;\n\t\t\t\t\t\treturn this.tokens[this.i + 1].match(/^[A-Za-z]$/) != null;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.isRelativeCommand = function () {\n\t\t\t\t\t\tswitch (this.command) {\n\t\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tcase 'q':\n\t\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\tcase 'z':\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getToken = function () {\n\t\t\t\t\t\tthis.i++;\n\t\t\t\t\t\treturn this.tokens[this.i];\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getScalar = function () {\n\t\t\t\t\t\treturn parseFloat(this.getToken());\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.nextCommand = function () {\n\t\t\t\t\t\tthis.previousCommand = this.command;\n\t\t\t\t\t\tthis.command = this.getToken();\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getPoint = function () {\n\t\t\t\t\t\tvar p = new svg.Point(this.getScalar(), this.getScalar());\n\t\t\t\t\t\treturn this.makeAbsolute(p);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getAsControlPoint = function () {\n\t\t\t\t\t\tvar p = this.getPoint();\n\t\t\t\t\t\tthis.control = p;\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getAsCurrentPoint = function () {\n\t\t\t\t\t\tvar p = this.getPoint();\n\t\t\t\t\t\tthis.current = p;\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getReflectedControlPoint = function () {\n\t\t\t\t\t\tif (this.previousCommand.toLowerCase() != 'c' && this.previousCommand.toLowerCase() != 's' && this.previousCommand.toLowerCase() != 'q' && this.previousCommand.toLowerCase() != 't') {\n\t\t\t\t\t\t\treturn this.current;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reflect point\n\t\t\t\t\t\tvar p = new svg.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.makeAbsolute = function (p) {\n\t\t\t\t\t\tif (this.isRelativeCommand()) {\n\t\t\t\t\t\t\tp.x += this.current.x;\n\t\t\t\t\t\t\tp.y += this.current.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.addMarker = function (p, from, priorTo) {\n\t\t\t\t\t\t// if the last angle isn't filled in because we didn't have this point yet ...\n\t\t\t\t\t\tif (priorTo != null && this.angles.length > 0 && this.angles[this.angles.length - 1] == null) {\n\t\t\t\t\t\t\tthis.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(priorTo);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.addMarkerAngle(p, from == null ? null : from.angleTo(p));\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.addMarkerAngle = function (p, a) {\n\t\t\t\t\t\tthis.points.push(p);\n\t\t\t\t\t\tthis.angles.push(a);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.getMarkerPoints = function () {\n\t\t\t\t\t\treturn this.points;\n\t\t\t\t\t};\n\t\t\t\t\tthis.getMarkerAngles = function () {\n\t\t\t\t\t\tfor (var i = 0; i < this.angles.length; i++) {\n\t\t\t\t\t\t\tif (this.angles[i] == null) {\n\t\t\t\t\t\t\t\tfor (var j = i + 1; j < this.angles.length; j++) {\n\t\t\t\t\t\t\t\t\tif (this.angles[j] != null) {\n\t\t\t\t\t\t\t\t\t\tthis.angles[i] = this.angles[j];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.angles;\n\t\t\t\t\t};\n\t\t\t\t}(d);\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tvar pp = this.PathParser;\n\t\t\t\t\tpp.reset();\n\n\t\t\t\t\tvar bb = new svg.BoundingBox();\n\t\t\t\t\tif (ctx != null) ctx.beginPath();\n\t\t\t\t\twhile (!pp.isEnd()) {\n\t\t\t\t\t\tpp.nextCommand();\n\t\t\t\t\t\tswitch (pp.command) {\n\t\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\t\tvar p = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\tpp.addMarker(p);\n\t\t\t\t\t\t\t\tbb.addPoint(p.x, p.y);\n\t\t\t\t\t\t\t\tif (ctx != null) ctx.moveTo(p.x, p.y);\n\t\t\t\t\t\t\t\tpp.start = pp.current;\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar p = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(p, pp.start);\n\t\t\t\t\t\t\t\t\tbb.addPoint(p.x, p.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.lineTo(p.x, p.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'L':\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar c = pp.current;\n\t\t\t\t\t\t\t\t\tvar p = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(p, c);\n\t\t\t\t\t\t\t\t\tbb.addPoint(p.x, p.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.lineTo(p.x, p.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'H':\n\t\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar newP = new svg.Point((pp.isRelativeCommand() ? pp.current.x : 0) + pp.getScalar(), pp.current.y);\n\t\t\t\t\t\t\t\t\tpp.addMarker(newP, pp.current);\n\t\t\t\t\t\t\t\t\tpp.current = newP;\n\t\t\t\t\t\t\t\t\tbb.addPoint(pp.current.x, pp.current.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'V':\n\t\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar newP = new svg.Point(pp.current.x, (pp.isRelativeCommand() ? pp.current.y : 0) + pp.getScalar());\n\t\t\t\t\t\t\t\t\tpp.addMarker(newP, pp.current);\n\t\t\t\t\t\t\t\t\tpp.current = newP;\n\t\t\t\t\t\t\t\t\tbb.addPoint(pp.current.x, pp.current.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'C':\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar curr = pp.current;\n\t\t\t\t\t\t\t\t\tvar p1 = pp.getPoint();\n\t\t\t\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\n\t\t\t\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(cp, cntrl, p1);\n\t\t\t\t\t\t\t\t\tbb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'S':\n\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar curr = pp.current;\n\t\t\t\t\t\t\t\t\tvar p1 = pp.getReflectedControlPoint();\n\t\t\t\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\n\t\t\t\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(cp, cntrl, p1);\n\t\t\t\t\t\t\t\t\tbb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Q':\n\t\t\t\t\t\t\tcase 'q':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar curr = pp.current;\n\t\t\t\t\t\t\t\t\tvar cntrl = pp.getAsControlPoint();\n\t\t\t\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(cp, cntrl, cntrl);\n\t\t\t\t\t\t\t\t\tbb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'T':\n\t\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar curr = pp.current;\n\t\t\t\t\t\t\t\t\tvar cntrl = pp.getReflectedControlPoint();\n\t\t\t\t\t\t\t\t\tpp.control = cntrl;\n\t\t\t\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\n\t\t\t\t\t\t\t\t\tpp.addMarker(cp, cntrl, cntrl);\n\t\t\t\t\t\t\t\t\tbb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t\tif (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'A':\n\t\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\t\twhile (!pp.isCommandOrEnd()) {\n\t\t\t\t\t\t\t\t\tvar curr = pp.current;\n\t\t\t\t\t\t\t\t\tvar rx = pp.getScalar();\n\t\t\t\t\t\t\t\t\tvar ry = pp.getScalar();\n\t\t\t\t\t\t\t\t\tvar xAxisRotation = pp.getScalar() * (Math.PI / 180.0);\n\t\t\t\t\t\t\t\t\tvar largeArcFlag = pp.getScalar();\n\t\t\t\t\t\t\t\t\tvar sweepFlag = pp.getScalar();\n\t\t\t\t\t\t\t\t\tvar cp = pp.getAsCurrentPoint();\n\n\t\t\t\t\t\t\t\t\t// Conversion from endpoint to center parameterization\n\t\t\t\t\t\t\t\t\t// http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n\t\t\t\t\t\t\t\t\t// x1', y1'\n\t\t\t\t\t\t\t\t\tvar currp = new svg.Point(Math.cos(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.sin(xAxisRotation) * (curr.y - cp.y) / 2.0, -Math.sin(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.cos(xAxisRotation) * (curr.y - cp.y) / 2.0);\n\t\t\t\t\t\t\t\t\t// adjust radii\n\t\t\t\t\t\t\t\t\tvar l = Math.pow(currp.x, 2) / Math.pow(rx, 2) + Math.pow(currp.y, 2) / Math.pow(ry, 2);\n\t\t\t\t\t\t\t\t\tif (l > 1) {\n\t\t\t\t\t\t\t\t\t\trx *= Math.sqrt(l);\n\t\t\t\t\t\t\t\t\t\try *= Math.sqrt(l);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// cx', cy'\n\t\t\t\t\t\t\t\t\tvar s = (largeArcFlag == sweepFlag ? -1 : 1) * Math.sqrt((Math.pow(rx, 2) * Math.pow(ry, 2) - Math.pow(rx, 2) * Math.pow(currp.y, 2) - Math.pow(ry, 2) * Math.pow(currp.x, 2)) / (Math.pow(rx, 2) * Math.pow(currp.y, 2) + Math.pow(ry, 2) * Math.pow(currp.x, 2)));\n\t\t\t\t\t\t\t\t\tif (isNaN(s)) s = 0;\n\t\t\t\t\t\t\t\t\tvar cpp = new svg.Point(s * rx * currp.y / ry, s * -ry * currp.x / rx);\n\t\t\t\t\t\t\t\t\t// cx, cy\n\t\t\t\t\t\t\t\t\tvar centp = new svg.Point((curr.x + cp.x) / 2.0 + Math.cos(xAxisRotation) * cpp.x - Math.sin(xAxisRotation) * cpp.y, (curr.y + cp.y) / 2.0 + Math.sin(xAxisRotation) * cpp.x + Math.cos(xAxisRotation) * cpp.y);\n\t\t\t\t\t\t\t\t\t// vector magnitude\n\t\t\t\t\t\t\t\t\tvar m = function m(v) {\n\t\t\t\t\t\t\t\t\t\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t// ratio between two vectors\n\t\t\t\t\t\t\t\t\tvar r = function r(u, v) {\n\t\t\t\t\t\t\t\t\t\treturn (u[0] * v[0] + u[1] * v[1]) / (m(u) * m(v));\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t// angle between two vectors\n\t\t\t\t\t\t\t\t\tvar a = function a(u, v) {\n\t\t\t\t\t\t\t\t\t\treturn (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(r(u, v));\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t// initial angle\n\t\t\t\t\t\t\t\t\tvar a1 = a([1, 0], [(currp.x - cpp.x) / rx, (currp.y - cpp.y) / ry]);\n\t\t\t\t\t\t\t\t\t// angle delta\n\t\t\t\t\t\t\t\t\tvar u = [(currp.x - cpp.x) / rx, (currp.y - cpp.y) / ry];\n\t\t\t\t\t\t\t\t\tvar v = [(-currp.x - cpp.x) / rx, (-currp.y - cpp.y) / ry];\n\t\t\t\t\t\t\t\t\tvar ad = a(u, v);\n\t\t\t\t\t\t\t\t\tif (r(u, v) <= -1) ad = Math.PI;\n\t\t\t\t\t\t\t\t\tif (r(u, v) >= 1) ad = 0;\n\n\t\t\t\t\t\t\t\t\t// for markers\n\t\t\t\t\t\t\t\t\tvar dir = 1 - sweepFlag ? 1.0 : -1.0;\n\t\t\t\t\t\t\t\t\tvar ah = a1 + dir * (ad / 2.0);\n\t\t\t\t\t\t\t\t\tvar halfWay = new svg.Point(centp.x + rx * Math.cos(ah), centp.y + ry * Math.sin(ah));\n\t\t\t\t\t\t\t\t\tpp.addMarkerAngle(halfWay, ah - dir * Math.PI / 2);\n\t\t\t\t\t\t\t\t\tpp.addMarkerAngle(cp, ah - dir * Math.PI);\n\n\t\t\t\t\t\t\t\t\tbb.addPoint(cp.x, cp.y); // TODO: this is too naive, make it better\n\t\t\t\t\t\t\t\t\tif (ctx != null) {\n\t\t\t\t\t\t\t\t\t\tvar r = rx > ry ? rx : ry;\n\t\t\t\t\t\t\t\t\t\tvar sx = rx > ry ? 1 : rx / ry;\n\t\t\t\t\t\t\t\t\t\tvar sy = rx > ry ? ry / rx : 1;\n\n\t\t\t\t\t\t\t\t\t\tctx.translate(centp.x, centp.y);\n\t\t\t\t\t\t\t\t\t\tctx.rotate(xAxisRotation);\n\t\t\t\t\t\t\t\t\t\tctx.scale(sx, sy);\n\t\t\t\t\t\t\t\t\t\tctx.arc(0, 0, r, a1, a1 + ad, 1 - sweepFlag);\n\t\t\t\t\t\t\t\t\t\tctx.scale(1 / sx, 1 / sy);\n\t\t\t\t\t\t\t\t\t\tctx.rotate(-xAxisRotation);\n\t\t\t\t\t\t\t\t\t\tctx.translate(-centp.x, -centp.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t\tcase 'z':\n\t\t\t\t\t\t\t\tif (ctx != null) ctx.closePath();\n\t\t\t\t\t\t\t\tpp.current = pp.start;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn bb;\n\t\t\t\t};\n\n\t\t\t\tthis.getMarkers = function () {\n\t\t\t\t\tvar points = this.PathParser.getMarkerPoints();\n\t\t\t\t\tvar angles = this.PathParser.getMarkerAngles();\n\n\t\t\t\t\tvar markers = [];\n\t\t\t\t\tfor (var i = 0; i < points.length; i++) {\n\t\t\t\t\t\tmarkers.push([points[i], angles[i]]);\n\t\t\t\t\t}\n\t\t\t\t\treturn markers;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.path.prototype = new svg.Element.PathElementBase();\n\n\t\t\t// pattern element\n\t\t\tsvg.Element.pattern = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.createPattern = function (ctx, element) {\n\t\t\t\t\tvar width = this.attribute('width').toPixels('x', true);\n\t\t\t\t\tvar height = this.attribute('height').toPixels('y', true);\n\n\t\t\t\t\t// render me using a temporary svg element\n\t\t\t\t\tvar tempSvg = new svg.Element.svg();\n\t\t\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);\n\t\t\t\t\ttempSvg.attributes['width'] = new svg.Property('width', width + 'px');\n\t\t\t\t\ttempSvg.attributes['height'] = new svg.Property('height', height + 'px');\n\t\t\t\t\ttempSvg.attributes['transform'] = new svg.Property('transform', this.attribute('patternTransform').value);\n\t\t\t\t\ttempSvg.children = this.children;\n\n\t\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\t\tc.width = width;\n\t\t\t\t\tc.height = height;\n\t\t\t\t\tvar cctx = c.getContext('2d');\n\t\t\t\t\tif (this.attribute('x').hasValue() && this.attribute('y').hasValue()) {\n\t\t\t\t\t\tcctx.translate(this.attribute('x').toPixels('x', true), this.attribute('y').toPixels('y', true));\n\t\t\t\t\t}\n\t\t\t\t\t// render 3x3 grid so when we transform there's no white space on edges\n\t\t\t\t\tfor (var x = -1; x <= 1; x++) {\n\t\t\t\t\t\tfor (var y = -1; y <= 1; y++) {\n\t\t\t\t\t\t\tcctx.save();\n\t\t\t\t\t\t\ttempSvg.attributes['x'] = new svg.Property('x', x * c.width);\n\t\t\t\t\t\t\ttempSvg.attributes['y'] = new svg.Property('y', y * c.height);\n\t\t\t\t\t\t\ttempSvg.render(cctx);\n\t\t\t\t\t\t\tcctx.restore();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar pattern = ctx.createPattern(c, 'repeat');\n\t\t\t\t\treturn pattern;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.pattern.prototype = new svg.Element.ElementBase();\n\n\t\t\t// marker element\n\t\t\tsvg.Element.marker = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.baseRender = this.render;\n\t\t\t\tthis.render = function (ctx, point, angle) {\n\t\t\t\t\tctx.translate(point.x, point.y);\n\t\t\t\t\tif (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(angle);\n\t\t\t\t\tif (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(ctx.lineWidth, ctx.lineWidth);\n\t\t\t\t\tctx.save();\n\n\t\t\t\t\t// render me using a temporary svg element\n\t\t\t\t\tvar tempSvg = new svg.Element.svg();\n\t\t\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);\n\t\t\t\t\ttempSvg.attributes['refX'] = new svg.Property('refX', this.attribute('refX').value);\n\t\t\t\t\ttempSvg.attributes['refY'] = new svg.Property('refY', this.attribute('refY').value);\n\t\t\t\t\ttempSvg.attributes['width'] = new svg.Property('width', this.attribute('markerWidth').value);\n\t\t\t\t\ttempSvg.attributes['height'] = new svg.Property('height', this.attribute('markerHeight').value);\n\t\t\t\t\ttempSvg.attributes['fill'] = new svg.Property('fill', this.attribute('fill').valueOrDefault('black'));\n\t\t\t\t\ttempSvg.attributes['stroke'] = new svg.Property('stroke', this.attribute('stroke').valueOrDefault('none'));\n\t\t\t\t\ttempSvg.children = this.children;\n\t\t\t\t\ttempSvg.render(ctx);\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t\tif (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(1 / ctx.lineWidth, 1 / ctx.lineWidth);\n\t\t\t\t\tif (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(-angle);\n\t\t\t\t\tctx.translate(-point.x, -point.y);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.marker.prototype = new svg.Element.ElementBase();\n\n\t\t\t// definitions element\n\t\t\tsvg.Element.defs = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// NOOP\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.defs.prototype = new svg.Element.ElementBase();\n\n\t\t\t// base for gradients\n\t\t\tsvg.Element.GradientBase = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.stops = [];\n\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\tvar child = this.children[i];\n\t\t\t\t\tif (child.type == 'stop') this.stops.push(child);\n\t\t\t\t}\n\n\t\t\t\tthis.getGradient = function () {\n\t\t\t\t\t// OVERRIDE ME!\n\t\t\t\t};\n\n\t\t\t\tthis.gradientUnits = function () {\n\t\t\t\t\treturn this.attribute('gradientUnits').valueOrDefault('objectBoundingBox');\n\t\t\t\t};\n\n\t\t\t\tthis.attributesToInherit = ['gradientUnits'];\n\n\t\t\t\tthis.inheritStopContainer = function (stopsContainer) {\n\t\t\t\t\tfor (var i = 0; i < this.attributesToInherit.length; i++) {\n\t\t\t\t\t\tvar attributeToInherit = this.attributesToInherit[i];\n\t\t\t\t\t\tif (!this.attribute(attributeToInherit).hasValue() && stopsContainer.attribute(attributeToInherit).hasValue()) {\n\t\t\t\t\t\t\tthis.attribute(attributeToInherit, true).value = stopsContainer.attribute(attributeToInherit).value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.createGradient = function (ctx, element, parentOpacityProp) {\n\t\t\t\t\tvar stopsContainer = this;\n\t\t\t\t\tif (this.getHrefAttribute().hasValue()) {\n\t\t\t\t\t\tstopsContainer = this.getHrefAttribute().getDefinition();\n\t\t\t\t\t\tthis.inheritStopContainer(stopsContainer);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar addParentOpacity = function addParentOpacity(color) {\n\t\t\t\t\t\tif (parentOpacityProp.hasValue()) {\n\t\t\t\t\t\t\tvar p = new svg.Property('color', color);\n\t\t\t\t\t\t\treturn p.addOpacity(parentOpacityProp).value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn color;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar g = this.getGradient(ctx, element);\n\t\t\t\t\tif (g == null) return addParentOpacity(stopsContainer.stops[stopsContainer.stops.length - 1].color);\n\t\t\t\t\tfor (var i = 0; i < stopsContainer.stops.length; i++) {\n\t\t\t\t\t\tg.addColorStop(stopsContainer.stops[i].offset, addParentOpacity(stopsContainer.stops[i].color));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.attribute('gradientTransform').hasValue()) {\n\t\t\t\t\t\t// render as transformed pattern on temporary canvas\n\t\t\t\t\t\tvar rootView = svg.ViewPort.viewPorts[0];\n\n\t\t\t\t\t\tvar rect = new svg.Element.rect();\n\t\t\t\t\t\trect.attributes['x'] = new svg.Property('x', -svg.MAX_VIRTUAL_PIXELS / 3.0);\n\t\t\t\t\t\trect.attributes['y'] = new svg.Property('y', -svg.MAX_VIRTUAL_PIXELS / 3.0);\n\t\t\t\t\t\trect.attributes['width'] = new svg.Property('width', svg.MAX_VIRTUAL_PIXELS);\n\t\t\t\t\t\trect.attributes['height'] = new svg.Property('height', svg.MAX_VIRTUAL_PIXELS);\n\n\t\t\t\t\t\tvar group = new svg.Element.g();\n\t\t\t\t\t\tgroup.attributes['transform'] = new svg.Property('transform', this.attribute('gradientTransform').value);\n\t\t\t\t\t\tgroup.children = [rect];\n\n\t\t\t\t\t\tvar tempSvg = new svg.Element.svg();\n\t\t\t\t\t\ttempSvg.attributes['x'] = new svg.Property('x', 0);\n\t\t\t\t\t\ttempSvg.attributes['y'] = new svg.Property('y', 0);\n\t\t\t\t\t\ttempSvg.attributes['width'] = new svg.Property('width', rootView.width);\n\t\t\t\t\t\ttempSvg.attributes['height'] = new svg.Property('height', rootView.height);\n\t\t\t\t\t\ttempSvg.children = [group];\n\n\t\t\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\t\t\tc.width = rootView.width;\n\t\t\t\t\t\tc.height = rootView.height;\n\t\t\t\t\t\tvar tempCtx = c.getContext('2d');\n\t\t\t\t\t\ttempCtx.fillStyle = g;\n\t\t\t\t\t\ttempSvg.render(tempCtx);\n\t\t\t\t\t\treturn tempCtx.createPattern(c, 'no-repeat');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn g;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.GradientBase.prototype = new svg.Element.ElementBase();\n\n\t\t\t// linear gradient element\n\t\t\tsvg.Element.linearGradient = function (node) {\n\t\t\t\tthis.base = svg.Element.GradientBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.attributesToInherit.push('x1');\n\t\t\t\tthis.attributesToInherit.push('y1');\n\t\t\t\tthis.attributesToInherit.push('x2');\n\t\t\t\tthis.attributesToInherit.push('y2');\n\n\t\t\t\tthis.getGradient = function (ctx, element) {\n\t\t\t\t\tvar bb = this.gradientUnits() == 'objectBoundingBox' ? element.getBoundingBox() : null;\n\n\t\t\t\t\tif (!this.attribute('x1').hasValue() && !this.attribute('y1').hasValue() && !this.attribute('x2').hasValue() && !this.attribute('y2').hasValue()) {\n\t\t\t\t\t\tthis.attribute('x1', true).value = 0;\n\t\t\t\t\t\tthis.attribute('y1', true).value = 0;\n\t\t\t\t\t\tthis.attribute('x2', true).value = 1;\n\t\t\t\t\t\tthis.attribute('y2', true).value = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar x1 = this.gradientUnits() == 'objectBoundingBox' ? bb.x() + bb.width() * this.attribute('x1').numValue() : this.attribute('x1').toPixels('x');\n\t\t\t\t\tvar y1 = this.gradientUnits() == 'objectBoundingBox' ? bb.y() + bb.height() * this.attribute('y1').numValue() : this.attribute('y1').toPixels('y');\n\t\t\t\t\tvar x2 = this.gradientUnits() == 'objectBoundingBox' ? bb.x() + bb.width() * this.attribute('x2').numValue() : this.attribute('x2').toPixels('x');\n\t\t\t\t\tvar y2 = this.gradientUnits() == 'objectBoundingBox' ? bb.y() + bb.height() * this.attribute('y2').numValue() : this.attribute('y2').toPixels('y');\n\n\t\t\t\t\tif (x1 == x2 && y1 == y2) return null;\n\t\t\t\t\treturn ctx.createLinearGradient(x1, y1, x2, y2);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.linearGradient.prototype = new svg.Element.GradientBase();\n\n\t\t\t// radial gradient element\n\t\t\tsvg.Element.radialGradient = function (node) {\n\t\t\t\tthis.base = svg.Element.GradientBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.attributesToInherit.push('cx');\n\t\t\t\tthis.attributesToInherit.push('cy');\n\t\t\t\tthis.attributesToInherit.push('r');\n\t\t\t\tthis.attributesToInherit.push('fx');\n\t\t\t\tthis.attributesToInherit.push('fy');\n\n\t\t\t\tthis.getGradient = function (ctx, element) {\n\t\t\t\t\tvar bb = element.getBoundingBox();\n\n\t\t\t\t\tif (!this.attribute('cx').hasValue()) this.attribute('cx', true).value = '50%';\n\t\t\t\t\tif (!this.attribute('cy').hasValue()) this.attribute('cy', true).value = '50%';\n\t\t\t\t\tif (!this.attribute('r').hasValue()) this.attribute('r', true).value = '50%';\n\n\t\t\t\t\tvar cx = this.gradientUnits() == 'objectBoundingBox' ? bb.x() + bb.width() * this.attribute('cx').numValue() : this.attribute('cx').toPixels('x');\n\t\t\t\t\tvar cy = this.gradientUnits() == 'objectBoundingBox' ? bb.y() + bb.height() * this.attribute('cy').numValue() : this.attribute('cy').toPixels('y');\n\n\t\t\t\t\tvar fx = cx;\n\t\t\t\t\tvar fy = cy;\n\t\t\t\t\tif (this.attribute('fx').hasValue()) {\n\t\t\t\t\t\tfx = this.gradientUnits() == 'objectBoundingBox' ? bb.x() + bb.width() * this.attribute('fx').numValue() : this.attribute('fx').toPixels('x');\n\t\t\t\t\t}\n\t\t\t\t\tif (this.attribute('fy').hasValue()) {\n\t\t\t\t\t\tfy = this.gradientUnits() == 'objectBoundingBox' ? bb.y() + bb.height() * this.attribute('fy').numValue() : this.attribute('fy').toPixels('y');\n\t\t\t\t\t}\n\n\t\t\t\t\tvar r = this.gradientUnits() == 'objectBoundingBox' ? (bb.width() + bb.height()) / 2.0 * this.attribute('r').numValue() : this.attribute('r').toPixels();\n\n\t\t\t\t\treturn ctx.createRadialGradient(fx, fy, 0, cx, cy, r);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.radialGradient.prototype = new svg.Element.GradientBase();\n\n\t\t\t// gradient stop element\n\t\t\tsvg.Element.stop = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.offset = this.attribute('offset').numValue();\n\t\t\t\tif (this.offset < 0) this.offset = 0;\n\t\t\t\tif (this.offset > 1) this.offset = 1;\n\n\t\t\t\tvar stopColor = this.style('stop-color', true);\n\t\t\t\tif (stopColor.value === '') stopColor.value = '#000';\n\t\t\t\tif (this.style('stop-opacity').hasValue()) stopColor = stopColor.addOpacity(this.style('stop-opacity'));\n\t\t\t\tthis.color = stopColor.value;\n\t\t\t};\n\t\t\tsvg.Element.stop.prototype = new svg.Element.ElementBase();\n\n\t\t\t// animation base element\n\t\t\tsvg.Element.AnimateBase = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tsvg.Animations.push(this);\n\n\t\t\t\tthis.duration = 0.0;\n\t\t\t\tthis.begin = this.attribute('begin').toMilliseconds();\n\t\t\t\tthis.maxDuration = this.begin + this.attribute('dur').toMilliseconds();\n\n\t\t\t\tthis.getProperty = function () {\n\t\t\t\t\tvar attributeType = this.attribute('attributeType').value;\n\t\t\t\t\tvar attributeName = this.attribute('attributeName').value;\n\n\t\t\t\t\tif (attributeType == 'CSS') {\n\t\t\t\t\t\treturn this.parent.style(attributeName, true);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.parent.attribute(attributeName, true);\n\t\t\t\t};\n\n\t\t\t\tthis.initialValue = null;\n\t\t\t\tthis.initialUnits = '';\n\t\t\t\tthis.removed = false;\n\n\t\t\t\tthis.calcValue = function () {\n\t\t\t\t\t// OVERRIDE ME!\n\t\t\t\t\treturn '';\n\t\t\t\t};\n\n\t\t\t\tthis.update = function (delta) {\n\t\t\t\t\t// set initial value\n\t\t\t\t\tif (this.initialValue == null) {\n\t\t\t\t\t\tthis.initialValue = this.getProperty().value;\n\t\t\t\t\t\tthis.initialUnits = this.getProperty().getUnits();\n\t\t\t\t\t}\n\n\t\t\t\t\t// if we're past the end time\n\t\t\t\t\tif (this.duration > this.maxDuration) {\n\t\t\t\t\t\t// loop for indefinitely repeating animations\n\t\t\t\t\t\tif (this.attribute('repeatCount').value == 'indefinite' || this.attribute('repeatDur').value == 'indefinite') {\n\t\t\t\t\t\t\tthis.duration = 0.0;\n\t\t\t\t\t\t} else if (this.attribute('fill').valueOrDefault('remove') == 'freeze' && !this.frozen) {\n\t\t\t\t\t\t\tthis.frozen = true;\n\t\t\t\t\t\t\tthis.parent.animationFrozen = true;\n\t\t\t\t\t\t\tthis.parent.animationFrozenValue = this.getProperty().value;\n\t\t\t\t\t\t} else if (this.attribute('fill').valueOrDefault('remove') == 'remove' && !this.removed) {\n\t\t\t\t\t\t\tthis.removed = true;\n\t\t\t\t\t\t\tthis.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue;\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.duration = this.duration + delta;\n\n\t\t\t\t\t// if we're past the begin time\n\t\t\t\t\tvar updated = false;\n\t\t\t\t\tif (this.begin < this.duration) {\n\t\t\t\t\t\tvar newValue = this.calcValue(); // tween\n\n\t\t\t\t\t\tif (this.attribute('type').hasValue()) {\n\t\t\t\t\t\t\t// for transform, etc.\n\t\t\t\t\t\t\tvar type = this.attribute('type').value;\n\t\t\t\t\t\t\tnewValue = type + '(' + newValue + ')';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.getProperty().value = newValue;\n\t\t\t\t\t\tupdated = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn updated;\n\t\t\t\t};\n\n\t\t\t\tthis.from = this.attribute('from');\n\t\t\t\tthis.to = this.attribute('to');\n\t\t\t\tthis.values = this.attribute('values');\n\t\t\t\tif (this.values.hasValue()) this.values.value = this.values.value.split(';');\n\n\t\t\t\t// fraction of duration we've covered\n\t\t\t\tthis.progress = function () {\n\t\t\t\t\tvar ret = { progress: (this.duration - this.begin) / (this.maxDuration - this.begin) };\n\t\t\t\t\tif (this.values.hasValue()) {\n\t\t\t\t\t\tvar p = ret.progress * (this.values.value.length - 1);\n\t\t\t\t\t\tvar lb = Math.floor(p),\n\t\t\t\t\t\t    ub = Math.ceil(p);\n\t\t\t\t\t\tret.from = new svg.Property('from', parseFloat(this.values.value[lb]));\n\t\t\t\t\t\tret.to = new svg.Property('to', parseFloat(this.values.value[ub]));\n\t\t\t\t\t\tret.progress = (p - lb) / (ub - lb);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret.from = this.from;\n\t\t\t\t\t\tret.to = this.to;\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.AnimateBase.prototype = new svg.Element.ElementBase();\n\n\t\t\t// animate element\n\t\t\tsvg.Element.animate = function (node) {\n\t\t\t\tthis.base = svg.Element.AnimateBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.calcValue = function () {\n\t\t\t\t\tvar p = this.progress();\n\n\t\t\t\t\t// tween value linearly\n\t\t\t\t\tvar newValue = p.from.numValue() + (p.to.numValue() - p.from.numValue()) * p.progress;\n\t\t\t\t\treturn newValue + this.initialUnits;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.animate.prototype = new svg.Element.AnimateBase();\n\n\t\t\t// animate color element\n\t\t\tsvg.Element.animateColor = function (node) {\n\t\t\t\tthis.base = svg.Element.AnimateBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.calcValue = function () {\n\t\t\t\t\tvar p = this.progress();\n\t\t\t\t\tvar from = new RGBColor(p.from.value);\n\t\t\t\t\tvar to = new RGBColor(p.to.value);\n\n\t\t\t\t\tif (from.ok && to.ok) {\n\t\t\t\t\t\t// tween color linearly\n\t\t\t\t\t\tvar r = from.r + (to.r - from.r) * p.progress;\n\t\t\t\t\t\tvar g = from.g + (to.g - from.g) * p.progress;\n\t\t\t\t\t\tvar b = from.b + (to.b - from.b) * p.progress;\n\t\t\t\t\t\treturn 'rgb(' + parseInt(r, 10) + ',' + parseInt(g, 10) + ',' + parseInt(b, 10) + ')';\n\t\t\t\t\t}\n\t\t\t\t\treturn this.attribute('from').value;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.animateColor.prototype = new svg.Element.AnimateBase();\n\n\t\t\t// animate transform element\n\t\t\tsvg.Element.animateTransform = function (node) {\n\t\t\t\tthis.base = svg.Element.AnimateBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.calcValue = function () {\n\t\t\t\t\tvar p = this.progress();\n\n\t\t\t\t\t// tween value linearly\n\t\t\t\t\tvar from = svg.ToNumberArray(p.from.value);\n\t\t\t\t\tvar to = svg.ToNumberArray(p.to.value);\n\t\t\t\t\tvar newValue = '';\n\t\t\t\t\tfor (var i = 0; i < from.length; i++) {\n\t\t\t\t\t\tnewValue += from[i] + (to[i] - from[i]) * p.progress + ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn newValue;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.animateTransform.prototype = new svg.Element.animate();\n\n\t\t\t// font element\n\t\t\tsvg.Element.font = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.horizAdvX = this.attribute('horiz-adv-x').numValue();\n\n\t\t\t\tthis.isRTL = false;\n\t\t\t\tthis.isArabic = false;\n\t\t\t\tthis.fontFace = null;\n\t\t\t\tthis.missingGlyph = null;\n\t\t\t\tthis.glyphs = [];\n\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\tvar child = this.children[i];\n\t\t\t\t\tif (child.type == 'font-face') {\n\t\t\t\t\t\tthis.fontFace = child;\n\t\t\t\t\t\tif (child.style('font-family').hasValue()) {\n\t\t\t\t\t\t\tsvg.Definitions[child.style('font-family').value] = this;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (child.type == 'missing-glyph') this.missingGlyph = child;else if (child.type == 'glyph') {\n\t\t\t\t\t\tif (child.arabicForm != '') {\n\t\t\t\t\t\t\tthis.isRTL = true;\n\t\t\t\t\t\t\tthis.isArabic = true;\n\t\t\t\t\t\t\tif (typeof this.glyphs[child.unicode] == 'undefined') this.glyphs[child.unicode] = [];\n\t\t\t\t\t\t\tthis.glyphs[child.unicode][child.arabicForm] = child;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.glyphs[child.unicode] = child;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tsvg.Element.font.prototype = new svg.Element.ElementBase();\n\n\t\t\t// font-face element\n\t\t\tsvg.Element.fontface = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.ascent = this.attribute('ascent').value;\n\t\t\t\tthis.descent = this.attribute('descent').value;\n\t\t\t\tthis.unitsPerEm = this.attribute('units-per-em').numValue();\n\t\t\t};\n\t\t\tsvg.Element.fontface.prototype = new svg.Element.ElementBase();\n\n\t\t\t// missing-glyph element\n\t\t\tsvg.Element.missingglyph = function (node) {\n\t\t\t\tthis.base = svg.Element.path;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.horizAdvX = 0;\n\t\t\t};\n\t\t\tsvg.Element.missingglyph.prototype = new svg.Element.path();\n\n\t\t\t// glyph element\n\t\t\tsvg.Element.glyph = function (node) {\n\t\t\t\tthis.base = svg.Element.path;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.horizAdvX = this.attribute('horiz-adv-x').numValue();\n\t\t\t\tthis.unicode = this.attribute('unicode').value;\n\t\t\t\tthis.arabicForm = this.attribute('arabic-form').value;\n\t\t\t};\n\t\t\tsvg.Element.glyph.prototype = new svg.Element.path();\n\n\t\t\t// text element\n\t\t\tsvg.Element.text = function (node) {\n\t\t\t\tthis.captureTextNodes = true;\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.baseSetContext = this.setContext;\n\t\t\t\tthis.setContext = function (ctx) {\n\t\t\t\t\tthis.baseSetContext(ctx);\n\n\t\t\t\t\tvar textBaseline = this.style('dominant-baseline').toTextBaseline();\n\t\t\t\t\tif (textBaseline == null) textBaseline = this.style('alignment-baseline').toTextBaseline();\n\t\t\t\t\tif (textBaseline != null) ctx.textBaseline = textBaseline;\n\t\t\t\t};\n\n\t\t\t\tthis.getBoundingBox = function () {\n\t\t\t\t\tvar x = this.attribute('x').toPixels('x');\n\t\t\t\t\tvar y = this.attribute('y').toPixels('y');\n\t\t\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\n\t\t\t\t\treturn new svg.BoundingBox(x, y - fontSize, x + Math.floor(fontSize * 2.0 / 3.0) * this.children[0].getText().length, y);\n\t\t\t\t};\n\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tthis.x = this.attribute('x').toPixels('x');\n\t\t\t\t\tthis.y = this.attribute('y').toPixels('y');\n\t\t\t\t\tif (this.attribute('dx').hasValue()) this.x += this.attribute('dx').toPixels('x');\n\t\t\t\t\tif (this.attribute('dy').hasValue()) this.y += this.attribute('dy').toPixels('y');\n\t\t\t\t\tthis.x += this.getAnchorDelta(ctx, this, 0);\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tthis.renderChild(ctx, this, this, i);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.getAnchorDelta = function (ctx, parent, startI) {\n\t\t\t\t\tvar textAnchor = this.style('text-anchor').valueOrDefault('start');\n\t\t\t\t\tif (textAnchor != 'start') {\n\t\t\t\t\t\tvar width = 0;\n\t\t\t\t\t\tfor (var i = startI; i < parent.children.length; i++) {\n\t\t\t\t\t\t\tvar child = parent.children[i];\n\t\t\t\t\t\t\tif (i > startI && child.attribute('x').hasValue()) break; // new group\n\t\t\t\t\t\t\twidth += child.measureTextRecursive(ctx);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn -1 * (textAnchor == 'end' ? width : width / 2.0);\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\n\t\t\t\tthis.renderChild = function (ctx, textParent, parent, i) {\n\t\t\t\t\tvar child = parent.children[i];\n\t\t\t\t\tif (child.attribute('x').hasValue()) {\n\t\t\t\t\t\tchild.x = child.attribute('x').toPixels('x') + textParent.getAnchorDelta(ctx, parent, i);\n\t\t\t\t\t\tif (child.attribute('dx').hasValue()) child.x += child.attribute('dx').toPixels('x');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (child.attribute('dx').hasValue()) textParent.x += child.attribute('dx').toPixels('x');\n\t\t\t\t\t\tchild.x = textParent.x;\n\t\t\t\t\t}\n\t\t\t\t\ttextParent.x = child.x + child.measureText(ctx);\n\n\t\t\t\t\tif (child.attribute('y').hasValue()) {\n\t\t\t\t\t\tchild.y = child.attribute('y').toPixels('y');\n\t\t\t\t\t\tif (child.attribute('dy').hasValue()) child.y += child.attribute('dy').toPixels('y');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (child.attribute('dy').hasValue()) textParent.y += child.attribute('dy').toPixels('y');\n\t\t\t\t\t\tchild.y = textParent.y;\n\t\t\t\t\t}\n\t\t\t\t\ttextParent.y = child.y;\n\n\t\t\t\t\tchild.render(ctx);\n\n\t\t\t\t\tfor (var i = 0; i < child.children.length; i++) {\n\t\t\t\t\t\ttextParent.renderChild(ctx, textParent, child, i);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.text.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// text base\n\t\t\tsvg.Element.TextElementBase = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.getGlyph = function (font, text, i) {\n\t\t\t\t\tvar c = text[i];\n\t\t\t\t\tvar glyph = null;\n\t\t\t\t\tif (font.isArabic) {\n\t\t\t\t\t\tvar arabicForm = 'isolated';\n\t\t\t\t\t\tif ((i == 0 || text[i - 1] == ' ') && i < text.length - 2 && text[i + 1] != ' ') arabicForm = 'terminal';\n\t\t\t\t\t\tif (i > 0 && text[i - 1] != ' ' && i < text.length - 2 && text[i + 1] != ' ') arabicForm = 'medial';\n\t\t\t\t\t\tif (i > 0 && text[i - 1] != ' ' && (i == text.length - 1 || text[i + 1] == ' ')) arabicForm = 'initial';\n\t\t\t\t\t\tif (typeof font.glyphs[c] != 'undefined') {\n\t\t\t\t\t\t\tglyph = font.glyphs[c][arabicForm];\n\t\t\t\t\t\t\tif (glyph == null && font.glyphs[c].type == 'glyph') glyph = font.glyphs[c];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglyph = font.glyphs[c];\n\t\t\t\t\t}\n\t\t\t\t\tif (glyph == null) glyph = font.missingGlyph;\n\t\t\t\t\treturn glyph;\n\t\t\t\t};\n\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tvar customFont = this.parent.style('font-family').getDefinition();\n\t\t\t\t\tif (customFont != null) {\n\t\t\t\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\n\t\t\t\t\t\tvar fontStyle = this.parent.style('font-style').valueOrDefault(svg.Font.Parse(svg.ctx.font).fontStyle);\n\t\t\t\t\t\tvar text = this.getText();\n\t\t\t\t\t\tif (customFont.isRTL) text = text.split(\"\").reverse().join(\"\");\n\n\t\t\t\t\t\tvar dx = svg.ToNumberArray(this.parent.attribute('dx').value);\n\t\t\t\t\t\tfor (var i = 0; i < text.length; i++) {\n\t\t\t\t\t\t\tvar glyph = this.getGlyph(customFont, text, i);\n\t\t\t\t\t\t\tvar scale = fontSize / customFont.fontFace.unitsPerEm;\n\t\t\t\t\t\t\tctx.translate(this.x, this.y);\n\t\t\t\t\t\t\tctx.scale(scale, -scale);\n\t\t\t\t\t\t\tvar lw = ctx.lineWidth;\n\t\t\t\t\t\t\tctx.lineWidth = ctx.lineWidth * customFont.fontFace.unitsPerEm / fontSize;\n\t\t\t\t\t\t\tif (fontStyle == 'italic') ctx.transform(1, 0, .4, 1, 0, 0);\n\t\t\t\t\t\t\tglyph.render(ctx);\n\t\t\t\t\t\t\tif (fontStyle == 'italic') ctx.transform(1, 0, -.4, 1, 0, 0);\n\t\t\t\t\t\t\tctx.lineWidth = lw;\n\t\t\t\t\t\t\tctx.scale(1 / scale, -1 / scale);\n\t\t\t\t\t\t\tctx.translate(-this.x, -this.y);\n\n\t\t\t\t\t\t\tthis.x += fontSize * (glyph.horizAdvX || customFont.horizAdvX) / customFont.fontFace.unitsPerEm;\n\t\t\t\t\t\t\tif (typeof dx[i] != 'undefined' && !isNaN(dx[i])) {\n\t\t\t\t\t\t\t\tthis.x += dx[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ctx.fillStyle != '') ctx.fillText(svg.compressSpaces(this.getText()), this.x, this.y);\n\t\t\t\t\tif (ctx.strokeStyle != '') ctx.strokeText(svg.compressSpaces(this.getText()), this.x, this.y);\n\t\t\t\t};\n\n\t\t\t\tthis.getText = function () {\n\t\t\t\t\t// OVERRIDE ME\n\t\t\t\t};\n\n\t\t\t\tthis.measureTextRecursive = function (ctx) {\n\t\t\t\t\tvar width = this.measureText(ctx);\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\twidth += this.children[i].measureTextRecursive(ctx);\n\t\t\t\t\t}\n\t\t\t\t\treturn width;\n\t\t\t\t};\n\n\t\t\t\tthis.measureText = function (ctx) {\n\t\t\t\t\tvar customFont = this.parent.style('font-family').getDefinition();\n\t\t\t\t\tif (customFont != null) {\n\t\t\t\t\t\tvar fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);\n\t\t\t\t\t\tvar measure = 0;\n\t\t\t\t\t\tvar text = this.getText();\n\t\t\t\t\t\tif (customFont.isRTL) text = text.split(\"\").reverse().join(\"\");\n\t\t\t\t\t\tvar dx = svg.ToNumberArray(this.parent.attribute('dx').value);\n\t\t\t\t\t\tfor (var i = 0; i < text.length; i++) {\n\t\t\t\t\t\t\tvar glyph = this.getGlyph(customFont, text, i);\n\t\t\t\t\t\t\tmeasure += (glyph.horizAdvX || customFont.horizAdvX) * fontSize / customFont.fontFace.unitsPerEm;\n\t\t\t\t\t\t\tif (typeof dx[i] != 'undefined' && !isNaN(dx[i])) {\n\t\t\t\t\t\t\t\tmeasure += dx[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn measure;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar textToMeasure = svg.compressSpaces(this.getText());\n\t\t\t\t\tif (!ctx.measureText) return textToMeasure.length * 10;\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tthis.setContext(ctx);\n\t\t\t\t\tvar width = ctx.measureText(textToMeasure).width;\n\t\t\t\t\tctx.restore();\n\t\t\t\t\treturn width;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.TextElementBase.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// tspan\n\t\t\tsvg.Element.tspan = function (node) {\n\t\t\t\tthis.captureTextNodes = true;\n\t\t\t\tthis.base = svg.Element.TextElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.text = svg.compressSpaces(node.value || node.text || node.textContent || '');\n\t\t\t\tthis.getText = function () {\n\t\t\t\t\t// if this node has children, then they own the text\n\t\t\t\t\tif (this.children.length > 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\treturn this.text;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.tspan.prototype = new svg.Element.TextElementBase();\n\n\t\t\t// tref\n\t\t\tsvg.Element.tref = function (node) {\n\t\t\t\tthis.base = svg.Element.TextElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.getText = function () {\n\t\t\t\t\tvar element = this.getHrefAttribute().getDefinition();\n\t\t\t\t\tif (element != null) return element.children[0].getText();\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.tref.prototype = new svg.Element.TextElementBase();\n\n\t\t\t// a element\n\t\t\tsvg.Element.a = function (node) {\n\t\t\t\tthis.base = svg.Element.TextElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.hasText = node.childNodes.length > 0;\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tif (node.childNodes[i].nodeType != 3) this.hasText = false;\n\t\t\t\t}\n\n\t\t\t\t// this might contain text\n\t\t\t\tthis.text = this.hasText ? node.childNodes[0].value : '';\n\t\t\t\tthis.getText = function () {\n\t\t\t\t\treturn this.text;\n\t\t\t\t};\n\n\t\t\t\tthis.baseRenderChildren = this.renderChildren;\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tif (this.hasText) {\n\t\t\t\t\t\t// render as text element\n\t\t\t\t\t\tthis.baseRenderChildren(ctx);\n\t\t\t\t\t\tvar fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);\n\t\t\t\t\t\tsvg.Mouse.checkBoundingBox(this, new svg.BoundingBox(this.x, this.y - fontSize.toPixels('y'), this.x + this.measureText(ctx), this.y));\n\t\t\t\t\t} else if (this.children.length > 0) {\n\t\t\t\t\t\t// render as temporary group\n\t\t\t\t\t\tvar g = new svg.Element.g();\n\t\t\t\t\t\tg.children = this.children;\n\t\t\t\t\t\tg.parent = this;\n\t\t\t\t\t\tg.render(ctx);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.onclick = function () {\n\t\t\t\t\twindow.open(this.getHrefAttribute().value);\n\t\t\t\t};\n\n\t\t\t\tthis.onmousemove = function () {\n\t\t\t\t\tsvg.ctx.canvas.style.cursor = 'pointer';\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.a.prototype = new svg.Element.TextElementBase();\n\n\t\t\t// image element\n\t\t\tsvg.Element.image = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tvar href = this.getHrefAttribute().value;\n\t\t\t\tif (href == '') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSvg = href.match(/\\.svg$/);\n\n\t\t\t\tsvg.Images.push(this);\n\t\t\t\tthis.loaded = false;\n\t\t\t\tif (!isSvg) {\n\t\t\t\t\tthis.img = document.createElement('img');\n\t\t\t\t\tif (svg.opts['useCORS'] == true) {\n\t\t\t\t\t\tthis.img.crossOrigin = 'Anonymous';\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.img.onload = function () {\n\t\t\t\t\t\tself.loaded = true;\n\t\t\t\t\t};\n\t\t\t\t\tthis.img.onerror = function () {\n\t\t\t\t\t\tsvg.log('ERROR: image \"' + href + '\" not found');self.loaded = true;\n\t\t\t\t\t};\n\t\t\t\t\tthis.img.src = href;\n\t\t\t\t} else {\n\t\t\t\t\tthis.img = svg.ajax(href);\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t}\n\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tvar x = this.attribute('x').toPixels('x');\n\t\t\t\t\tvar y = this.attribute('y').toPixels('y');\n\n\t\t\t\t\tvar width = this.attribute('width').toPixels('x');\n\t\t\t\t\tvar height = this.attribute('height').toPixels('y');\n\t\t\t\t\tif (width == 0 || height == 0) return;\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tif (isSvg) {\n\t\t\t\t\t\tctx.drawSvg(this.img, x, y, width, height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.translate(x, y);\n\t\t\t\t\t\tsvg.AspectRatio(ctx, this.attribute('preserveAspectRatio').value, width, this.img.width, height, this.img.height, 0, 0);\n\t\t\t\t\t\tctx.drawImage(this.img, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\n\t\t\t\tthis.getBoundingBox = function () {\n\t\t\t\t\tvar x = this.attribute('x').toPixels('x');\n\t\t\t\t\tvar y = this.attribute('y').toPixels('y');\n\t\t\t\t\tvar width = this.attribute('width').toPixels('x');\n\t\t\t\t\tvar height = this.attribute('height').toPixels('y');\n\t\t\t\t\treturn new svg.BoundingBox(x, y, x + width, y + height);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.image.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// group element\n\t\t\tsvg.Element.g = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.getBoundingBox = function () {\n\t\t\t\t\tvar bb = new svg.BoundingBox();\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tbb.addBoundingBox(this.children[i].getBoundingBox());\n\t\t\t\t\t}\n\t\t\t\t\treturn bb;\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.g.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// symbol element\n\t\t\tsvg.Element.symbol = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// NO RENDER\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.symbol.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// style element\n\t\t\tsvg.Element.style = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\t// text, or spaces then CDATA\n\t\t\t\tvar css = '';\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tcss += node.childNodes[i].data;\n\t\t\t\t}\n\t\t\t\tcss = css.replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*\\/]|[\\r\\n])))*\\*+\\/)|(^[\\s]*\\/\\/.*)/gm, ''); // remove comments\n\t\t\t\tcss = svg.compressSpaces(css); // replace whitespace\n\t\t\t\tvar cssDefs = css.split('}');\n\t\t\t\tfor (var i = 0; i < cssDefs.length; i++) {\n\t\t\t\t\tif (svg.trim(cssDefs[i]) != '') {\n\t\t\t\t\t\tvar cssDef = cssDefs[i].split('{');\n\t\t\t\t\t\tvar cssClasses = cssDef[0].split(',');\n\t\t\t\t\t\tvar cssProps = cssDef[1].split(';');\n\t\t\t\t\t\tfor (var j = 0; j < cssClasses.length; j++) {\n\t\t\t\t\t\t\tvar cssClass = svg.trim(cssClasses[j]);\n\t\t\t\t\t\t\tif (cssClass != '') {\n\t\t\t\t\t\t\t\tvar props = svg.Styles[cssClass] || {};\n\t\t\t\t\t\t\t\tfor (var k = 0; k < cssProps.length; k++) {\n\t\t\t\t\t\t\t\t\tvar prop = cssProps[k].indexOf(':');\n\t\t\t\t\t\t\t\t\tvar name = cssProps[k].substr(0, prop);\n\t\t\t\t\t\t\t\t\tvar value = cssProps[k].substr(prop + 1, cssProps[k].length - prop);\n\t\t\t\t\t\t\t\t\tif (name != null && value != null) {\n\t\t\t\t\t\t\t\t\t\tprops[svg.trim(name)] = new svg.Property(svg.trim(name), svg.trim(value));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsvg.Styles[cssClass] = props;\n\t\t\t\t\t\t\t\tsvg.StylesSpecificity[cssClass] = getSelectorSpecificity(cssClass);\n\t\t\t\t\t\t\t\tif (cssClass == '@font-face') {\n\t\t\t\t\t\t\t\t\tvar fontFamily = props['font-family'].value.replace(/\"/g, '');\n\t\t\t\t\t\t\t\t\tvar srcs = props['src'].value.split(',');\n\t\t\t\t\t\t\t\t\tfor (var s = 0; s < srcs.length; s++) {\n\t\t\t\t\t\t\t\t\t\tif (srcs[s].indexOf('format(\"svg\")') > 0) {\n\t\t\t\t\t\t\t\t\t\t\tvar urlStart = srcs[s].indexOf('url');\n\t\t\t\t\t\t\t\t\t\t\tvar urlEnd = srcs[s].indexOf(')', urlStart);\n\t\t\t\t\t\t\t\t\t\t\tvar url = srcs[s].substr(urlStart + 5, urlEnd - urlStart - 6);\n\t\t\t\t\t\t\t\t\t\t\tvar doc = svg.parseXml(svg.ajax(url));\n\t\t\t\t\t\t\t\t\t\t\tvar fonts = doc.getElementsByTagName('font');\n\t\t\t\t\t\t\t\t\t\t\tfor (var f = 0; f < fonts.length; f++) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar font = svg.CreateElement(fonts[f]);\n\t\t\t\t\t\t\t\t\t\t\t\tsvg.Definitions[fontFamily] = font;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tsvg.Element.style.prototype = new svg.Element.ElementBase();\n\n\t\t\t// use element\n\t\t\tsvg.Element.use = function (node) {\n\t\t\t\tthis.base = svg.Element.RenderedElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.baseSetContext = this.setContext;\n\t\t\t\tthis.setContext = function (ctx) {\n\t\t\t\t\tthis.baseSetContext(ctx);\n\t\t\t\t\tif (this.attribute('x').hasValue()) ctx.translate(this.attribute('x').toPixels('x'), 0);\n\t\t\t\t\tif (this.attribute('y').hasValue()) ctx.translate(0, this.attribute('y').toPixels('y'));\n\t\t\t\t};\n\n\t\t\t\tvar element = this.getHrefAttribute().getDefinition();\n\n\t\t\t\tthis.path = function (ctx) {\n\t\t\t\t\tif (element != null) element.path(ctx);\n\t\t\t\t};\n\n\t\t\t\tthis.getBoundingBox = function () {\n\t\t\t\t\tif (element != null) return element.getBoundingBox();\n\t\t\t\t};\n\n\t\t\t\tthis.renderChildren = function (ctx) {\n\t\t\t\t\tif (element != null) {\n\t\t\t\t\t\tvar tempSvg = element;\n\t\t\t\t\t\tif (element.type == 'symbol') {\n\t\t\t\t\t\t\t// render me using a temporary svg element in symbol cases (http://www.w3.org/TR/SVG/struct.html#UseElement)\n\t\t\t\t\t\t\ttempSvg = new svg.Element.svg();\n\t\t\t\t\t\t\ttempSvg.type = 'svg';\n\t\t\t\t\t\t\ttempSvg.attributes['viewBox'] = new svg.Property('viewBox', element.attribute('viewBox').value);\n\t\t\t\t\t\t\ttempSvg.attributes['preserveAspectRatio'] = new svg.Property('preserveAspectRatio', element.attribute('preserveAspectRatio').value);\n\t\t\t\t\t\t\ttempSvg.attributes['overflow'] = new svg.Property('overflow', element.attribute('overflow').value);\n\t\t\t\t\t\t\ttempSvg.children = element.children;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tempSvg.type == 'svg') {\n\t\t\t\t\t\t\t// if symbol or svg, inherit width/height from me\n\t\t\t\t\t\t\tif (this.attribute('width').hasValue()) tempSvg.attributes['width'] = new svg.Property('width', this.attribute('width').value);\n\t\t\t\t\t\t\tif (this.attribute('height').hasValue()) tempSvg.attributes['height'] = new svg.Property('height', this.attribute('height').value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar oldParent = tempSvg.parent;\n\t\t\t\t\t\ttempSvg.parent = null;\n\t\t\t\t\t\ttempSvg.render(ctx);\n\t\t\t\t\t\ttempSvg.parent = oldParent;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.use.prototype = new svg.Element.RenderedElementBase();\n\n\t\t\t// mask element\n\t\t\tsvg.Element.mask = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.apply = function (ctx, element) {\n\t\t\t\t\t// render as temp svg\n\t\t\t\t\tvar x = this.attribute('x').toPixels('x');\n\t\t\t\t\tvar y = this.attribute('y').toPixels('y');\n\t\t\t\t\tvar width = this.attribute('width').toPixels('x');\n\t\t\t\t\tvar height = this.attribute('height').toPixels('y');\n\n\t\t\t\t\tif (width == 0 && height == 0) {\n\t\t\t\t\t\tvar bb = new svg.BoundingBox();\n\t\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\t\tbb.addBoundingBox(this.children[i].getBoundingBox());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar x = Math.floor(bb.x1);\n\t\t\t\t\t\tvar y = Math.floor(bb.y1);\n\t\t\t\t\t\tvar width = Math.floor(bb.width());\n\t\t\t\t\t\tvar height = Math.floor(bb.height());\n\t\t\t\t\t}\n\n\t\t\t\t\t// temporarily remove mask to avoid recursion\n\t\t\t\t\tvar mask = element.attribute('mask').value;\n\t\t\t\t\telement.attribute('mask').value = '';\n\n\t\t\t\t\tvar cMask = document.createElement('canvas');\n\t\t\t\t\tcMask.width = x + width;\n\t\t\t\t\tcMask.height = y + height;\n\t\t\t\t\tvar maskCtx = cMask.getContext('2d');\n\t\t\t\t\tthis.renderChildren(maskCtx);\n\n\t\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\t\tc.width = x + width;\n\t\t\t\t\tc.height = y + height;\n\t\t\t\t\tvar tempCtx = c.getContext('2d');\n\t\t\t\t\telement.render(tempCtx);\n\t\t\t\t\ttempCtx.globalCompositeOperation = 'destination-in';\n\t\t\t\t\ttempCtx.fillStyle = maskCtx.createPattern(cMask, 'no-repeat');\n\t\t\t\t\ttempCtx.fillRect(0, 0, x + width, y + height);\n\n\t\t\t\t\tctx.fillStyle = tempCtx.createPattern(c, 'no-repeat');\n\t\t\t\t\tctx.fillRect(0, 0, x + width, y + height);\n\n\t\t\t\t\t// reassign mask\n\t\t\t\t\telement.attribute('mask').value = mask;\n\t\t\t\t};\n\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// NO RENDER\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.mask.prototype = new svg.Element.ElementBase();\n\n\t\t\t// clip element\n\t\t\tsvg.Element.clipPath = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.apply = function (ctx) {\n\t\t\t\t\tvar oldBeginPath = CanvasRenderingContext2D.prototype.beginPath;\n\t\t\t\t\tCanvasRenderingContext2D.prototype.beginPath = function () {};\n\n\t\t\t\t\tvar oldClosePath = CanvasRenderingContext2D.prototype.closePath;\n\t\t\t\t\tCanvasRenderingContext2D.prototype.closePath = function () {};\n\n\t\t\t\t\toldBeginPath.call(ctx);\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tvar child = this.children[i];\n\t\t\t\t\t\tif (typeof child.path != 'undefined') {\n\t\t\t\t\t\t\tvar transform = null;\n\t\t\t\t\t\t\tif (child.style('transform', false, true).hasValue()) {\n\t\t\t\t\t\t\t\ttransform = new svg.Transform(child.style('transform', false, true).value);\n\t\t\t\t\t\t\t\ttransform.apply(ctx);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchild.path(ctx);\n\t\t\t\t\t\t\tCanvasRenderingContext2D.prototype.closePath = oldClosePath;\n\t\t\t\t\t\t\tif (transform) {\n\t\t\t\t\t\t\t\ttransform.unapply(ctx);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toldClosePath.call(ctx);\n\t\t\t\t\tctx.clip();\n\n\t\t\t\t\tCanvasRenderingContext2D.prototype.beginPath = oldBeginPath;\n\t\t\t\t\tCanvasRenderingContext2D.prototype.closePath = oldClosePath;\n\t\t\t\t};\n\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// NO RENDER\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.clipPath.prototype = new svg.Element.ElementBase();\n\n\t\t\t// filters\n\t\t\tsvg.Element.filter = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.apply = function (ctx, element) {\n\t\t\t\t\t// render as temp svg\n\t\t\t\t\tvar bb = element.getBoundingBox();\n\t\t\t\t\tvar x = Math.floor(bb.x1);\n\t\t\t\t\tvar y = Math.floor(bb.y1);\n\t\t\t\t\tvar width = Math.floor(bb.width());\n\t\t\t\t\tvar height = Math.floor(bb.height());\n\n\t\t\t\t\t// temporarily remove filter to avoid recursion\n\t\t\t\t\tvar filter = element.style('filter').value;\n\t\t\t\t\telement.style('filter').value = '';\n\n\t\t\t\t\tvar px = 0,\n\t\t\t\t\t    py = 0;\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tvar efd = this.children[i].extraFilterDistance || 0;\n\t\t\t\t\t\tpx = Math.max(px, efd);\n\t\t\t\t\t\tpy = Math.max(py, efd);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\t\tc.width = width + 2 * px;\n\t\t\t\t\tc.height = height + 2 * py;\n\t\t\t\t\tvar tempCtx = c.getContext('2d');\n\t\t\t\t\ttempCtx.translate(-x + px, -y + py);\n\t\t\t\t\telement.render(tempCtx);\n\n\t\t\t\t\t// apply filters\n\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\tif (typeof this.children[i].apply == 'function') {\n\t\t\t\t\t\t\tthis.children[i].apply(tempCtx, 0, 0, width + 2 * px, height + 2 * py);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// render on me\n\t\t\t\t\tctx.drawImage(c, 0, 0, width + 2 * px, height + 2 * py, x - px, y - py, width + 2 * px, height + 2 * py);\n\n\t\t\t\t\t// reassign filter\n\t\t\t\t\telement.style('filter', true).value = filter;\n\t\t\t\t};\n\n\t\t\t\tthis.render = function (ctx) {\n\t\t\t\t\t// NO RENDER\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.filter.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.feMorphology = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.apply = function (ctx, x, y, width, height) {\n\t\t\t\t\t// TODO: implement\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.feMorphology.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.feComposite = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.apply = function (ctx, x, y, width, height) {\n\t\t\t\t\t// TODO: implement\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.feComposite.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.feColorMatrix = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tvar matrix = svg.ToNumberArray(this.attribute('values').value);\n\t\t\t\tswitch (this.attribute('type').valueOrDefault('matrix')) {// http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement\n\t\t\t\t\tcase 'saturate':\n\t\t\t\t\t\tvar s = matrix[0];\n\t\t\t\t\t\tmatrix = [0.213 + 0.787 * s, 0.715 - 0.715 * s, 0.072 - 0.072 * s, 0, 0, 0.213 - 0.213 * s, 0.715 + 0.285 * s, 0.072 - 0.072 * s, 0, 0, 0.213 - 0.213 * s, 0.715 - 0.715 * s, 0.072 + 0.928 * s, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'hueRotate':\n\t\t\t\t\t\tvar a = matrix[0] * Math.PI / 180.0;\n\t\t\t\t\t\tvar c = function c(m1, m2, m3) {\n\t\t\t\t\t\t\treturn m1 + Math.cos(a) * m2 + Math.sin(a) * m3;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatrix = [c(0.213, 0.787, -0.213), c(0.715, -0.715, -0.715), c(0.072, -0.072, 0.928), 0, 0, c(0.213, -0.213, 0.143), c(0.715, 0.285, 0.140), c(0.072, -0.072, -0.283), 0, 0, c(0.213, -0.213, -0.787), c(0.715, -0.715, 0.715), c(0.072, 0.928, 0.072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'luminanceToAlpha':\n\t\t\t\t\t\tmatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2125, 0.7154, 0.0721, 0, 0, 0, 0, 0, 0, 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tfunction imGet(img, x, y, width, height, rgba) {\n\t\t\t\t\treturn img[y * width * 4 + x * 4 + rgba];\n\t\t\t\t}\n\n\t\t\t\tfunction imSet(img, x, y, width, height, rgba, val) {\n\t\t\t\t\timg[y * width * 4 + x * 4 + rgba] = val;\n\t\t\t\t}\n\n\t\t\t\tfunction m(i, v) {\n\t\t\t\t\tvar mi = matrix[i];\n\t\t\t\t\treturn mi * (mi < 0 ? v - 255 : v);\n\t\t\t\t}\n\n\t\t\t\tthis.apply = function (ctx, x, y, width, height) {\n\t\t\t\t\t// assuming x==0 && y==0 for now\n\t\t\t\t\tvar srcData = ctx.getImageData(0, 0, width, height);\n\t\t\t\t\tfor (var y = 0; y < height; y++) {\n\t\t\t\t\t\tfor (var x = 0; x < width; x++) {\n\t\t\t\t\t\t\tvar r = imGet(srcData.data, x, y, width, height, 0);\n\t\t\t\t\t\t\tvar g = imGet(srcData.data, x, y, width, height, 1);\n\t\t\t\t\t\t\tvar b = imGet(srcData.data, x, y, width, height, 2);\n\t\t\t\t\t\t\tvar a = imGet(srcData.data, x, y, width, height, 3);\n\t\t\t\t\t\t\timSet(srcData.data, x, y, width, height, 0, m(0, r) + m(1, g) + m(2, b) + m(3, a) + m(4, 1));\n\t\t\t\t\t\t\timSet(srcData.data, x, y, width, height, 1, m(5, r) + m(6, g) + m(7, b) + m(8, a) + m(9, 1));\n\t\t\t\t\t\t\timSet(srcData.data, x, y, width, height, 2, m(10, r) + m(11, g) + m(12, b) + m(13, a) + m(14, 1));\n\t\t\t\t\t\t\timSet(srcData.data, x, y, width, height, 3, m(15, r) + m(16, g) + m(17, b) + m(18, a) + m(19, 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.clearRect(0, 0, width, height);\n\t\t\t\t\tctx.putImageData(srcData, 0, 0);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.feColorMatrix.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.feGaussianBlur = function (node) {\n\t\t\t\tthis.base = svg.Element.ElementBase;\n\t\t\t\tthis.base(node);\n\n\t\t\t\tthis.blurRadius = Math.floor(this.attribute('stdDeviation').numValue());\n\t\t\t\tthis.extraFilterDistance = this.blurRadius;\n\n\t\t\t\tthis.apply = function (ctx, x, y, width, height) {\n\t\t\t\t\tif (typeof stackBlur.canvasRGBA == 'undefined') {\n\t\t\t\t\t\tsvg.log('ERROR: StackBlur.js must be included for blur to work');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// StackBlur requires canvas be on document\n\t\t\t\t\tctx.canvas.id = svg.UniqueId();\n\t\t\t\t\tctx.canvas.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(ctx.canvas);\n\t\t\t\t\tstackBlur.canvasRGBA(ctx.canvas.id, x, y, width, height, this.blurRadius);\n\t\t\t\t\tdocument.body.removeChild(ctx.canvas);\n\t\t\t\t};\n\t\t\t};\n\t\t\tsvg.Element.feGaussianBlur.prototype = new svg.Element.ElementBase();\n\n\t\t\t// title element, do nothing\n\t\t\tsvg.Element.title = function (node) {};\n\t\t\tsvg.Element.title.prototype = new svg.Element.ElementBase();\n\n\t\t\t// desc element, do nothing\n\t\t\tsvg.Element.desc = function (node) {};\n\t\t\tsvg.Element.desc.prototype = new svg.Element.ElementBase();\n\n\t\t\tsvg.Element.MISSING = function (node) {\n\t\t\t\tsvg.log('ERROR: Element \\'' + node.nodeName + '\\' not yet implemented.');\n\t\t\t};\n\t\t\tsvg.Element.MISSING.prototype = new svg.Element.ElementBase();\n\n\t\t\t// element factory\n\t\t\tsvg.CreateElement = function (node) {\n\t\t\t\tvar className = node.nodeName.replace(/^[^:]+:/, ''); // remove namespace\n\t\t\t\tclassName = className.replace(/\\-/g, ''); // remove dashes\n\t\t\t\tvar e = null;\n\t\t\t\tif (typeof svg.Element[className] != 'undefined') {\n\t\t\t\t\te = new svg.Element[className](node);\n\t\t\t\t} else {\n\t\t\t\t\te = new svg.Element.MISSING(node);\n\t\t\t\t}\n\n\t\t\t\te.type = node.nodeName;\n\t\t\t\treturn e;\n\t\t\t};\n\n\t\t\t// load from url\n\t\t\tsvg.load = function (ctx, url) {\n\t\t\t\tsvg.loadXml(ctx, svg.ajax(url));\n\t\t\t};\n\n\t\t\t// load from xml\n\t\t\tsvg.loadXml = function (ctx, xml) {\n\t\t\t\tsvg.loadXmlDoc(ctx, svg.parseXml(xml));\n\t\t\t};\n\n\t\t\tsvg.loadXmlDoc = function (ctx, dom) {\n\t\t\t\tsvg.init(ctx);\n\n\t\t\t\tvar mapXY = function mapXY(p) {\n\t\t\t\t\tvar e = ctx.canvas;\n\t\t\t\t\twhile (e) {\n\t\t\t\t\t\tp.x -= e.offsetLeft;\n\t\t\t\t\t\tp.y -= e.offsetTop;\n\t\t\t\t\t\te = e.offsetParent;\n\t\t\t\t\t}\n\t\t\t\t\tif (window.scrollX) p.x += window.scrollX;\n\t\t\t\t\tif (window.scrollY) p.y += window.scrollY;\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\n\t\t\t\t// bind mouse\n\t\t\t\tif (svg.opts['ignoreMouse'] != true) {\n\t\t\t\t\tctx.canvas.onclick = function (e) {\n\t\t\t\t\t\tvar p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));\n\t\t\t\t\t\tsvg.Mouse.onclick(p.x, p.y);\n\t\t\t\t\t};\n\t\t\t\t\tctx.canvas.onmousemove = function (e) {\n\t\t\t\t\t\tvar p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));\n\t\t\t\t\t\tsvg.Mouse.onmousemove(p.x, p.y);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar e = svg.CreateElement(dom.documentElement);\n\t\t\t\te.root = true;\n\t\t\t\te.addStylesFromStyleDefinition();\n\n\t\t\t\t// render loop\n\t\t\t\tvar isFirstRender = true;\n\t\t\t\tvar draw = function draw() {\n\t\t\t\t\tsvg.ViewPort.Clear();\n\t\t\t\t\tif (ctx.canvas.parentNode) svg.ViewPort.SetCurrent(ctx.canvas.parentNode.clientWidth, ctx.canvas.parentNode.clientHeight);\n\n\t\t\t\t\tif (svg.opts['ignoreDimensions'] != true) {\n\t\t\t\t\t\t// set canvas size\n\t\t\t\t\t\tif (e.style('width').hasValue()) {\n\t\t\t\t\t\t\tctx.canvas.width = e.style('width').toPixels('x');\n\t\t\t\t\t\t\tctx.canvas.style.width = ctx.canvas.width + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e.style('height').hasValue()) {\n\t\t\t\t\t\t\tctx.canvas.height = e.style('height').toPixels('y');\n\t\t\t\t\t\t\tctx.canvas.style.height = ctx.canvas.height + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar cWidth = ctx.canvas.clientWidth || ctx.canvas.width;\n\t\t\t\t\tvar cHeight = ctx.canvas.clientHeight || ctx.canvas.height;\n\t\t\t\t\tif (svg.opts['ignoreDimensions'] == true && e.style('width').hasValue() && e.style('height').hasValue()) {\n\t\t\t\t\t\tcWidth = e.style('width').toPixels('x');\n\t\t\t\t\t\tcHeight = e.style('height').toPixels('y');\n\t\t\t\t\t}\n\t\t\t\t\tsvg.ViewPort.SetCurrent(cWidth, cHeight);\n\n\t\t\t\t\tif (svg.opts['offsetX'] != null) e.attribute('x', true).value = svg.opts['offsetX'];\n\t\t\t\t\tif (svg.opts['offsetY'] != null) e.attribute('y', true).value = svg.opts['offsetY'];\n\t\t\t\t\tif (svg.opts['scaleWidth'] != null || svg.opts['scaleHeight'] != null) {\n\t\t\t\t\t\tvar xRatio = null,\n\t\t\t\t\t\t    yRatio = null,\n\t\t\t\t\t\t    viewBox = svg.ToNumberArray(e.attribute('viewBox').value);\n\n\t\t\t\t\t\tif (svg.opts['scaleWidth'] != null) {\n\t\t\t\t\t\t\tif (e.attribute('width').hasValue()) xRatio = e.attribute('width').toPixels('x') / svg.opts['scaleWidth'];else if (!isNaN(viewBox[2])) xRatio = viewBox[2] / svg.opts['scaleWidth'];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (svg.opts['scaleHeight'] != null) {\n\t\t\t\t\t\t\tif (e.attribute('height').hasValue()) yRatio = e.attribute('height').toPixels('y') / svg.opts['scaleHeight'];else if (!isNaN(viewBox[3])) yRatio = viewBox[3] / svg.opts['scaleHeight'];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (xRatio == null) {\n\t\t\t\t\t\t\txRatio = yRatio;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (yRatio == null) {\n\t\t\t\t\t\t\tyRatio = xRatio;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.attribute('width', true).value = svg.opts['scaleWidth'];\n\t\t\t\t\t\te.attribute('height', true).value = svg.opts['scaleHeight'];\n\t\t\t\t\t\te.style('transform', true, true).value += ' scale(' + 1.0 / xRatio + ',' + 1.0 / yRatio + ')';\n\t\t\t\t\t}\n\n\t\t\t\t\t// clear and render\n\t\t\t\t\tif (svg.opts['ignoreClear'] != true) {\n\t\t\t\t\t\tctx.clearRect(0, 0, cWidth, cHeight);\n\t\t\t\t\t}\n\t\t\t\t\te.render(ctx);\n\t\t\t\t\tif (isFirstRender) {\n\t\t\t\t\t\tisFirstRender = false;\n\t\t\t\t\t\tif (typeof svg.opts['renderCallback'] == 'function') svg.opts['renderCallback'](dom);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar waitingForImages = true;\n\t\t\t\tif (svg.ImagesLoaded()) {\n\t\t\t\t\twaitingForImages = false;\n\t\t\t\t\tdraw();\n\t\t\t\t}\n\t\t\t\tsvg.intervalID = setInterval(function () {\n\t\t\t\t\tvar needUpdate = false;\n\n\t\t\t\t\tif (waitingForImages && svg.ImagesLoaded()) {\n\t\t\t\t\t\twaitingForImages = false;\n\t\t\t\t\t\tneedUpdate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// need update from mouse events?\n\t\t\t\t\tif (svg.opts['ignoreMouse'] != true) {\n\t\t\t\t\t\tneedUpdate = needUpdate | svg.Mouse.hasEvents();\n\t\t\t\t\t}\n\n\t\t\t\t\t// need update from animations?\n\t\t\t\t\tif (svg.opts['ignoreAnimation'] != true) {\n\t\t\t\t\t\tfor (var i = 0; i < svg.Animations.length; i++) {\n\t\t\t\t\t\t\tneedUpdate = needUpdate | svg.Animations[i].update(1000 / svg.FRAMERATE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// need update from redraw?\n\t\t\t\t\tif (typeof svg.opts['forceRedraw'] == 'function') {\n\t\t\t\t\t\tif (svg.opts['forceRedraw']() == true) needUpdate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// render if needed\n\t\t\t\t\tif (needUpdate) {\n\t\t\t\t\t\tdraw();\n\t\t\t\t\t\tsvg.Mouse.runEvents(); // run and clear our events\n\t\t\t\t\t}\n\t\t\t\t}, 1000 / svg.FRAMERATE);\n\t\t\t};\n\n\t\t\tsvg.stop = function () {\n\t\t\t\tif (svg.intervalID) {\n\t\t\t\t\tclearInterval(svg.intervalID);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsvg.Mouse = new function () {\n\t\t\t\tthis.events = [];\n\t\t\t\tthis.hasEvents = function () {\n\t\t\t\t\treturn this.events.length != 0;\n\t\t\t\t};\n\n\t\t\t\tthis.onclick = function (x, y) {\n\t\t\t\t\tthis.events.push({ type: 'onclick', x: x, y: y,\n\t\t\t\t\t\trun: function run(e) {\n\t\t\t\t\t\t\tif (e.onclick) e.onclick();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tthis.onmousemove = function (x, y) {\n\t\t\t\t\tthis.events.push({ type: 'onmousemove', x: x, y: y,\n\t\t\t\t\t\trun: function run(e) {\n\t\t\t\t\t\t\tif (e.onmousemove) e.onmousemove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tthis.eventElements = [];\n\n\t\t\t\tthis.checkPath = function (element, ctx) {\n\t\t\t\t\tfor (var i = 0; i < this.events.length; i++) {\n\t\t\t\t\t\tvar e = this.events[i];\n\t\t\t\t\t\tif (ctx.isPointInPath && ctx.isPointInPath(e.x, e.y)) this.eventElements[i] = element;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.checkBoundingBox = function (element, bb) {\n\t\t\t\t\tfor (var i = 0; i < this.events.length; i++) {\n\t\t\t\t\t\tvar e = this.events[i];\n\t\t\t\t\t\tif (bb.isPointInBox(e.x, e.y)) this.eventElements[i] = element;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.runEvents = function () {\n\t\t\t\t\tsvg.ctx.canvas.style.cursor = '';\n\n\t\t\t\t\tfor (var i = 0; i < this.events.length; i++) {\n\t\t\t\t\t\tvar e = this.events[i];\n\t\t\t\t\t\tvar element = this.eventElements[i];\n\t\t\t\t\t\twhile (element) {\n\t\t\t\t\t\t\te.run(element);\n\t\t\t\t\t\t\telement = element.parent;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// done running, clear\n\t\t\t\t\tthis.events = [];\n\t\t\t\t\tthis.eventElements = [];\n\t\t\t\t};\n\t\t\t}();\n\n\t\t\treturn svg;\n\t\t}\n\n\t\tif (typeof CanvasRenderingContext2D != 'undefined') {\n\t\t\tCanvasRenderingContext2D.prototype.drawSvg = function (s, dx, dy, dw, dh, opts) {\n\t\t\t\tvar cOpts = {\n\t\t\t\t\tignoreMouse: true,\n\t\t\t\t\tignoreAnimation: true,\n\t\t\t\t\tignoreDimensions: true,\n\t\t\t\t\tignoreClear: true,\n\t\t\t\t\toffsetX: dx,\n\t\t\t\t\toffsetY: dy,\n\t\t\t\t\tscaleWidth: dw,\n\t\t\t\t\tscaleHeight: dh\n\t\t\t\t};\n\n\t\t\t\tfor (var prop in opts) {\n\t\t\t\t\tif (opts.hasOwnProperty(prop)) {\n\t\t\t\t\t\tcOpts[prop] = opts[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcanvg(this.canvas, s, cOpts);\n\t\t\t};\n\t\t}\n\n\t\treturn canvg;\n\t});\n});\n\n/*import {\n\tcanvg\n} from './canvg/index.js';*/\nfunction svgAImg(jqContenedor, fncallback) {\n\n\tvar elsvg = jqContenedor.find('svg');\n\n\tif (elsvg.length === 0) {\n\t\tif (fncallback) {\n\t\t\tfncallback();\n\t\t}\n\t\treturn;\n\t}\n\tjqContenedor.find('g').removeAttr('clip-path');\n\tjqContenedor.find('g.c3-event-rects').remove();\n\tjqContenedor.find('g.c3-grid').remove();\n\tjqContenedor.find('g.c3-regions').remove();\n\tjqContenedor.find('g.c3-axis-y2').remove();\n\tjqContenedor.find('path.domain').attr('stroke-width', 0.5).css('stroke-width', '0.2px');\n\n\tvar svgData = new XMLSerializer().serializeToString(elsvg[0]);\n\n\telsvg.hide();\n\n\tvar canvas = document.createElement(\"canvas\");\n\tcanvas.setAttribute('id', 'elcanvas');\n\tjqContenedor[0].appendChild(canvas);\n\n\tcanvg('elcanvas', svgData, {\n\t\tignoreMouse: true,\n\t\tignoreAnimation: true,\n\t\tlog: true\n\t});\n\n\tjqContenedor.find('.laimg').remove();\n\n\tvar laimg = new Image();\n\tlaimg.className = 'laimg';\n\tjqContenedor[0].appendChild(laimg);\n\tlaimg.src = canvas.toDataURL();\n\n\tjqContenedor.find('#elcanvas').remove();\n\tif (fncallback) {\n\t\tfncallback(laimg);\n\t}\n\treturn;\n}\n\nfunction svgACanvas(jqContenedor, fncallback) {\n\n\tvar elsvg = jqContenedor.find('svg');\n\n\tjqContenedor.find('svg').css('font', '10px sans-serif');\n\n\tjqContenedor.find('path').attr('fill', 'none');\n\n\tjqContenedor.find('.tick line, path.domain').attr('stroke', 'black');\n\n\tjqContenedor.find('canvas').remove();\n\n\tvar tooltip = jqContenedor.find('.c3-tooltip-container').detach();\n\n\tvar content = jqContenedor.html().trim();\n\n\tvar canvas = document.createElement(\"canvas\");\n\tjqContenedor[0].appendChild(canvas);\n\n\telsvg.hide();\n\tjqContenedor.append(tooltip);\n\tcanvg(canvas, content);\n\n\tif (fncallback) {\n\t\tfncallback(canvas);\n\t}\n\treturn;\n}\n\nfunction hiddenClone(jqContenedor) {\n\tvar clone = jqContenedor[0].cloneNode(true);\n\n\t// Position element relatively within the\n\t// body but still out of the viewport\n\tvar style = clone.style;\n\tstyle.position = 'relative';\n\tstyle['box-sizing'] = 'content-box';\n\tstyle.width = jqContenedor.width() + 'px';\n\tstyle.height = jqContenedor.height() + 'px';\n\tstyle.top = window.innerHeight + 'px';\n\tstyle.left = 0;\n\n\t// Append clone to body and return the clone\n\tdocument.body.appendChild(clone);\n\tconsole.zdebug('poor clone', clone);\n\treturn clone;\n}\n\nvar infoScreenShot = function infoScreenShot(jqContenedor) {\n\n\tjqContenedor.find('.canvg').each(function () {\n\t\tsvgAImg(jQuery(this));\n\t});\n\n\tvar clone = hiddenClone(jqContenedor);\n\n\treturn html2canvas(clone, {\n\t\tuseCORS: true,\n\t\tallowTaint: false,\n\t\tlogging: false\n\t}).then(function (canvas) {\n\t\tdocument.body.removeChild(clone);\n\t\tconsole.log('html2canvas done', canvas);\n\t\tjQuery('#supercontenedor').css({\n\t\t\t'opacity': '1'\n\t\t});\n\t\treturn canvas.toDataURL(\"image/png\");\n\t});\n};\n\nvar ig_screenshot = {\n\thtml2canvas: html2canvas,\n\tinfoScreenShot: infoScreenShot,\n\tcanvg: canvg,\n\thiddenClone: hiddenClone,\n\tsvgAImg: svgAImg,\n\tsvgACanvas: svgACanvas\n};\n\nexport { html2canvas, infoScreenShot, canvg, hiddenClone, svgAImg, svgACanvas };\nexport default ig_screenshot;\n"],"names":["unwrapExports","x","__esModule","createCommonjsModule","fn","module","exports","PromiseCapability","C","resolve","reject","this","promise","$$resolve","$$reject","undefined","TypeError","_aFunction","error","type","RangeError","errors","map","array","result","length","mapDomain","string","parts","split","replace","regexSeparators","join","ucs2decode","output","counter","value","charCodeAt","extra","push","capitalize","m","p1","p2","toUpperCase","BlurStack","r","g","b","a","next","svgAImg","jqContenedor","fncallback","elsvg","find","removeAttr","remove","attr","css","svgData","XMLSerializer","serializeToString","hide","canvas","document","createElement","setAttribute","appendChild","canvg","ignoreMouse","ignoreAnimation","log","laimg","Image","className","src","toDataURL","svgACanvas","tooltip","detach","content","html","trim","append","hiddenClone","clone","cloneNode","style","position","width","height","top","window","innerHeight","left","body","console","zdebug","commonjsGlobal","global","self","_global","Math","Function","__g","_core","core","version","__e","it","_ctx","that","call","c","apply","arguments","_isObject","_anObject","_fails","exec","e","_descriptors","Object","defineProperty","get","document$1","is","_domCreate","_ie8DomDefine","_toPrimitive","S","val","toString","valueOf","dP","_objectDp","f","O","P","Attributes","_propertyDesc","bitmap","enumerable","configurable","writable","_hide","object","key","$export","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","target","virtual","R","U","_export","hasOwnProperty","_has","_cof","slice","_iobject","propertyIsEnumerable","_defined","_toIobject","ceil","floor","_toInteger","isNaN","min","_toLength","max","min$1","_toAbsoluteIndex","index","store","_shared","id","px","random","_uid","concat","shared","_sharedKey","arrayIndexOf","IS_INCLUDES","$this","el","fromIndex","_arrayIncludes","IE_PROTO","_objectKeysInternal","names","i","_enumBugKeys","_objectKeys","keys","_objectGops","getOwnPropertySymbols","_objectPie","_toObject","$assign","assign","_objectAssign","A","Symbol","K","forEach","k","T","aLen","getSymbols","isEnum","j","assign$2","default","_extends$1","_assign2","obj","_interopRequireDefault","prototype","_redefine","_iterators","_objectDps","defineProperties","Properties","document$2","_html","documentElement","IE_PROTO$1","Empty","createDict","iframeDocument","iframe","display","contentWindow","open","write","lt","close","_objectCreate","create","_wks","USE_SYMBOL","def","TAG","_setToStringTag","tag","stat","IteratorPrototype","_iterCreate","Constructor","NAME","IE_PROTO$2","ObjectProto","_objectGpo","getPrototypeOf","constructor","ITERATOR","BUGGY","returnThis","_iterDefine","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","$at","TO_STRING","pos","s","String","l","charAt","_stringAt","iterated","_t","_i","point","done","_iterStep","Array","_k","Arguments","TO_STRING_TAG","DOMIterables","i$1","Collection","_wksExt","iterator$2","iterator","_meta","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","KEY","NEED","fastKey","getWeak","onFreeze","_wksDefine","$Symbol","_enumKeys","symbols","_isArray","isArray","arg","hiddenKeys","_objectGopn","getOwnPropertyNames","gOPN$1","toString$1","windowNames","getWindowNames","_objectGopnExt","gOPD$1","getOwnPropertyDescriptor","_objectGopd","gOPD","dP$1","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto$1","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","set","es6Symbols","wellKnownSymbols","for","keyFor","useSetter","useSimple","replacer","$replacer","args","symbol$2","symbol","defer","channel","port","_typeof","_iterator2","_symbol2","TAG$1","ARG","tryGet","_classof","callee","_anInstance","forbiddenField","_iterCall","ret","ITERATOR$1","ArrayProto","_isArrayIter","ITERATOR$2","core_getIteratorMethod","getIteratorMethod","_forOf","BREAK","RETURN","iterable","step","iterFn","SPECIES","_speciesConstructor","_invoke","un","process$1","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","queue","run","listener","event","data","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","_task","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","process$2","Promise","isNode$1","_newPromiseCapability","_perform","v","_promiseResolve","promiseCapability","SPECIES$1","ITERATOR$3","SAFE_CLOSING","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","then","_microtask","TypeError$1","$Promise","isNode","empty","newPromiseCapability","USE_NATIVE$1","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","err","safe","_redefineAll","onFulfilled","onRejected","catch","_setSpecies","capability","skipClosing","arr","iter","_iterDetect","all","remaining","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","promise$1","_Promise","_classCallCheck","instance","$Object","defineProperty$3","desc","defineProperty$1","_createClass","_defineProperty2","props","descriptor","protoProps","staticProps","PATH","VECTOR","BEZIER_CURVE","CIRCLE","ITERATOR$4","isIterable$2","isIterable","getIterator$2","getIterator","_slicedToArray","_isIterable3","_getIterator3","sliceIterator","_arr","_e","HEX3","hex3","match","parseInt","HEX6","hex6","substring","RGB","rgb","Number","RGBA","rgba","fromArray","namedColor","color","NAMED_COLORS","toLowerCase","Color","_ref","_ref2","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","TRANSPARENT","TEXT_DECORATION_STYLE","SOLID","DOUBLE","DOTTED","DASHED","WAVY","TEXT_DECORATION","NONE","TEXT_DECORATION_LINE","UNDERLINE","OVERLINE","LINE_THROUGH","BLINK","parseLine","line","parseTextDecorationLine","parseTextDecorationStyle","parseTextDecoration","textDecorationLine","textDecoration","textDecorationColor","textDecorationStyle","CanvasRenderer","options","ctx","getContext","scale","textBaseline","logger","clipPaths","callback","_this","save","path","clip","restore","image","destination","drawImage","fillStyle","fill","_path","_this2","beginPath","start","moveTo","y","lineTo","bezierCurveTo","startControl","endControl","end","arc","radius","PI","closePath","fillRect","bounds","gradient","linearGradient","createLinearGradient","direction","x1","y1","x0","y0","colorStops","colorStop","addColorStop","stop","imageSize","offsetX","offsetY","createPattern","resizeImage","translate","textBounds","font","textShadows","_this3","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","text","reverse","textShadow","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","blur","fillText","baseline","fontMetrics","getMetrics","rectangle","round","middle","size","ownerDocument","opacity","globalAlpha","matrix","transform","Logger","Date","_len","_key","bind","_len2","_key2","contains","bit","copyCSSStyles","property","item","setProperty","getPropertyValue","LENGTH_TYPE","PX","PERCENTAGE","Length","substr","parsedValue","parseFloat","parentLength","isPercentage","Size","Vector","lerp","t","BezierCurve","firstHalf","ab","bc","cd","abbc","bccd","dest","Bounds","h","clientRect","parseBounds","fromClientRect","getBoundingClientRect","calculatePaddingBox","borders","borderWidth","calculateContentBox","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","parseDocumentSize","Error","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","parsePathForBorder","curves","borderSide","createPathFromCurves","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","outer1","inner1","outer2","inner2","subdivide","calculateBorderBoxPath","calculatePaddingBoxPath","parseBoundCurves","borderRadius","HALF_WIDTH","HALF_HEIGHT","tlh","CORNER","TOP_LEFT","getAbsoluteValue","tlv","trh","TOP_RIGHT","trv","brh","BOTTOM_RIGHT","brv","blh","BOTTOM_LEFT","blv","topWidth","rightHeight","bottomWidth","leftHeight","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","BACKGROUND_REPEAT","REPEAT","NO_REPEAT","REPEAT_X","REPEAT_Y","BACKGROUND_SIZE","AUTO","CONTAIN","COVER","LENGTH","BACKGROUND_CLIP","BORDER_BOX","PADDING_BOX","CONTENT_BOX","BACKGROUND_ORIGIN","BackgroundSize","calculateBackgroundSize","backgroundImage","targetRatio","currentRatio","AUTO_SIZE","calculateBackgroungPaintingArea","calculateBackgroundPosition","calculateBackgroundRepeatPath","background","backgroundPositioningArea","repeat","parseBackground","imageLoader","backgroundColor","parseBackgroundImages","backgroundClip","parseBackgroundClip","backgroundOrigin","parseBackgroundOrigin","parseBackgroundRepeat","backgroundRepeat","sources","parseBackgroundImage","method","loadImage","positions","backgroundPosition","repeats","sizes","backgroundSize","parseBackgroundSize","parseBackgoundPosition","whitespace","results","quote","definition","mode","numParen","appendResult","prefix","prefix_i","indexOf","test","exp","_objectSap","keys$1","_Object$keys","BORDER_STYLE","SIDES","TOP","RIGHT","BOTTOM","LEFT","parseBorderStyle","parseBorder","side","borderColor","borderStyle","SIDES$1","parseBorderRadius","_value$split$map","_value$split$map2","horizontal","vertical","DISPLAY","BLOCK","INLINE","RUN_IN","FLOW","FLOW_ROOT","TABLE","FLEX","GRID","RUBY","SUBGRID","LIST_ITEM","TABLE_ROW_GROUP","TABLE_HEADER_GROUP","TABLE_FOOTER_GROUP","TABLE_ROW","TABLE_CELL","TABLE_COLUMN_GROUP","TABLE_COLUMN","TABLE_CAPTION","RUBY_BASE","RUBY_TEXT","RUBY_BASE_CONTAINER","RUBY_TEXT_CONTAINER","CONTENTS","INLINE_BLOCK","INLINE_LIST_ITEM","INLINE_TABLE","INLINE_FLEX","INLINE_GRID","parseDisplayValue","setDisplayBit","parseDisplay","reduce","FLOAT","INLINE_START","INLINE_END","parseCSSFloat","float","parseFontWeight","weight","parseFont","parseLetterSpacing","letterSpacing","OVERFLOW","VISIBLE","SCROLL","parseOverflow","overflow","SIDES$2","parsePadding","POSITION","STATIC","RELATIVE","ABSOLUTE","FIXED","STICKY","parsePosition","NUMBER","parseTextShadow","currentValue","isLength","shadows","numParens","appendValue","appendShadow","splice","TEXT_TRANSFORM","LOWERCASE","UPPERCASE","CAPITALIZE","parseTextTransform","textTransform","toFloat","MATRIX","parseTransform","parseTransformMatrix","webkitTransform","mozTransform","msTransform","oTransform","transformOrigin","parseTransformOrigin","webkitTransformOrigin","mozTransformOrigin","msTransformOrigin","oTransformOrigin","origin","matrix3d","VISIBILITY","COLLAPSE","parseVisibility","visibility","parseZIndex","zIndex","auto","order","maxInt","regexPunycode","regexNonASCII","not-basic","invalid-input","floor$1","stringFromCharCode","fromCharCode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","decode","input","inputLength","n","bias","basic","lastIndexOf","oldi","baseMinusT","fromCodePoint","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","return","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","q","qMinusT","punycode_3","ucs2","babelHelpers","toConsumableArray","toASCII","toUnicode","ForeignObjectRenderer","element","svg","createForeignObjectSVG","loadSerializedSVG","img","xmlns","createElementNS","foreignObject","setAttributeNS","onload","onerror","encodeURIComponent","testRangeBounds","createRange","range","testElement","TEST_HEIGHT","selectNode","rangeBounds","rangeHeight","testBase64","complete","testCORS","crossOrigin","testResponseType","XMLHttpRequest","responseType","testSVG","isGreenPixel","testForeignObject","greenImageSrc","getImageData","FEATURES","SUPPORT_RANGE_BOUNDS","SUPPORT_SVG_DRAWING","SUPPORT_BASE64_DRAWING","_value","SUPPORT_FOREIGNOBJECT_DRAWING","SUPPORT_CORS_IMAGES","SUPPORT_RESPONSE_TYPE","SUPPORT_CORS_XHR","UNICODE","hasUnicodeCharacters","encodeCodePoint","TextBounds","parseTextBounds","codePoints","textList","splitWords","offset","getRangeBounds","replacementNode","splitText","getWrapperBounds","parentNode","replaceChild","firstChild","setStart","setEnd","words","onWordBoundary","word","isWordBoundary","characterCode","TextContainer","_transform","Circle","INPUT_COLOR","INPUT_BORDER_COLOR","INPUT_BACKGROUND_COLOR","INPUT_BORDER","INPUT_BORDERS","INPUT_BACKGROUND","RADIO_BORDER_RADIUS","RADIO_BORDER_RADIUS_TUPLE","INPUT_RADIO_BORDER_RADIUS","CHECKBOX_BORDER_RADIUS","CHECKBOX_BORDER_RADIUS_TUPLE","INPUT_CHECKBOX_BORDER_RADIUS","getInputBorderRadius","inlineInputElement","container","checked","childNodes","inlineFormElement","getInputValue","inlineTextAreaElement","inlineSelectElement","option","selectedIndex","reformatInputBounds","allowLinebreak","defaultView","getComputedStyle","whiteSpace","fromTextNode","placeholder","INPUT_TAGS","NodeContainer","IS_INPUT","border","HTMLInputElement","tagName","isTransformed","curvedBounds","getImage","parentClips","getClipPaths","isRootElement","isFloating","isAbsolutelyPositioned","isPositioned","SVGSVGElement","currentSrc","loadCanvas","iframeKey","getAttribute","StackingContext","treatAsRealStackingContext","contexts","children","getOpacity","getRealParentStackingContext","NodeParser","stack","parseNodeTree","IGNORED_NODE_NAMES","nextNode","childNode","nextSibling","Text","HTMLElement","nodeName","isVisible","SHOULD_TRAVERSE_CHILDREN","createsRealStackingContext","createsStackingContext","parentStack","childStack","_container","_treatAsRealStackingContext","_parentStack","_childStack","isPositionedWithZIndex","isBodyWithTransparentRoot","isTransparent","FontMetrics","_data","_document","span","margin","verticalAlign","offsetTop","lineHeight","_parseMetrics","ANGLE","parseAngle","angle","SIDE_OR_CORNER","PERCENTAGE_ANGLES","ENDS_WITH_LENGTH","FROM_TO","parseGradient","parseLinearGradient","filter","HAS_SIDE_OR_CORNER","HAS_DIRECTION","calculateGradientDirection","parseSideOrCorner","parsePercentageAngle","firstColorStopIndex","HAS_LENGTH","lastSpaceIndex","_color","_stop","lineLength","pow","abs","absoluteValuedColorStops","previousColorStop","_stop2","steps","stepSize","radian","HALF_LINE_LENGTH","sin","cos","parseTopRight","acos","_angle$split$map","_angle$split$map2","ratio","atan","Renderer","render","renderNodeBackgroundAndBorders","renderNodeContent","child","renderTextNode","drawShape","_image","imageStore","contentBox","_width","_height","paths","HAS_BACKGROUND","renderableBorders","backgroundPaintingArea","renderBackgroundImage","renderBorder","renderBackgroundRepeat","_gradient","_bounds","renderLinearGradient","_bounds2","paddingBox","backgroundImageSize","_offsetX","_offsetY","renderRepeat","curvePoints","_this4","_opacity","setOpacity","renderStackContent","_splitStackingContext","splitStackingContexts","_splitStackingContext2","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","_splitDescendants","splitDescendants","_splitDescendants2","inlineLevel","nonInlineLevel","sort","sortByZIndex","renderStack","renderNode","getTarget","isInlineLevel","Proxy","proxy","xhr","XDomainRequest","status","response","reader","FileReader","readAsDataURL","responseText","imageTimeout","timeout","ontimeout","send","ImageLoader","_window","getOrigin","location","href","cache","_index","hasImageInCache","isSVG","allowTaint","addImage","isInlineBase64Image","isSameOrigin","_loadImage","useCORS","isInlineImage","xhrImage","onreadystatechange","readyState","imageLoadHandler","supportsDataImages","url","link","_link","protocol","hostname","_this5","keys$$1","str","images","ImageStore","_keys","_images","INLINE_SVG","INLINE_BASE64","INLINE_IMG","DocumentCloner","copyInline","renderer","referenceElement","scrolledElements","copyStyles","inlineImages","inlineImage","backgroundImages","HTMLImageElement","clonedChild","HTMLCanvasElement","HTMLIFrameElement","tempIframe","generateIframeKey","getIframeDocumentElement","async","removeContainer","windowWidth","innerWidth","windowHeight","pageXOffset","pageYOffset","iframeCanvas","nodeType","Node","TEXT_NODE","nodeValue","createElementClone","clonedReferenceElement","HTMLBodyElement","createPseudoHideStyles","ELEMENT_NODE","inlineAllImages","inlinePseudoElement","PSEUDO_BEFORE","PSEUDO_AFTER","scrollTop","scrollLeft","cloneCanvasContents","restoreOwnerScroll","scrollTo","clonedCanvas","putImageData","pseudoElt","stripQuotes","URL_REGEXP","anonymousReplacedElement","textContent","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","insertBefore","first","createStyles","styles","innerHTML","initNode","cloneWindow","cloner","cloneIframeContainer","scrolling","documentClone","interval","setInterval","clearInterval","navigator","userAgent","scrollY","scrollX","adoptNode","renderElement","windowBounds","documentBackgroundColor","bodyBackgroundColor","supportForeignObject","ready","clonedElement","clonedDocument","renderOptions","html2canvas","conf","config","defaultOptions","devicePixelRatio","rgbcolor","color_string","alpha","simple_colors","feldspar","lightslateblue","violetred","color_defs","re","example","bits","processor","channels","toRGB","toRGBA","toHex","getHelpXML","examples","sc","xml","list_item","list_color","RGBColor","example_div","cssText","list_item_value","mul_table","shg_table","stackblur","pixels","p","yp","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pr","pg","pb","pa","rbs","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","factory","stackBlur","getSelectorSpecificity","selector","typeCount","findMatch","regex","matches","attributeRegex","idRegex","classRegex","pseudoElementRegex","pseudoClassWithBracketsRegex","pseudoClassRegex","elementRegex","build","opts","FRAMERATE","MAX_VIRTUAL_PIXELS","msg","init","uniqueId","UniqueId","Definitions","Styles","StylesSpecificity","Animations","Images","ViewPort","viewPorts","Clear","SetCurrent","RemoveCurrent","pop","Current","ComputeSize","d","ImagesLoaded","loaded","compressSpaces","ajax","AJAX","ActiveXObject","parseXml","Windows","Data","Xml","xmlDoc","Dom","XmlDocument","settings","XmlLoadSettings","prohibitDtd","loadXml","DOMParser","loadXML","parser","parseFromString","Property","getValue","hasValue","numValue","valueOrDefault","numValueOrDefault","addOpacity","opacityProp","newValue","getDefinition","isUrlDefinition","getFillStyleDefinition","createGradient","getHrefAttribute","pt","attribute","getDPI","viewPort","getEM","em","Font","Parse","toPixels","getUnits","processPercent","toMilliseconds","toRadians","textBaselineMapping","before-edge","text-before-edge","central","after-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical","toTextBaseline","Variants","Weights","CreateFont","inherit","ff","ToNumberArray","Point","angleTo","atan2","applyTransform","xp","CreatePoint","CreatePath","BoundingBox","x2","y2","NaN","addPoint","addX","addY","addBoundingBox","bb","addQuadraticCurve","p0x","p0y","p1x","p1y","p2x","p2y","cp1x","cp1y","cp2x","cp2y","addBezierCurve","p3x","p3y","p0","p3","b2ac","t1","t2","isPointInBox","Transform","Type","unapply","applyToPoint","rotate","cx","cy","det","SkewBase","skewX","skewY","transforms","transformType","AspectRatio","aspectRatio","desiredWidth","desiredHeight","minX","minY","refX","refY","align","meetOrSlice","scaleX","scaleY","scaleMin","scaleMax","Element","EmptyProperty","ElementBase","attributes","stylesSpecificity","createIfNotExists","skipAncestors","ps","mask","setContext","renderChildren","clearContext","addChild","CreateElement","addStylesFromStyleDefinition","matchesSelector","specificity","existingSpecificity","allUppercase","RegExp","normalizeAttributeName","captureTextNodes","tspan","RenderedElementBase","fs","strokeStyle","newLineWidth","lineWidth","lineCap","lineJoin","miterLimit","gaps","setLineDash","webkitLineDash","mozDash","lineDashOffset","webkitLineDashOffset","mozDashOffset","PathElementBase","Mouse","checkPath","stroke","markers","getMarkers","marker","getBoundingBox","baseClearContext","baseSetContext","root","viewBox","rect","rx","ry","quadraticCurveTo","circle","ellipse","KAPPA","getPoints","points","polyline","polygon","basePath","PathParser","tokens","reset","command","previousCommand","control","current","angles","isEnd","isCommandOrEnd","isRelativeCommand","getToken","getScalar","nextCommand","getPoint","makeAbsolute","getAsControlPoint","getAsCurrentPoint","getReflectedControlPoint","addMarker","from","priorTo","addMarkerAngle","getMarkerPoints","getMarkerAngles","pp","newP","curr","cntrl","cp","xAxisRotation","largeArcFlag","sweepFlag","currp","cpp","centp","u","a1","ad","dir","ah","halfWay","sx","sy","pattern","tempSvg","cctx","baseRender","defs","GradientBase","stops","getGradient","gradientUnits","attributesToInherit","inheritStopContainer","stopsContainer","attributeToInherit","parentOpacityProp","addParentOpacity","rootView","group","tempCtx","radialGradient","fx","fy","createRadialGradient","stopColor","AnimateBase","duration","begin","maxDuration","getProperty","attributeType","attributeName","initialValue","initialUnits","removed","calcValue","update","frozen","animationFrozen","animationFrozenValue","updated","to","progress","lb","ub","animate","animateColor","animateTransform","horizAdvX","isRTL","isArabic","fontFace","missingGlyph","glyphs","arabicForm","unicode","fontface","ascent","descent","unitsPerEm","missingglyph","glyph","getText","getAnchorDelta","renderChild","startI","textAnchor","measureTextRecursive","textParent","measureText","TextElementBase","getGlyph","customFont","strokeText","dx","lw","measure","textToMeasure","tref","hasText","baseRenderChildren","checkBoundingBox","onclick","onmousemove","cursor","isSvg","drawSvg","cssDefs","cssDef","cssClasses","cssProps","cssClass","prop","srcs","urlStart","urlEnd","fonts","getElementsByTagName","use","oldParent","cMask","maskCtx","globalCompositeOperation","clipPath","oldBeginPath","CanvasRenderingContext2D","oldClosePath","py","efd","extraFilterDistance","feMorphology","feComposite","feColorMatrix","imGet","imSet","mi","m1","m2","m3","srcData","clearRect","feGaussianBlur","blurRadius","canvasRGBA","title","MISSING","load","loadXmlDoc","dom","mapXY","offsetLeft","offsetParent","clientX","clientY","isFirstRender","draw","cWidth","cHeight","xRatio","yRatio","waitingForImages","intervalID","needUpdate","hasEvents","runEvents","events","eventElements","isPointInPath","getElementById","svgTags","querySelectorAll","svgTag","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","jQuery","Zepto","$","Sizzle","dy","dw","dh","cOpts","ignoreDimensions","ignoreClear","scaleWidth","scaleHeight","infoScreenShot","each","logging","ig_screenshot"],"mappings":"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AAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEnwCC,IAAa,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAA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"}